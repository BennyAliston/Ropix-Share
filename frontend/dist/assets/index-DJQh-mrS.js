function Yd(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const h=Object.getOwnPropertyDescriptor(a,c);h&&Object.defineProperty(e,c,h.get?h:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=i(c);fetch(c.href,h)}})();var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Of={exports:{}},Ta={},bf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=Symbol.for("react.element"),Zd=Symbol.for("react.portal"),Kd=Symbol.for("react.fragment"),Qd=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),Jd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),e2=Symbol.for("react.forward_ref"),t2=Symbol.for("react.suspense"),n2=Symbol.for("react.memo"),r2=Symbol.for("react.lazy"),r1=Symbol.iterator;function i2(e){return e===null||typeof e!="object"?null:(e=r1&&e[r1]||e["@@iterator"],typeof e=="function"?e:null)}var Df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mf=Object.assign,kf={};function es(e,n,i){this.props=e,this.context=n,this.refs=kf,this.updater=i||Df}es.prototype.isReactComponent={};es.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bf(){}Bf.prototype=es.prototype;function ju(e,n,i){this.props=e,this.context=n,this.refs=kf,this.updater=i||Df}var Wu=ju.prototype=new Bf;Wu.constructor=ju;Mf(Wu,es.prototype);Wu.isPureReactComponent=!0;var i1=Array.isArray,Pf=Object.prototype.hasOwnProperty,Gu={current:null},Lf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,n,i){var a,c={},h=null,p=null;if(n!=null)for(a in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(h=""+n.key),n)Pf.call(n,a)&&!Lf.hasOwnProperty(a)&&(c[a]=n[a]);var E=arguments.length-2;if(E===1)c.children=i;else if(1<E){for(var m=Array(E),x=0;x<E;x++)m[x]=arguments[x+2];c.children=m}if(e&&e.defaultProps)for(a in E=e.defaultProps,E)c[a]===void 0&&(c[a]=E[a]);return{$$typeof:ro,type:e,key:h,ref:p,props:c,_owner:Gu.current}}function s2(e,n){return{$$typeof:ro,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Xu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ro}function o2(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var s1=/\/+/g;function ul(e,n){return typeof e=="object"&&e!==null&&e.key!=null?o2(""+e.key):n.toString(36)}function Fo(e,n,i,a,c){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case ro:case Zd:p=!0}}if(p)return p=e,c=c(p),e=a===""?"."+ul(p,0):a,i1(c)?(i="",e!=null&&(i=e.replace(s1,"$&/")+"/"),Fo(c,n,i,"",function(x){return x})):c!=null&&(Xu(c)&&(c=s2(c,i+(!c.key||p&&p.key===c.key?"":(""+c.key).replace(s1,"$&/")+"/")+e)),n.push(c)),1;if(p=0,a=a===""?".":a+":",i1(e))for(var E=0;E<e.length;E++){h=e[E];var m=a+ul(h,E);p+=Fo(h,n,i,m,c)}else if(m=i2(e),typeof m=="function")for(e=m.call(e),E=0;!(h=e.next()).done;)h=h.value,m=a+ul(h,E++),p+=Fo(h,n,i,m,c);else if(h==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function yo(e,n,i){if(e==null)return e;var a=[],c=0;return Fo(e,a,"","",function(h){return n.call(i,h,c++)}),a}function a2(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},Uo={transition:null},l2={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Gu};function Uf(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:yo,forEach:function(e,n,i){yo(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return yo(e,function(){n++}),n},toArray:function(e){return yo(e,function(n){return n})||[]},only:function(e){if(!Xu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=es;Re.Fragment=Kd;Re.Profiler=qd;Re.PureComponent=ju;Re.StrictMode=Qd;Re.Suspense=t2;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l2;Re.act=Uf;Re.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Mf({},e.props),c=e.key,h=e.ref,p=e._owner;if(n!=null){if(n.ref!==void 0&&(h=n.ref,p=Gu.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var E=e.type.defaultProps;for(m in n)Pf.call(n,m)&&!Lf.hasOwnProperty(m)&&(a[m]=n[m]===void 0&&E!==void 0?E[m]:n[m])}var m=arguments.length-2;if(m===1)a.children=i;else if(1<m){E=Array(m);for(var x=0;x<m;x++)E[x]=arguments[x+2];a.children=E}return{$$typeof:ro,type:e.type,key:c,ref:h,props:a,_owner:p}};Re.createContext=function(e){return e={$$typeof:$d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jd,_context:e},e.Consumer=e};Re.createElement=Ff;Re.createFactory=function(e){var n=Ff.bind(null,e);return n.type=e,n};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:e2,render:e}};Re.isValidElement=Xu;Re.lazy=function(e){return{$$typeof:r2,_payload:{_status:-1,_result:e},_init:a2}};Re.memo=function(e,n){return{$$typeof:n2,type:e,compare:n===void 0?null:n}};Re.startTransition=function(e){var n=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=n}};Re.unstable_act=Uf;Re.useCallback=function(e,n){return Jt.current.useCallback(e,n)};Re.useContext=function(e){return Jt.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};Re.useEffect=function(e,n){return Jt.current.useEffect(e,n)};Re.useId=function(){return Jt.current.useId()};Re.useImperativeHandle=function(e,n,i){return Jt.current.useImperativeHandle(e,n,i)};Re.useInsertionEffect=function(e,n){return Jt.current.useInsertionEffect(e,n)};Re.useLayoutEffect=function(e,n){return Jt.current.useLayoutEffect(e,n)};Re.useMemo=function(e,n){return Jt.current.useMemo(e,n)};Re.useReducer=function(e,n,i){return Jt.current.useReducer(e,n,i)};Re.useRef=function(e){return Jt.current.useRef(e)};Re.useState=function(e){return Jt.current.useState(e)};Re.useSyncExternalStore=function(e,n,i){return Jt.current.useSyncExternalStore(e,n,i)};Re.useTransition=function(){return Jt.current.useTransition()};Re.version="18.3.1";bf.exports=Re;var Ee=bf.exports;const Ct=Rf(Ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=Ee,c2=Symbol.for("react.element"),f2=Symbol.for("react.fragment"),h2=Object.prototype.hasOwnProperty,d2=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g2={key:!0,ref:!0,__self:!0,__source:!0};function Vf(e,n,i){var a,c={},h=null,p=null;i!==void 0&&(h=""+i),n.key!==void 0&&(h=""+n.key),n.ref!==void 0&&(p=n.ref);for(a in n)h2.call(n,a)&&!g2.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:c2,type:e,key:h,ref:p,props:c,_owner:d2.current}}Ta.Fragment=f2;Ta.jsx=Vf;Ta.jsxs=Vf;Of.exports=Ta;var B=Of.exports,Vl={},zf={exports:{}},An={},Hf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ie,fe){var ge=ie.length;ie.push(fe);e:for(;0<ge;){var He=ge-1>>>1,Ae=ie[He];if(0<c(Ae,fe))ie[He]=fe,ie[ge]=Ae,ge=He;else break e}}function i(ie){return ie.length===0?null:ie[0]}function a(ie){if(ie.length===0)return null;var fe=ie[0],ge=ie.pop();if(ge!==fe){ie[0]=ge;e:for(var He=0,Ae=ie.length,Ot=Ae>>>1;He<Ot;){var Le=2*(He+1)-1,Sn=ie[Le],ce=Le+1,Ln=ie[ce];if(0>c(Sn,ge))ce<Ae&&0>c(Ln,Sn)?(ie[He]=Ln,ie[ce]=ge,He=ce):(ie[He]=Sn,ie[Le]=ge,He=Le);else if(ce<Ae&&0>c(Ln,ge))ie[He]=Ln,ie[ce]=ge,He=ce;else break e}}return fe}function c(ie,fe){var ge=ie.sortIndex-fe.sortIndex;return ge!==0?ge:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var p=Date,E=p.now();e.unstable_now=function(){return p.now()-E}}var m=[],x=[],A=1,S=null,R=3,k=!1,U=!1,F=!1,te=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ie){for(var fe=i(x);fe!==null;){if(fe.callback===null)a(x);else if(fe.startTime<=ie)a(x),fe.sortIndex=fe.expirationTime,n(m,fe);else break;fe=i(x)}}function V(ie){if(F=!1,N(ie),!U)if(i(m)!==null)U=!0,We($);else{var fe=i(x);fe!==null&&pe(V,fe.startTime-ie)}}function $(ie,fe){U=!1,F&&(F=!1,D(Q),Q=-1),k=!0;var ge=R;try{for(N(fe),S=i(m);S!==null&&(!(S.expirationTime>fe)||ie&&!Ce());){var He=S.callback;if(typeof He=="function"){S.callback=null,R=S.priorityLevel;var Ae=He(S.expirationTime<=fe);fe=e.unstable_now(),typeof Ae=="function"?S.callback=Ae:S===i(m)&&a(m),N(fe)}else a(m);S=i(m)}if(S!==null)var Ot=!0;else{var Le=i(x);Le!==null&&pe(V,Le.startTime-fe),Ot=!1}return Ot}finally{S=null,R=ge,k=!1}}var K=!1,z=null,Q=-1,G=5,ye=-1;function Ce(){return!(e.unstable_now()-ye<G)}function he(){if(z!==null){var ie=e.unstable_now();ye=ie;var fe=!0;try{fe=z(!0,ie)}finally{fe?Se():(K=!1,z=null)}}else K=!1}var Se;if(typeof T=="function")Se=function(){T(he)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,W=Fe.port2;Fe.port1.onmessage=he,Se=function(){W.postMessage(null)}}else Se=function(){te(he,0)};function We(ie){z=ie,K||(K=!0,Se())}function pe(ie,fe){Q=te(function(){ie(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){U||k||(U=!0,We($))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(ie){switch(R){case 1:case 2:case 3:var fe=3;break;default:fe=R}var ge=R;R=fe;try{return ie()}finally{R=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ge=R;R=ie;try{return fe()}finally{R=ge}},e.unstable_scheduleCallback=function(ie,fe,ge){var He=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,ie){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ge+Ae,ie={id:A++,callback:fe,priorityLevel:ie,startTime:ge,expirationTime:Ae,sortIndex:-1},ge>He?(ie.sortIndex=ge,n(x,ie),i(m)===null&&ie===i(x)&&(F?(D(Q),Q=-1):F=!0,pe(V,ge-He))):(ie.sortIndex=Ae,n(m,ie),U||k||(U=!0,We($))),ie},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(ie){var fe=R;return function(){var ge=R;R=fe;try{return ie.apply(this,arguments)}finally{R=ge}}}})(jf);Hf.exports=jf;var p2=Hf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2=Ee,Cn=p2;function q(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wf=new Set,Vs={};function gi(e,n){Yi(e,n),Yi(e+"Capture",n)}function Yi(e,n){for(Vs[e]=n,e=0;e<n.length;e++)Wf.add(n[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,m2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o1={},a1={};function w2(e){return zl.call(a1,e)?!0:zl.call(o1,e)?!1:m2.test(e)?a1[e]=!0:(o1[e]=!0,!1)}function y2(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E2(e,n,i,a){if(n===null||typeof n>"u"||y2(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function $t(e,n,i,a,c,h,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=p}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ht[n]=new $t(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yu=/[\-:]([a-z])/g;function Zu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Yu,Zu);Ht[n]=new $t(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Yu,Zu);Ht[n]=new $t(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Yu,Zu);Ht[n]=new $t(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ku(e,n,i,a){var c=Ht.hasOwnProperty(n)?Ht[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(E2(n,i,c,a)&&(i=null),a||c===null?w2(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var wr=x2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eo=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),Gf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),qu=Symbol.for("react.forward_ref"),jl=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),Yf=Symbol.for("react.offscreen"),l1=Symbol.iterator;function ms(e){return e===null||typeof e!="object"?null:(e=l1&&e[l1]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,cl;function Is(e){if(cl===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);cl=n&&n[1]||""}return`
`+cl+e}var fl=!1;function hl(e,n){if(!e||fl)return"";fl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var a=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){a=x}e.call(n.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),h=a.stack.split(`
`),p=c.length-1,E=h.length-1;1<=p&&0<=E&&c[p]!==h[E];)E--;for(;1<=p&&0<=E;p--,E--)if(c[p]!==h[E]){if(p!==1||E!==1)do if(p--,E--,0>E||c[p]!==h[E]){var m=`
`+c[p].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=p&&0<=E);break}}}finally{fl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Is(e):""}function C2(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ti:return"Fragment";case Ni:return"Portal";case Hl:return"Profiler";case Qu:return"StrictMode";case jl:return"Suspense";case Wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xf:return(e.displayName||"Context")+".Consumer";case Gf:return(e._context.displayName||"Context")+".Provider";case qu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ju:return n=e.displayName||null,n!==null?n:Gl(e.type)||"Memo";case Tr:n=e._payload,e=e._init;try{return Gl(e(n))}catch{}}return null}function A2(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(n);case 8:return n===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function v2(e){var n=Zf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,h.call(this,p)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Co(e){e._valueTracker||(e._valueTracker=v2(e))}function Kf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=Zf(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xl(e,n){var i=n.checked;return ct({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function u1(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=jr(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Qf(e,n){n=n.checked,n!=null&&Ku(e,"checked",n,!1)}function Yl(e,n){Qf(e,n);var i=jr(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Zl(e,n.type,i):n.hasOwnProperty("defaultValue")&&Zl(e,n.type,jr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function c1(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Zl(e,n,i){(n!=="number"||ea(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Ns=Array.isArray;function zi(e,n,i,a){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+jr(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Kl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(q(91));return ct({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function f1(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(q(92));if(Ns(i)){if(1<i.length)throw Error(q(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:jr(i)}}function qf(e,n){var i=jr(n.value),a=jr(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function h1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Jf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Jf(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ao,$f=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function zs(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S2=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){S2.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),bs[n]=bs[e]})});function e0(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||bs.hasOwnProperty(e)&&bs[e]?(""+n).trim():n+"px"}function t0(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=e0(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var _2=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,n){if(n){if(_2[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(q(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(q(61))}if(n.style!=null&&typeof n.style!="object")throw Error(q(62))}}function Jl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function $u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,Hi=null,ji=null;function d1(e){if(e=oo(e)){if(typeof eu!="function")throw Error(q(280));var n=e.stateNode;n&&(n=Ma(n),eu(e.stateNode,e.type,n))}}function n0(e){Hi?ji?ji.push(e):ji=[e]:Hi=e}function r0(){if(Hi){var e=Hi,n=ji;if(ji=Hi=null,d1(e),n)for(e=0;e<n.length;e++)d1(n[e])}}function i0(e,n){return e(n)}function s0(){}var dl=!1;function o0(e,n,i){if(dl)return e(n,i);dl=!0;try{return i0(e,n,i)}finally{dl=!1,(Hi!==null||ji!==null)&&(s0(),r0())}}function Hs(e,n){var i=e.stateNode;if(i===null)return null;var a=Ma(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(q(231,n,typeof i));return i}var tu=!1;if(gr)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){tu=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{tu=!1}function I2(e,n,i,a,c,h,p,E,m){var x=Array.prototype.slice.call(arguments,3);try{n.apply(i,x)}catch(A){this.onError(A)}}var Ds=!1,ta=null,na=!1,nu=null,N2={onError:function(e){Ds=!0,ta=e}};function T2(e,n,i,a,c,h,p,E,m){Ds=!1,ta=null,I2.apply(N2,arguments)}function R2(e,n,i,a,c,h,p,E,m){if(T2.apply(this,arguments),Ds){if(Ds){var x=ta;Ds=!1,ta=null}else throw Error(q(198));na||(na=!0,nu=x)}}function pi(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function a0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g1(e){if(pi(e)!==e)throw Error(q(188))}function O2(e){var n=e.alternate;if(!n){if(n=pi(e),n===null)throw Error(q(188));return n!==e?null:e}for(var i=e,a=n;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return g1(c),e;if(h===a)return g1(c),n;h=h.sibling}throw Error(q(188))}if(i.return!==a.return)i=c,a=h;else{for(var p=!1,E=c.child;E;){if(E===i){p=!0,i=c,a=h;break}if(E===a){p=!0,a=c,i=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===i){p=!0,i=h,a=c;break}if(E===a){p=!0,a=h,i=c;break}E=E.sibling}if(!p)throw Error(q(189))}}if(i.alternate!==a)throw Error(q(190))}if(i.tag!==3)throw Error(q(188));return i.stateNode.current===i?e:n}function l0(e){return e=O2(e),e!==null?u0(e):null}function u0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=u0(e);if(n!==null)return n;e=e.sibling}return null}var c0=Cn.unstable_scheduleCallback,p1=Cn.unstable_cancelCallback,b2=Cn.unstable_shouldYield,D2=Cn.unstable_requestPaint,yt=Cn.unstable_now,M2=Cn.unstable_getCurrentPriorityLevel,ec=Cn.unstable_ImmediatePriority,f0=Cn.unstable_UserBlockingPriority,ra=Cn.unstable_NormalPriority,k2=Cn.unstable_LowPriority,h0=Cn.unstable_IdlePriority,Ra=null,rr=null;function B2(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Ra,e,void 0,(e.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:F2,P2=Math.log,L2=Math.LN2;function F2(e){return e>>>=0,e===0?32:31-(P2(e)/L2|0)|0}var vo=64,So=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ia(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,p=i&268435455;if(p!==0){var E=p&~c;E!==0?a=Ts(E):(h&=p,h!==0&&(a=Ts(h)))}else p=i&~c,p!==0?a=Ts(p):h!==0&&(a=Ts(h));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,h=n&-n,c>=h||c===16&&(h&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-Gn(n),c=1<<i,a|=e[i],n&=~c;return a}function U2(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V2(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var p=31-Gn(h),E=1<<p,m=c[p];m===-1?(!(E&i)||E&a)&&(c[p]=U2(E,n)):m<=n&&(e.expiredLanes|=E),h&=~E}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d0(){var e=vo;return vo<<=1,!(vo&4194240)&&(vo=64),e}function gl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function io(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Gn(n),e[n]=i}function z2(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Gn(i),h=1<<c;n[c]=0,a[c]=-1,e[c]=-1,i&=~h}}function tc(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Gn(i),c=1<<a;c&n|e[a]&n&&(e[a]|=n),i&=~c}}var je=0;function g0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p0,nc,x0,m0,w0,iu=!1,_o=[],kr=null,Br=null,Pr=null,js=new Map,Ws=new Map,Or=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x1(e,n){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":js.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(n.pointerId)}}function ys(e,n,i,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},n!==null&&(n=oo(n),n!==null&&nc(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function j2(e,n,i,a,c){switch(n){case"focusin":return kr=ys(kr,e,n,i,a,c),!0;case"dragenter":return Br=ys(Br,e,n,i,a,c),!0;case"mouseover":return Pr=ys(Pr,e,n,i,a,c),!0;case"pointerover":var h=c.pointerId;return js.set(h,ys(js.get(h)||null,e,n,i,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Ws.set(h,ys(Ws.get(h)||null,e,n,i,a,c)),!0}return!1}function y0(e){var n=ri(e.target);if(n!==null){var i=pi(n);if(i!==null){if(n=i.tag,n===13){if(n=a0(i),n!==null){e.blockedOn=n,w0(e.priority,function(){x0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=su(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);$l=a,i.target.dispatchEvent(a),$l=null}else return n=oo(i),n!==null&&nc(n),e.blockedOn=i,!1;n.shift()}return!0}function m1(e,n,i){Vo(e)&&i.delete(n)}function W2(){iu=!1,kr!==null&&Vo(kr)&&(kr=null),Br!==null&&Vo(Br)&&(Br=null),Pr!==null&&Vo(Pr)&&(Pr=null),js.forEach(m1),Ws.forEach(m1)}function Es(e,n){e.blockedOn===n&&(e.blockedOn=null,iu||(iu=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,W2)))}function Gs(e){function n(c){return Es(c,e)}if(0<_o.length){Es(_o[0],e);for(var i=1;i<_o.length;i++){var a=_o[i];a.blockedOn===e&&(a.blockedOn=null)}}for(kr!==null&&Es(kr,e),Br!==null&&Es(Br,e),Pr!==null&&Es(Pr,e),js.forEach(n),Ws.forEach(n),i=0;i<Or.length;i++)a=Or[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Or.length&&(i=Or[0],i.blockedOn===null);)y0(i),i.blockedOn===null&&Or.shift()}var Wi=wr.ReactCurrentBatchConfig,sa=!0;function G2(e,n,i,a){var c=je,h=Wi.transition;Wi.transition=null;try{je=1,rc(e,n,i,a)}finally{je=c,Wi.transition=h}}function X2(e,n,i,a){var c=je,h=Wi.transition;Wi.transition=null;try{je=4,rc(e,n,i,a)}finally{je=c,Wi.transition=h}}function rc(e,n,i,a){if(sa){var c=su(e,n,i,a);if(c===null)Sl(e,n,a,oa,i),x1(e,a);else if(j2(c,e,n,i,a))a.stopPropagation();else if(x1(e,a),n&4&&-1<H2.indexOf(e)){for(;c!==null;){var h=oo(c);if(h!==null&&p0(h),h=su(e,n,i,a),h===null&&Sl(e,n,a,oa,i),h===c)break;c=h}c!==null&&a.stopPropagation()}else Sl(e,n,a,null,i)}}var oa=null;function su(e,n,i,a){if(oa=null,e=$u(a),e=ri(e),e!==null)if(n=pi(e),n===null)e=null;else if(i=n.tag,i===13){if(e=a0(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return oa=e,null}function E0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M2()){case ec:return 1;case f0:return 4;case ra:case k2:return 16;case h0:return 536870912;default:return 16}default:return 16}}var Dr=null,ic=null,zo=null;function C0(){if(zo)return zo;var e,n=ic,i=n.length,a,c="value"in Dr?Dr.value:Dr.textContent,h=c.length;for(e=0;e<i&&n[e]===c[e];e++);var p=i-e;for(a=1;a<=p&&n[i-a]===c[h-a];a++);return zo=c.slice(e,1<a?1-a:void 0)}function Ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Io(){return!0}function w1(){return!1}function vn(e){function n(i,a,c,h,p){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Io:w1,this.isPropagationStopped=w1,this}return ct(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),n}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=vn(ts),so=ct({},ts,{view:0,detail:0}),Y2=vn(so),pl,xl,Cs,Oa=ct({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(pl=e.screenX-Cs.screenX,xl=e.screenY-Cs.screenY):xl=pl=0,Cs=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),y1=vn(Oa),Z2=ct({},Oa,{dataTransfer:0}),K2=vn(Z2),Q2=ct({},so,{relatedTarget:0}),ml=vn(Q2),q2=ct({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),J2=vn(q2),$2=ct({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eg=vn($2),tg=ct({},ts,{data:0}),E1=vn(tg),ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ig[e])?!!n[e]:!1}function oc(){return sg}var og=ct({},so,{key:function(e){if(e.key){var n=ng[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ag=vn(og),lg=ct({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C1=vn(lg),ug=ct({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),cg=vn(ug),fg=ct({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),hg=vn(fg),dg=ct({},Oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=vn(dg),pg=[9,13,27,32],ac=gr&&"CompositionEvent"in window,Ms=null;gr&&"documentMode"in document&&(Ms=document.documentMode);var xg=gr&&"TextEvent"in window&&!Ms,A0=gr&&(!ac||Ms&&8<Ms&&11>=Ms),A1=" ",v1=!1;function v0(e,n){switch(e){case"keyup":return pg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function mg(e,n){switch(e){case"compositionend":return S0(n);case"keypress":return n.which!==32?null:(v1=!0,A1);case"textInput":return e=n.data,e===A1&&v1?null:e;default:return null}}function wg(e,n){if(Ri)return e==="compositionend"||!ac&&v0(e,n)?(e=C0(),zo=ic=Dr=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return A0&&n.locale!=="ko"?null:n.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!yg[e.type]:n==="textarea"}function _0(e,n,i,a){n0(a),n=aa(n,"onChange"),0<n.length&&(i=new sc("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var ks=null,Xs=null;function Eg(e){P0(e,0)}function ba(e){var n=Di(e);if(Kf(n))return e}function Cg(e,n){if(e==="change")return n}var I0=!1;if(gr){var wl;if(gr){var yl="oninput"in document;if(!yl){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),yl=typeof _1.oninput=="function"}wl=yl}else wl=!1;I0=wl&&(!document.documentMode||9<document.documentMode)}function I1(){ks&&(ks.detachEvent("onpropertychange",N0),Xs=ks=null)}function N0(e){if(e.propertyName==="value"&&ba(Xs)){var n=[];_0(n,Xs,e,$u(e)),o0(Eg,n)}}function Ag(e,n,i){e==="focusin"?(I1(),ks=n,Xs=i,ks.attachEvent("onpropertychange",N0)):e==="focusout"&&I1()}function vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(Xs)}function Sg(e,n){if(e==="click")return ba(n)}function _g(e,n){if(e==="input"||e==="change")return ba(n)}function Ig(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Yn=typeof Object.is=="function"?Object.is:Ig;function Ys(e,n){if(Yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!zl.call(n,c)||!Yn(e[c],n[c]))return!1}return!0}function N1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function T1(e,n){var i=N1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=N1(i)}}function T0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?T0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function R0(){for(var e=window,n=ea();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ea(e.document)}return n}function lc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ng(e){var n=R0(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&T0(i.ownerDocument.documentElement,i)){if(a!==null&&lc(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=T1(i,h);var p=T1(i,a);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tg=gr&&"documentMode"in document&&11>=document.documentMode,Oi=null,ou=null,Bs=null,au=!1;function R1(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;au||Oi==null||Oi!==ea(a)||(a=Oi,"selectionStart"in a&&lc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Bs&&Ys(Bs,a)||(Bs=a,a=aa(ou,"onSelect"),0<a.length&&(n=new sc("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Oi)))}function No(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var bi={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},El={},O0={};gr&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Da(e){if(El[e])return El[e];if(!bi[e])return e;var n=bi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in O0)return El[e]=n[i];return e}var b0=Da("animationend"),D0=Da("animationiteration"),M0=Da("animationstart"),k0=Da("transitionend"),B0=new Map,O1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,n){B0.set(e,n),gi(n,[e])}for(var Cl=0;Cl<O1.length;Cl++){var Al=O1[Cl],Rg=Al.toLowerCase(),Og=Al[0].toUpperCase()+Al.slice(1);Gr(Rg,"on"+Og)}Gr(b0,"onAnimationEnd");Gr(D0,"onAnimationIteration");Gr(M0,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(k0,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function b1(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,R2(a,n,void 0,e),e.currentTarget=null}function P0(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var h=void 0;if(n)for(var p=a.length-1;0<=p;p--){var E=a[p],m=E.instance,x=E.currentTarget;if(E=E.listener,m!==h&&c.isPropagationStopped())break e;b1(c,E,x),h=m}else for(p=0;p<a.length;p++){if(E=a[p],m=E.instance,x=E.currentTarget,E=E.listener,m!==h&&c.isPropagationStopped())break e;b1(c,E,x),h=m}}}if(na)throw e=nu,na=!1,nu=null,e}function et(e,n){var i=n[hu];i===void 0&&(i=n[hu]=new Set);var a=e+"__bubble";i.has(a)||(L0(n,e,2,!1),i.add(a))}function vl(e,n,i){var a=0;n&&(a|=4),L0(i,e,a,n)}var To="_reactListening"+Math.random().toString(36).slice(2);function Zs(e){if(!e[To]){e[To]=!0,Wf.forEach(function(i){i!=="selectionchange"&&(bg.has(i)||vl(i,!1,e),vl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[To]||(n[To]=!0,vl("selectionchange",!1,n))}}function L0(e,n,i,a){switch(E0(n)){case 1:var c=G2;break;case 4:c=X2;break;default:c=rc}i=c.bind(null,n,i,e),c=void 0,!tu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Sl(e,n,i,a,c){var h=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var E=a.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(p===4)for(p=a.return;p!==null;){var m=p.tag;if((m===3||m===4)&&(m=p.stateNode.containerInfo,m===c||m.nodeType===8&&m.parentNode===c))return;p=p.return}for(;E!==null;){if(p=ri(E),p===null)return;if(m=p.tag,m===5||m===6){a=h=p;continue e}E=E.parentNode}}a=a.return}o0(function(){var x=h,A=$u(i),S=[];e:{var R=B0.get(e);if(R!==void 0){var k=sc,U=e;switch(e){case"keypress":if(Ho(i)===0)break e;case"keydown":case"keyup":k=ag;break;case"focusin":U="focus",k=ml;break;case"focusout":U="blur",k=ml;break;case"beforeblur":case"afterblur":k=ml;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=K2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=cg;break;case b0:case D0:case M0:k=J2;break;case k0:k=hg;break;case"scroll":k=Y2;break;case"wheel":k=gg;break;case"copy":case"cut":case"paste":k=eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=C1}var F=(n&4)!==0,te=!F&&e==="scroll",D=F?R!==null?R+"Capture":null:R;F=[];for(var T=x,N;T!==null;){N=T;var V=N.stateNode;if(N.tag===5&&V!==null&&(N=V,D!==null&&(V=Hs(T,D),V!=null&&F.push(Ks(T,V,N)))),te)break;T=T.return}0<F.length&&(R=new k(R,U,null,i,A),S.push({event:R,listeners:F}))}}if(!(n&7)){e:{if(R=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",R&&i!==$l&&(U=i.relatedTarget||i.fromElement)&&(ri(U)||U[pr]))break e;if((k||R)&&(R=A.window===A?A:(R=A.ownerDocument)?R.defaultView||R.parentWindow:window,k?(U=i.relatedTarget||i.toElement,k=x,U=U?ri(U):null,U!==null&&(te=pi(U),U!==te||U.tag!==5&&U.tag!==6)&&(U=null)):(k=null,U=x),k!==U)){if(F=y1,V="onMouseLeave",D="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(F=C1,V="onPointerLeave",D="onPointerEnter",T="pointer"),te=k==null?R:Di(k),N=U==null?R:Di(U),R=new F(V,T+"leave",k,i,A),R.target=te,R.relatedTarget=N,V=null,ri(A)===x&&(F=new F(D,T+"enter",U,i,A),F.target=N,F.relatedTarget=te,V=F),te=V,k&&U)t:{for(F=k,D=U,T=0,N=F;N;N=Ii(N))T++;for(N=0,V=D;V;V=Ii(V))N++;for(;0<T-N;)F=Ii(F),T--;for(;0<N-T;)D=Ii(D),N--;for(;T--;){if(F===D||D!==null&&F===D.alternate)break t;F=Ii(F),D=Ii(D)}F=null}else F=null;k!==null&&D1(S,R,k,F,!1),U!==null&&te!==null&&D1(S,te,U,F,!0)}}e:{if(R=x?Di(x):window,k=R.nodeName&&R.nodeName.toLowerCase(),k==="select"||k==="input"&&R.type==="file")var $=Cg;else if(S1(R))if(I0)$=_g;else{$=vg;var K=Ag}else(k=R.nodeName)&&k.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&($=Sg);if($&&($=$(e,x))){_0(S,$,i,A);break e}K&&K(e,R,x),e==="focusout"&&(K=R._wrapperState)&&K.controlled&&R.type==="number"&&Zl(R,"number",R.value)}switch(K=x?Di(x):window,e){case"focusin":(S1(K)||K.contentEditable==="true")&&(Oi=K,ou=x,Bs=null);break;case"focusout":Bs=ou=Oi=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,R1(S,i,A);break;case"selectionchange":if(Tg)break;case"keydown":case"keyup":R1(S,i,A)}var z;if(ac)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else Ri?v0(e,i)&&(Q="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Q="onCompositionStart");Q&&(A0&&i.locale!=="ko"&&(Ri||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&Ri&&(z=C0()):(Dr=A,ic="value"in Dr?Dr.value:Dr.textContent,Ri=!0)),K=aa(x,Q),0<K.length&&(Q=new E1(Q,e,null,i,A),S.push({event:Q,listeners:K}),z?Q.data=z:(z=S0(i),z!==null&&(Q.data=z)))),(z=xg?mg(e,i):wg(e,i))&&(x=aa(x,"onBeforeInput"),0<x.length&&(A=new E1("onBeforeInput","beforeinput",null,i,A),S.push({event:A,listeners:x}),A.data=z))}P0(S,n)})}function Ks(e,n,i){return{instance:e,listener:n,currentTarget:i}}function aa(e,n){for(var i=n+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Hs(e,i),h!=null&&a.unshift(Ks(e,h,c)),h=Hs(e,n),h!=null&&a.push(Ks(e,h,c))),e=e.return}return a}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function D1(e,n,i,a,c){for(var h=n._reactName,p=[];i!==null&&i!==a;){var E=i,m=E.alternate,x=E.stateNode;if(m!==null&&m===a)break;E.tag===5&&x!==null&&(E=x,c?(m=Hs(i,h),m!=null&&p.unshift(Ks(i,m,E))):c||(m=Hs(i,h),m!=null&&p.push(Ks(i,m,E)))),i=i.return}p.length!==0&&e.push({event:n,listeners:p})}var Dg=/\r\n?/g,Mg=/\u0000|\uFFFD/g;function M1(e){return(typeof e=="string"?e:""+e).replace(Dg,`
`).replace(Mg,"")}function Ro(e,n,i){if(n=M1(n),M1(e)!==n&&i)throw Error(q(425))}function la(){}var lu=null,uu=null;function cu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,kg=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(e){return k1.resolve(null).then(e).catch(Pg)}:fu;function Pg(e){setTimeout(function(){throw e})}function _l(e,n){var i=n,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Gs(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Gs(n)}function Lr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function B1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ns=Math.random().toString(36).slice(2),nr="__reactFiber$"+ns,Qs="__reactProps$"+ns,pr="__reactContainer$"+ns,hu="__reactEvents$"+ns,Lg="__reactListeners$"+ns,Fg="__reactHandles$"+ns;function ri(e){var n=e[nr];if(n)return n;for(var i=e.parentNode;i;){if(n=i[pr]||i[nr]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=B1(e);e!==null;){if(i=e[nr])return i;e=B1(e)}return n}e=i,i=e.parentNode}return null}function oo(e){return e=e[nr]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Ma(e){return e[Qs]||null}var du=[],Mi=-1;function Xr(e){return{current:e}}function nt(e){0>Mi||(e.current=du[Mi],du[Mi]=null,Mi--)}function qe(e,n){Mi++,du[Mi]=e.current,e.current=n}var Wr={},Yt=Xr(Wr),ln=Xr(!1),li=Wr;function Zi(e,n){var i=e.type.contextTypes;if(!i)return Wr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in i)c[h]=n[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function un(e){return e=e.childContextTypes,e!=null}function ua(){nt(ln),nt(Yt)}function P1(e,n,i){if(Yt.current!==Wr)throw Error(q(168));qe(Yt,n),qe(ln,i)}function F0(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(q(108,A2(e)||"Unknown",c));return ct({},i,a)}function ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,li=Yt.current,qe(Yt,e),qe(ln,ln.current),!0}function L1(e,n,i){var a=e.stateNode;if(!a)throw Error(q(169));i?(e=F0(e,n,li),a.__reactInternalMemoizedMergedChildContext=e,nt(ln),nt(Yt),qe(Yt,e)):nt(ln),qe(ln,i)}var cr=null,ka=!1,Il=!1;function U0(e){cr===null?cr=[e]:cr.push(e)}function Ug(e){ka=!0,U0(e)}function Yr(){if(!Il&&cr!==null){Il=!0;var e=0,n=je;try{var i=cr;for(je=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}cr=null,ka=!1}catch(c){throw cr!==null&&(cr=cr.slice(e+1)),c0(ec,Yr),c}finally{je=n,Il=!1}}return null}var ki=[],Bi=0,fa=null,ha=0,On=[],bn=0,ui=null,fr=1,hr="";function ti(e,n){ki[Bi++]=ha,ki[Bi++]=fa,fa=e,ha=n}function V0(e,n,i){On[bn++]=fr,On[bn++]=hr,On[bn++]=ui,ui=e;var a=fr;e=hr;var c=32-Gn(a)-1;a&=~(1<<c),i+=1;var h=32-Gn(n)+c;if(30<h){var p=c-c%5;h=(a&(1<<p)-1).toString(32),a>>=p,c-=p,fr=1<<32-Gn(n)+c|i<<c|a,hr=h+e}else fr=1<<h|i<<c|a,hr=e}function uc(e){e.return!==null&&(ti(e,1),V0(e,1,0))}function cc(e){for(;e===fa;)fa=ki[--Bi],ki[Bi]=null,ha=ki[--Bi],ki[Bi]=null;for(;e===ui;)ui=On[--bn],On[bn]=null,hr=On[--bn],On[bn]=null,fr=On[--bn],On[bn]=null}var En=null,yn=null,it=!1,Wn=null;function z0(e,n){var i=Mn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function F1(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,En=e,yn=Lr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,En=e,yn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ui!==null?{id:fr,overflow:hr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Mn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,En=e,yn=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pu(e){if(it){var n=yn;if(n){var i=n;if(!F1(e,n)){if(gu(e))throw Error(q(418));n=Lr(i.nextSibling);var a=En;n&&F1(e,n)?z0(a,i):(e.flags=e.flags&-4097|2,it=!1,En=e)}}else{if(gu(e))throw Error(q(418));e.flags=e.flags&-4097|2,it=!1,En=e}}}function U1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function Oo(e){if(e!==En)return!1;if(!it)return U1(e),it=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!cu(e.type,e.memoizedProps)),n&&(n=yn)){if(gu(e))throw H0(),Error(q(418));for(;n;)z0(e,n),n=Lr(n.nextSibling)}if(U1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){yn=Lr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}yn=null}}else yn=En?Lr(e.stateNode.nextSibling):null;return!0}function H0(){for(var e=yn;e;)e=Lr(e.nextSibling)}function Ki(){yn=En=null,it=!1}function fc(e){Wn===null?Wn=[e]:Wn.push(e)}var Vg=wr.ReactCurrentBatchConfig;function As(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(q(309));var a=i.stateNode}if(!a)throw Error(q(147,e));var c=a,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(p){var E=c.refs;p===null?delete E[h]:E[h]=p},n._stringRef=h,n)}if(typeof e!="string")throw Error(q(284));if(!i._owner)throw Error(q(290,e))}return e}function bo(e,n){throw e=Object.prototype.toString.call(n),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function V1(e){var n=e._init;return n(e._payload)}function j0(e){function n(D,T){if(e){var N=D.deletions;N===null?(D.deletions=[T],D.flags|=16):N.push(T)}}function i(D,T){if(!e)return null;for(;T!==null;)n(D,T),T=T.sibling;return null}function a(D,T){for(D=new Map;T!==null;)T.key!==null?D.set(T.key,T):D.set(T.index,T),T=T.sibling;return D}function c(D,T){return D=zr(D,T),D.index=0,D.sibling=null,D}function h(D,T,N){return D.index=N,e?(N=D.alternate,N!==null?(N=N.index,N<T?(D.flags|=2,T):N):(D.flags|=2,T)):(D.flags|=1048576,T)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function E(D,T,N,V){return T===null||T.tag!==6?(T=Ml(N,D.mode,V),T.return=D,T):(T=c(T,N),T.return=D,T)}function m(D,T,N,V){var $=N.type;return $===Ti?A(D,T,N.props.children,V,N.key):T!==null&&(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Tr&&V1($)===T.type)?(V=c(T,N.props),V.ref=As(D,T,N),V.return=D,V):(V=Ko(N.type,N.key,N.props,null,D.mode,V),V.ref=As(D,T,N),V.return=D,V)}function x(D,T,N,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=kl(N,D.mode,V),T.return=D,T):(T=c(T,N.children||[]),T.return=D,T)}function A(D,T,N,V,$){return T===null||T.tag!==7?(T=ai(N,D.mode,V,$),T.return=D,T):(T=c(T,N),T.return=D,T)}function S(D,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Ml(""+T,D.mode,N),T.return=D,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Eo:return N=Ko(T.type,T.key,T.props,null,D.mode,N),N.ref=As(D,null,T),N.return=D,N;case Ni:return T=kl(T,D.mode,N),T.return=D,T;case Tr:var V=T._init;return S(D,V(T._payload),N)}if(Ns(T)||ms(T))return T=ai(T,D.mode,N,null),T.return=D,T;bo(D,T)}return null}function R(D,T,N,V){var $=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return $!==null?null:E(D,T,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Eo:return N.key===$?m(D,T,N,V):null;case Ni:return N.key===$?x(D,T,N,V):null;case Tr:return $=N._init,R(D,T,$(N._payload),V)}if(Ns(N)||ms(N))return $!==null?null:A(D,T,N,V,null);bo(D,N)}return null}function k(D,T,N,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return D=D.get(N)||null,E(T,D,""+V,$);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Eo:return D=D.get(V.key===null?N:V.key)||null,m(T,D,V,$);case Ni:return D=D.get(V.key===null?N:V.key)||null,x(T,D,V,$);case Tr:var K=V._init;return k(D,T,N,K(V._payload),$)}if(Ns(V)||ms(V))return D=D.get(N)||null,A(T,D,V,$,null);bo(T,V)}return null}function U(D,T,N,V){for(var $=null,K=null,z=T,Q=T=0,G=null;z!==null&&Q<N.length;Q++){z.index>Q?(G=z,z=null):G=z.sibling;var ye=R(D,z,N[Q],V);if(ye===null){z===null&&(z=G);break}e&&z&&ye.alternate===null&&n(D,z),T=h(ye,T,Q),K===null?$=ye:K.sibling=ye,K=ye,z=G}if(Q===N.length)return i(D,z),it&&ti(D,Q),$;if(z===null){for(;Q<N.length;Q++)z=S(D,N[Q],V),z!==null&&(T=h(z,T,Q),K===null?$=z:K.sibling=z,K=z);return it&&ti(D,Q),$}for(z=a(D,z);Q<N.length;Q++)G=k(z,D,Q,N[Q],V),G!==null&&(e&&G.alternate!==null&&z.delete(G.key===null?Q:G.key),T=h(G,T,Q),K===null?$=G:K.sibling=G,K=G);return e&&z.forEach(function(Ce){return n(D,Ce)}),it&&ti(D,Q),$}function F(D,T,N,V){var $=ms(N);if(typeof $!="function")throw Error(q(150));if(N=$.call(N),N==null)throw Error(q(151));for(var K=$=null,z=T,Q=T=0,G=null,ye=N.next();z!==null&&!ye.done;Q++,ye=N.next()){z.index>Q?(G=z,z=null):G=z.sibling;var Ce=R(D,z,ye.value,V);if(Ce===null){z===null&&(z=G);break}e&&z&&Ce.alternate===null&&n(D,z),T=h(Ce,T,Q),K===null?$=Ce:K.sibling=Ce,K=Ce,z=G}if(ye.done)return i(D,z),it&&ti(D,Q),$;if(z===null){for(;!ye.done;Q++,ye=N.next())ye=S(D,ye.value,V),ye!==null&&(T=h(ye,T,Q),K===null?$=ye:K.sibling=ye,K=ye);return it&&ti(D,Q),$}for(z=a(D,z);!ye.done;Q++,ye=N.next())ye=k(z,D,Q,ye.value,V),ye!==null&&(e&&ye.alternate!==null&&z.delete(ye.key===null?Q:ye.key),T=h(ye,T,Q),K===null?$=ye:K.sibling=ye,K=ye);return e&&z.forEach(function(he){return n(D,he)}),it&&ti(D,Q),$}function te(D,T,N,V){if(typeof N=="object"&&N!==null&&N.type===Ti&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Eo:e:{for(var $=N.key,K=T;K!==null;){if(K.key===$){if($=N.type,$===Ti){if(K.tag===7){i(D,K.sibling),T=c(K,N.props.children),T.return=D,D=T;break e}}else if(K.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Tr&&V1($)===K.type){i(D,K.sibling),T=c(K,N.props),T.ref=As(D,K,N),T.return=D,D=T;break e}i(D,K);break}else n(D,K);K=K.sibling}N.type===Ti?(T=ai(N.props.children,D.mode,V,N.key),T.return=D,D=T):(V=Ko(N.type,N.key,N.props,null,D.mode,V),V.ref=As(D,T,N),V.return=D,D=V)}return p(D);case Ni:e:{for(K=N.key;T!==null;){if(T.key===K)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){i(D,T.sibling),T=c(T,N.children||[]),T.return=D,D=T;break e}else{i(D,T);break}else n(D,T);T=T.sibling}T=kl(N,D.mode,V),T.return=D,D=T}return p(D);case Tr:return K=N._init,te(D,T,K(N._payload),V)}if(Ns(N))return U(D,T,N,V);if(ms(N))return F(D,T,N,V);bo(D,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(i(D,T.sibling),T=c(T,N),T.return=D,D=T):(i(D,T),T=Ml(N,D.mode,V),T.return=D,D=T),p(D)):i(D,T)}return te}var Qi=j0(!0),W0=j0(!1),da=Xr(null),ga=null,Pi=null,hc=null;function dc(){hc=Pi=ga=null}function gc(e){var n=da.current;nt(da),e._currentValue=n}function xu(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function Gi(e,n){ga=e,hc=Pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(an=!0),e.firstContext=null)}function Bn(e){var n=e._currentValue;if(hc!==e)if(e={context:e,memoizedValue:n,next:null},Pi===null){if(ga===null)throw Error(q(308));Pi=e,ga.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return n}var ii=null;function pc(e){ii===null?ii=[e]:ii.push(e)}function G0(e,n,i,a){var c=n.interleaved;return c===null?(i.next=i,pc(n)):(i.next=c.next,c.next=i),n.interleaved=i,xr(e,a)}function xr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Rr=!1;function xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Fr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Pe&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,xr(e,i)}return c=a.interleaved,c===null?(n.next=n,pc(a)):(n.next=c.next,c.next=n),a.interleaved=n,xr(e,i)}function jo(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,tc(e,i)}}function z1(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?c=h=p:h=h.next=p,i=i.next}while(i!==null);h===null?c=h=n:h=h.next=n}else c=h=n;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function pa(e,n,i,a){var c=e.updateQueue;Rr=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var m=E,x=m.next;m.next=null,p===null?h=x:p.next=x,p=m;var A=e.alternate;A!==null&&(A=A.updateQueue,E=A.lastBaseUpdate,E!==p&&(E===null?A.firstBaseUpdate=x:E.next=x,A.lastBaseUpdate=m))}if(h!==null){var S=c.baseState;p=0,A=x=m=null,E=h;do{var R=E.lane,k=E.eventTime;if((a&R)===R){A!==null&&(A=A.next={eventTime:k,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var U=e,F=E;switch(R=n,k=i,F.tag){case 1:if(U=F.payload,typeof U=="function"){S=U.call(k,S,R);break e}S=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=F.payload,R=typeof U=="function"?U.call(k,S,R):U,R==null)break e;S=ct({},S,R);break e;case 2:Rr=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,R=c.effects,R===null?c.effects=[E]:R.push(E))}else k={eventTime:k,lane:R,tag:E.tag,payload:E.payload,callback:E.callback,next:null},A===null?(x=A=k,m=S):A=A.next=k,p|=R;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;R=E,E=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(A===null&&(m=S),c.baseState=m,c.firstBaseUpdate=x,c.lastBaseUpdate=A,n=c.shared.interleaved,n!==null){c=n;do p|=c.lane,c=c.next;while(c!==n)}else h===null&&(c.shared.lanes=0);fi|=p,e.lanes=p,e.memoizedState=S}}function H1(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(q(191,c));c.call(a)}}}var ao={},ir=Xr(ao),qs=Xr(ao),Js=Xr(ao);function si(e){if(e===ao)throw Error(q(174));return e}function mc(e,n){switch(qe(Js,n),qe(qs,e),qe(ir,ao),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ql(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ql(n,e)}nt(ir),qe(ir,n)}function qi(){nt(ir),nt(qs),nt(Js)}function Y0(e){si(Js.current);var n=si(ir.current),i=Ql(n,e.type);n!==i&&(qe(qs,e),qe(ir,i))}function wc(e){qs.current===e&&(nt(ir),nt(qs))}var lt=Xr(0);function xa(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Nl=[];function yc(){for(var e=0;e<Nl.length;e++)Nl[e]._workInProgressVersionPrimary=null;Nl.length=0}var Wo=wr.ReactCurrentDispatcher,Tl=wr.ReactCurrentBatchConfig,ci=0,ut=null,Tt=null,Bt=null,ma=!1,Ps=!1,$s=0,zg=0;function Wt(){throw Error(q(321))}function Ec(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Yn(e[i],n[i]))return!1;return!0}function Cc(e,n,i,a,c,h){if(ci=h,ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Wo.current=e===null||e.memoizedState===null?Gg:Xg,e=i(a,c),Ps){h=0;do{if(Ps=!1,$s=0,25<=h)throw Error(q(301));h+=1,Bt=Tt=null,n.updateQueue=null,Wo.current=Yg,e=i(a,c)}while(Ps)}if(Wo.current=wa,n=Tt!==null&&Tt.next!==null,ci=0,Bt=Tt=ut=null,ma=!1,n)throw Error(q(300));return e}function Ac(){var e=$s!==0;return $s=0,e}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ut.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Pn(){if(Tt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var n=Bt===null?ut.memoizedState:Bt.next;if(n!==null)Bt=n,Tt=e;else{if(e===null)throw Error(q(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Bt===null?ut.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function eo(e,n){return typeof n=="function"?n(e):n}function Rl(e){var n=Pn(),i=n.queue;if(i===null)throw Error(q(311));i.lastRenderedReducer=e;var a=Tt,c=a.baseQueue,h=i.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}a.baseQueue=c=h,i.pending=null}if(c!==null){h=c.next,a=a.baseState;var E=p=null,m=null,x=h;do{var A=x.lane;if((ci&A)===A)m!==null&&(m=m.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var S={lane:A,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};m===null?(E=m=S,p=a):m=m.next=S,ut.lanes|=A,fi|=A}x=x.next}while(x!==null&&x!==h);m===null?p=a:m.next=E,Yn(a,n.memoizedState)||(an=!0),n.memoizedState=a,n.baseState=p,n.baseQueue=m,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do h=c.lane,ut.lanes|=h,fi|=h,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Ol(e){var n=Pn(),i=n.queue;if(i===null)throw Error(q(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,h=n.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do h=e(h,p.action),p=p.next;while(p!==c);Yn(h,n.memoizedState)||(an=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,a]}function Z0(){}function K0(e,n){var i=ut,a=Pn(),c=n(),h=!Yn(a.memoizedState,c);if(h&&(a.memoizedState=c,an=!0),a=a.queue,vc(J0.bind(null,i,a,e),[e]),a.getSnapshot!==n||h||Bt!==null&&Bt.memoizedState.tag&1){if(i.flags|=2048,to(9,q0.bind(null,i,a,c,n),void 0,null),Pt===null)throw Error(q(349));ci&30||Q0(i,n,c)}return c}function Q0(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ut.updateQueue,n===null?(n={lastEffect:null,stores:null},ut.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function q0(e,n,i,a){n.value=i,n.getSnapshot=a,$0(n)&&eh(e)}function J0(e,n,i){return i(function(){$0(n)&&eh(e)})}function $0(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Yn(e,i)}catch{return!0}}function eh(e){var n=xr(e,1);n!==null&&Xn(n,e,1,-1)}function j1(e){var n=tr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e},n.queue=e,e=e.dispatch=Wg.bind(null,ut,e),[n.memoizedState,e]}function to(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=ut.updateQueue,n===null?(n={lastEffect:null,stores:null},ut.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function th(){return Pn().memoizedState}function Go(e,n,i,a){var c=tr();ut.flags|=e,c.memoizedState=to(1|n,i,void 0,a===void 0?null:a)}function Ba(e,n,i,a){var c=Pn();a=a===void 0?null:a;var h=void 0;if(Tt!==null){var p=Tt.memoizedState;if(h=p.destroy,a!==null&&Ec(a,p.deps)){c.memoizedState=to(n,i,h,a);return}}ut.flags|=e,c.memoizedState=to(1|n,i,h,a)}function W1(e,n){return Go(8390656,8,e,n)}function vc(e,n){return Ba(2048,8,e,n)}function nh(e,n){return Ba(4,2,e,n)}function rh(e,n){return Ba(4,4,e,n)}function ih(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sh(e,n,i){return i=i!=null?i.concat([e]):null,Ba(4,4,ih.bind(null,n,e),i)}function Sc(){}function oh(e,n){var i=Pn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Ec(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function ah(e,n){var i=Pn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Ec(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function lh(e,n,i){return ci&21?(Yn(i,n)||(i=d0(),ut.lanes|=i,fi|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=i)}function Hg(e,n){var i=je;je=i!==0&&4>i?i:4,e(!0);var a=Tl.transition;Tl.transition={};try{e(!1),n()}finally{je=i,Tl.transition=a}}function uh(){return Pn().memoizedState}function jg(e,n,i){var a=Vr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},ch(e))fh(n,i);else if(i=G0(e,n,i,a),i!==null){var c=qt();Xn(i,e,a,c),hh(i,n,a)}}function Wg(e,n,i){var a=Vr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(ch(e))fh(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,E=h(p,i);if(c.hasEagerState=!0,c.eagerState=E,Yn(E,p)){var m=n.interleaved;m===null?(c.next=c,pc(n)):(c.next=m.next,m.next=c),n.interleaved=c;return}}catch{}finally{}i=G0(e,n,c,a),i!==null&&(c=qt(),Xn(i,e,a,c),hh(i,n,a))}}function ch(e){var n=e.alternate;return e===ut||n!==null&&n===ut}function fh(e,n){Ps=ma=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function hh(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,tc(e,i)}}var wa={readContext:Bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Gg={readContext:Bn,useCallback:function(e,n){return tr().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:W1,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Go(4194308,4,ih.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Go(4194308,4,e,n)},useInsertionEffect:function(e,n){return Go(4,2,e,n)},useMemo:function(e,n){var i=tr();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=tr();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=jg.bind(null,ut,e),[a.memoizedState,e]},useRef:function(e){var n=tr();return e={current:e},n.memoizedState=e},useState:j1,useDebugValue:Sc,useDeferredValue:function(e){return tr().memoizedState=e},useTransition:function(){var e=j1(!1),n=e[0];return e=Hg.bind(null,e[1]),tr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=ut,c=tr();if(it){if(i===void 0)throw Error(q(407));i=i()}else{if(i=n(),Pt===null)throw Error(q(349));ci&30||Q0(a,n,i)}c.memoizedState=i;var h={value:i,getSnapshot:n};return c.queue=h,W1(J0.bind(null,a,h,e),[e]),a.flags|=2048,to(9,q0.bind(null,a,h,i,n),void 0,null),i},useId:function(){var e=tr(),n=Pt.identifierPrefix;if(it){var i=hr,a=fr;i=(a&~(1<<32-Gn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=$s++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=zg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Xg={readContext:Bn,useCallback:oh,useContext:Bn,useEffect:vc,useImperativeHandle:sh,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:ah,useReducer:Rl,useRef:th,useState:function(){return Rl(eo)},useDebugValue:Sc,useDeferredValue:function(e){var n=Pn();return lh(n,Tt.memoizedState,e)},useTransition:function(){var e=Rl(eo)[0],n=Pn().memoizedState;return[e,n]},useMutableSource:Z0,useSyncExternalStore:K0,useId:uh,unstable_isNewReconciler:!1},Yg={readContext:Bn,useCallback:oh,useContext:Bn,useEffect:vc,useImperativeHandle:sh,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:ah,useReducer:Ol,useRef:th,useState:function(){return Ol(eo)},useDebugValue:Sc,useDeferredValue:function(e){var n=Pn();return Tt===null?n.memoizedState=e:lh(n,Tt.memoizedState,e)},useTransition:function(){var e=Ol(eo)[0],n=Pn().memoizedState;return[e,n]},useMutableSource:Z0,useSyncExternalStore:K0,useId:uh,unstable_isNewReconciler:!1};function zn(e,n){if(e&&e.defaultProps){n=ct({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function mu(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:ct({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Pa={isMounted:function(e){return(e=e._reactInternals)?pi(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=qt(),c=Vr(e),h=dr(a,c);h.payload=n,i!=null&&(h.callback=i),n=Fr(e,h,c),n!==null&&(Xn(n,e,c,a),jo(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=qt(),c=Vr(e),h=dr(a,c);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Fr(e,h,c),n!==null&&(Xn(n,e,c,a),jo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=qt(),a=Vr(e),c=dr(i,a);c.tag=2,n!=null&&(c.callback=n),n=Fr(e,c,a),n!==null&&(Xn(n,e,a,i),jo(n,e,a))}};function G1(e,n,i,a,c,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,p):n.prototype&&n.prototype.isPureReactComponent?!Ys(i,a)||!Ys(c,h):!0}function dh(e,n,i){var a=!1,c=Wr,h=n.contextType;return typeof h=="object"&&h!==null?h=Bn(h):(c=un(n)?li:Yt.current,a=n.contextTypes,h=(a=a!=null)?Zi(e,c):Wr),n=new n(i,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Pa,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),n}function X1(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Pa.enqueueReplaceState(n,n.state,null)}function wu(e,n,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},xc(e);var h=n.contextType;typeof h=="object"&&h!==null?c.context=Bn(h):(h=un(n)?li:Yt.current,c.context=Zi(e,h)),c.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(mu(e,n,h,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Pa.enqueueReplaceState(c,c.state,null),pa(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,n){try{var i="",a=n;do i+=C2(a),a=a.return;while(a);var c=i}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:c,digest:null}}function bl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function yu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Zg=typeof WeakMap=="function"?WeakMap:Map;function gh(e,n,i){i=dr(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Ea||(Ea=!0,Ru=a),yu(e,n)},i}function ph(e,n,i){i=dr(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;i.payload=function(){return a(c)},i.callback=function(){yu(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){yu(e,n),typeof a!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),i}function Y1(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Zg;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(i)||(c.add(i),e=lp.bind(null,e,n,i),n.then(e,e))}function Z1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function K1(e,n,i,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=dr(-1,1),n.tag=2,Fr(i,n,1))),i.lanes|=1),e)}var Kg=wr.ReactCurrentOwner,an=!1;function Qt(e,n,i,a){n.child=e===null?W0(n,null,i,a):Qi(n,e.child,i,a)}function Q1(e,n,i,a,c){i=i.render;var h=n.ref;return Gi(n,c),a=Cc(e,n,i,a,h,c),i=Ac(),e!==null&&!an?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,mr(e,n,c)):(it&&i&&uc(n),n.flags|=1,Qt(e,n,a,c),n.child)}function q1(e,n,i,a,c){if(e===null){var h=i.type;return typeof h=="function"&&!Dc(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=h,xh(e,n,h,a,c)):(e=Ko(i.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!(e.lanes&c)){var p=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ys,i(p,a)&&e.ref===n.ref)return mr(e,n,c)}return n.flags|=1,e=zr(h,a),e.ref=n.ref,e.return=n,n.child=e}function xh(e,n,i,a,c){if(e!==null){var h=e.memoizedProps;if(Ys(h,a)&&e.ref===n.ref)if(an=!1,n.pendingProps=a=h,(e.lanes&c)!==0)e.flags&131072&&(an=!0);else return n.lanes=e.lanes,mr(e,n,c)}return Eu(e,n,i,a,c)}function mh(e,n,i){var a=n.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Fi,wn),wn|=i;else{if(!(i&1073741824))return e=h!==null?h.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,qe(Fi,wn),wn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:i,qe(Fi,wn),wn|=a}else h!==null?(a=h.baseLanes|i,n.memoizedState=null):a=i,qe(Fi,wn),wn|=a;return Qt(e,n,c,i),n.child}function wh(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Eu(e,n,i,a,c){var h=un(i)?li:Yt.current;return h=Zi(n,h),Gi(n,c),i=Cc(e,n,i,a,h,c),a=Ac(),e!==null&&!an?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,mr(e,n,c)):(it&&a&&uc(n),n.flags|=1,Qt(e,n,i,c),n.child)}function J1(e,n,i,a,c){if(un(i)){var h=!0;ca(n)}else h=!1;if(Gi(n,c),n.stateNode===null)Xo(e,n),dh(n,i,a),wu(n,i,a,c),a=!0;else if(e===null){var p=n.stateNode,E=n.memoizedProps;p.props=E;var m=p.context,x=i.contextType;typeof x=="object"&&x!==null?x=Bn(x):(x=un(i)?li:Yt.current,x=Zi(n,x));var A=i.getDerivedStateFromProps,S=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function";S||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==a||m!==x)&&X1(n,p,a,x),Rr=!1;var R=n.memoizedState;p.state=R,pa(n,a,p,c),m=n.memoizedState,E!==a||R!==m||ln.current||Rr?(typeof A=="function"&&(mu(n,i,A,a),m=n.memoizedState),(E=Rr||G1(n,i,E,a,R,m,x))?(S||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=m),p.props=a,p.state=m,p.context=x,a=E):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,X0(e,n),E=n.memoizedProps,x=n.type===n.elementType?E:zn(n.type,E),p.props=x,S=n.pendingProps,R=p.context,m=i.contextType,typeof m=="object"&&m!==null?m=Bn(m):(m=un(i)?li:Yt.current,m=Zi(n,m));var k=i.getDerivedStateFromProps;(A=typeof k=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==S||R!==m)&&X1(n,p,a,m),Rr=!1,R=n.memoizedState,p.state=R,pa(n,a,p,c);var U=n.memoizedState;E!==S||R!==U||ln.current||Rr?(typeof k=="function"&&(mu(n,i,k,a),U=n.memoizedState),(x=Rr||G1(n,i,x,a,R,U,m)||!1)?(A||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,U,m),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,U,m)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=U),p.props=a,p.state=U,p.context=m,a=x):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),a=!1)}return Cu(e,n,i,a,h,c)}function Cu(e,n,i,a,c,h){wh(e,n);var p=(n.flags&128)!==0;if(!a&&!p)return c&&L1(n,i,!1),mr(e,n,h);a=n.stateNode,Kg.current=n;var E=p&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&p?(n.child=Qi(n,e.child,null,h),n.child=Qi(n,null,E,h)):Qt(e,n,E,h),n.memoizedState=a.state,c&&L1(n,i,!0),n.child}function yh(e){var n=e.stateNode;n.pendingContext?P1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&P1(e,n.context,!1),mc(e,n.containerInfo)}function $1(e,n,i,a,c){return Ki(),fc(c),n.flags|=256,Qt(e,n,i,a),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eh(e,n,i){var a=n.pendingProps,c=lt.current,h=!1,p=(n.flags&128)!==0,E;if((E=p)||(E=e!==null&&e.memoizedState===null?!1:(c&2)!==0),E?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),qe(lt,c&1),e===null)return pu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=a.children,e=a.fallback,h?(a=n.mode,h=n.child,p={mode:"hidden",children:p},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=p):h=Ua(p,a,0,null),e=ai(e,a,i,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=vu(i),n.memoizedState=Au,e):_c(n,p));if(c=e.memoizedState,c!==null&&(E=c.dehydrated,E!==null))return Qg(e,n,p,a,E,c,i);if(h){h=a.fallback,p=n.mode,c=e.child,E=c.sibling;var m={mode:"hidden",children:a.children};return!(p&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=m,n.deletions=null):(a=zr(c,m),a.subtreeFlags=c.subtreeFlags&14680064),E!==null?h=zr(E,h):(h=ai(h,p,i,null),h.flags|=2),h.return=n,a.return=n,a.sibling=h,n.child=a,a=h,h=n.child,p=e.child.memoizedState,p=p===null?vu(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=e.childLanes&~i,n.memoizedState=Au,a}return h=e.child,e=h.sibling,a=zr(h,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function _c(e,n){return n=Ua({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Do(e,n,i,a){return a!==null&&fc(a),Qi(n,e.child,null,i),e=_c(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qg(e,n,i,a,c,h,p){if(i)return n.flags&256?(n.flags&=-257,a=bl(Error(q(422))),Do(e,n,p,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=a.fallback,c=n.mode,a=Ua({mode:"visible",children:a.children},c,0,null),h=ai(h,c,p,null),h.flags|=2,a.return=n,h.return=n,a.sibling=h,n.child=a,n.mode&1&&Qi(n,e.child,null,p),n.child.memoizedState=vu(p),n.memoizedState=Au,h);if(!(n.mode&1))return Do(e,n,p,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var E=a.dgst;return a=E,h=Error(q(419)),a=bl(h,a,void 0),Do(e,n,p,a)}if(E=(p&e.childLanes)!==0,an||E){if(a=Pt,a!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|p)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,xr(e,c),Xn(a,e,c,-1))}return bc(),a=bl(Error(q(421))),Do(e,n,p,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=up.bind(null,e),c._reactRetry=n,null):(e=h.treeContext,yn=Lr(c.nextSibling),En=n,it=!0,Wn=null,e!==null&&(On[bn++]=fr,On[bn++]=hr,On[bn++]=ui,fr=e.id,hr=e.overflow,ui=n),n=_c(n,a.children),n.flags|=4096,n)}function ef(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),xu(e.return,n,i)}function Dl(e,n,i,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=c)}function Ch(e,n,i){var a=n.pendingProps,c=a.revealOrder,h=a.tail;if(Qt(e,n,a.children,i),a=lt.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,i,n);else if(e.tag===19)ef(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(qe(lt,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&xa(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Dl(n,!1,c,i,h);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&xa(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Dl(n,!0,i,null,h);break;case"together":Dl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function mr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),fi|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(q(153));if(n.child!==null){for(e=n.child,i=zr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=zr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function qg(e,n,i){switch(n.tag){case 3:yh(n),Ki();break;case 5:Y0(n);break;case 1:un(n.type)&&ca(n);break;case 4:mc(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;qe(da,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(qe(lt,lt.current&1),n.flags|=128,null):i&n.child.childLanes?Eh(e,n,i):(qe(lt,lt.current&1),e=mr(e,n,i),e!==null?e.sibling:null);qe(lt,lt.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return Ch(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),qe(lt,lt.current),a)break;return null;case 22:case 23:return n.lanes=0,mh(e,n,i)}return mr(e,n,i)}var Ah,Su,vh,Sh;Ah=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Su=function(){};vh=function(e,n,i,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,si(ir.current);var h=null;switch(i){case"input":c=Xl(e,c),a=Xl(e,a),h=[];break;case"select":c=ct({},c,{value:void 0}),a=ct({},a,{value:void 0}),h=[];break;case"textarea":c=Kl(e,c),a=Kl(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=la)}ql(i,a);var p;i=null;for(x in c)if(!a.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var E=c[x];for(p in E)E.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Vs.hasOwnProperty(x)?h||(h=[]):(h=h||[]).push(x,null));for(x in a){var m=a[x];if(E=c!=null?c[x]:void 0,a.hasOwnProperty(x)&&m!==E&&(m!=null||E!=null))if(x==="style")if(E){for(p in E)!E.hasOwnProperty(p)||m&&m.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in m)m.hasOwnProperty(p)&&E[p]!==m[p]&&(i||(i={}),i[p]=m[p])}else i||(h||(h=[]),h.push(x,i)),i=m;else x==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,E=E?E.__html:void 0,m!=null&&E!==m&&(h=h||[]).push(x,m)):x==="children"?typeof m!="string"&&typeof m!="number"||(h=h||[]).push(x,""+m):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(x)?(m!=null&&x==="onScroll"&&et("scroll",e),h||E===m||(h=[])):(h=h||[]).push(x,m))}i&&(h=h||[]).push("style",i);var x=h;(n.updateQueue=x)&&(n.flags|=4)}};Sh=function(e,n,i,a){i!==a&&(n.flags|=4)};function vs(e,n){if(!it)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function Jg(e,n,i){var a=n.pendingProps;switch(cc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(n),null;case 1:return un(n.type)&&ua(),Gt(n),null;case 3:return a=n.stateNode,qi(),nt(ln),nt(Yt),yc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Wn!==null&&(Du(Wn),Wn=null))),Su(e,n),Gt(n),null;case 5:wc(n);var c=si(Js.current);if(i=n.type,e!==null&&n.stateNode!=null)vh(e,n,i,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(q(166));return Gt(n),null}if(e=si(ir.current),Oo(n)){a=n.stateNode,i=n.type;var h=n.memoizedProps;switch(a[nr]=n,a[Qs]=h,e=(n.mode&1)!==0,i){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(c=0;c<Rs.length;c++)et(Rs[c],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":u1(a,h),et("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},et("invalid",a);break;case"textarea":f1(a,h),et("invalid",a)}ql(i,h),c=null;for(var p in h)if(h.hasOwnProperty(p)){var E=h[p];p==="children"?typeof E=="string"?a.textContent!==E&&(h.suppressHydrationWarning!==!0&&Ro(a.textContent,E,e),c=["children",E]):typeof E=="number"&&a.textContent!==""+E&&(h.suppressHydrationWarning!==!0&&Ro(a.textContent,E,e),c=["children",""+E]):Vs.hasOwnProperty(p)&&E!=null&&p==="onScroll"&&et("scroll",a)}switch(i){case"input":Co(a),c1(a,h,!0);break;case"textarea":Co(a),h1(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=la)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jf(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(i,{is:a.is}):(e=p.createElement(i),i==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,i),e[nr]=n,e[Qs]=a,Ah(e,n,!1,!1),n.stateNode=e;e:{switch(p=Jl(i,a),i){case"dialog":et("cancel",e),et("close",e),c=a;break;case"iframe":case"object":case"embed":et("load",e),c=a;break;case"video":case"audio":for(c=0;c<Rs.length;c++)et(Rs[c],e);c=a;break;case"source":et("error",e),c=a;break;case"img":case"image":case"link":et("error",e),et("load",e),c=a;break;case"details":et("toggle",e),c=a;break;case"input":u1(e,a),c=Xl(e,a),et("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=ct({},a,{value:void 0}),et("invalid",e);break;case"textarea":f1(e,a),c=Kl(e,a),et("invalid",e);break;default:c=a}ql(i,c),E=c;for(h in E)if(E.hasOwnProperty(h)){var m=E[h];h==="style"?t0(e,m):h==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&$f(e,m)):h==="children"?typeof m=="string"?(i!=="textarea"||m!=="")&&zs(e,m):typeof m=="number"&&zs(e,""+m):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Vs.hasOwnProperty(h)?m!=null&&h==="onScroll"&&et("scroll",e):m!=null&&Ku(e,h,m,p))}switch(i){case"input":Co(e),c1(e,a,!1);break;case"textarea":Co(e),h1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+jr(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?zi(e,!!a.multiple,h,!1):a.defaultValue!=null&&zi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=la)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Gt(n),null;case 6:if(e&&n.stateNode!=null)Sh(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(q(166));if(i=si(Js.current),si(ir.current),Oo(n)){if(a=n.stateNode,i=n.memoizedProps,a[nr]=n,(h=a.nodeValue!==i)&&(e=En,e!==null))switch(e.tag){case 3:Ro(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ro(a.nodeValue,i,(e.mode&1)!==0)}h&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[nr]=n,n.stateNode=a}return Gt(n),null;case 13:if(nt(lt),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&yn!==null&&n.mode&1&&!(n.flags&128))H0(),Ki(),n.flags|=98560,h=!1;else if(h=Oo(n),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(q(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(q(317));h[nr]=n}else Ki(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Gt(n),h=!1}else Wn!==null&&(Du(Wn),Wn=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||lt.current&1?Rt===0&&(Rt=3):bc())),n.updateQueue!==null&&(n.flags|=4),Gt(n),null);case 4:return qi(),Su(e,n),e===null&&Zs(n.stateNode.containerInfo),Gt(n),null;case 10:return gc(n.type._context),Gt(n),null;case 17:return un(n.type)&&ua(),Gt(n),null;case 19:if(nt(lt),h=n.memoizedState,h===null)return Gt(n),null;if(a=(n.flags&128)!==0,p=h.rendering,p===null)if(a)vs(h,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=xa(e),p!==null){for(n.flags|=128,vs(h,!1),a=p.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)h=i,e=a,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,e=p.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return qe(lt,lt.current&1|2),n.child}e=e.sibling}h.tail!==null&&yt()>$i&&(n.flags|=128,a=!0,vs(h,!1),n.lanes=4194304)}else{if(!a)if(e=xa(p),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),vs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!it)return Gt(n),null}else 2*yt()-h.renderingStartTime>$i&&i!==1073741824&&(n.flags|=128,a=!0,vs(h,!1),n.lanes=4194304);h.isBackwards?(p.sibling=n.child,n.child=p):(i=h.last,i!==null?i.sibling=p:n.child=p,h.last=p)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=yt(),n.sibling=null,i=lt.current,qe(lt,a?i&1|2:i&1),n):(Gt(n),null);case 22:case 23:return Oc(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?wn&1073741824&&(Gt(n),n.subtreeFlags&6&&(n.flags|=8192)):Gt(n),null;case 24:return null;case 25:return null}throw Error(q(156,n.tag))}function $g(e,n){switch(cc(n),n.tag){case 1:return un(n.type)&&ua(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(),nt(ln),nt(Yt),yc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return wc(n),null;case 13:if(nt(lt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(q(340));Ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(lt),null;case 4:return qi(),null;case 10:return gc(n.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var Mo=!1,Xt=!1,ep=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Li(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){mt(e,n,a)}else i.current=null}function _u(e,n,i){try{i()}catch(a){mt(e,n,a)}}var tf=!1;function tp(e,n){if(lu=sa,e=R0(),lc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var p=0,E=-1,m=-1,x=0,A=0,S=e,R=null;t:for(;;){for(var k;S!==i||c!==0&&S.nodeType!==3||(E=p+c),S!==h||a!==0&&S.nodeType!==3||(m=p+a),S.nodeType===3&&(p+=S.nodeValue.length),(k=S.firstChild)!==null;)R=S,S=k;for(;;){if(S===e)break t;if(R===i&&++x===c&&(E=p),R===h&&++A===a&&(m=p),(k=S.nextSibling)!==null)break;S=R,R=S.parentNode}S=k}i=E===-1||m===-1?null:{start:E,end:m}}else i=null}i=i||{start:0,end:0}}else i=null;for(uu={focusedElem:e,selectionRange:i},sa=!1,ae=n;ae!==null;)if(n=ae,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ae=e;else for(;ae!==null;){n=ae;try{var U=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var F=U.memoizedProps,te=U.memoizedState,D=n.stateNode,T=D.getSnapshotBeforeUpdate(n.elementType===n.type?F:zn(n.type,F),te);D.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=n.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(V){mt(n,n.return,V)}if(e=n.sibling,e!==null){e.return=n.return,ae=e;break}ae=n.return}return U=tf,tf=!1,U}function Ls(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&_u(n,i,h)}c=c.next}while(c!==a)}}function La(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Iu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function _h(e){var n=e.alternate;n!==null&&(e.alternate=null,_h(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[nr],delete n[Qs],delete n[hu],delete n[Lg],delete n[Fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ih(e){return e.tag===5||e.tag===3||e.tag===4}function nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=la));else if(a!==4&&(e=e.child,e!==null))for(Nu(e,n,i),e=e.sibling;e!==null;)Nu(e,n,i),e=e.sibling}function Tu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Tu(e,n,i),e=e.sibling;e!==null;)Tu(e,n,i),e=e.sibling}var Vt=null,Hn=!1;function Nr(e,n,i){for(i=i.child;i!==null;)Nh(e,n,i),i=i.sibling}function Nh(e,n,i){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Ra,i)}catch{}switch(i.tag){case 5:Xt||Li(i,n);case 6:var a=Vt,c=Hn;Vt=null,Nr(e,n,i),Vt=a,Hn=c,Vt!==null&&(Hn?(e=Vt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Vt.removeChild(i.stateNode));break;case 18:Vt!==null&&(Hn?(e=Vt,i=i.stateNode,e.nodeType===8?_l(e.parentNode,i):e.nodeType===1&&_l(e,i),Gs(e)):_l(Vt,i.stateNode));break;case 4:a=Vt,c=Hn,Vt=i.stateNode.containerInfo,Hn=!0,Nr(e,n,i),Vt=a,Hn=c;break;case 0:case 11:case 14:case 15:if(!Xt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,p=h.destroy;h=h.tag,p!==void 0&&(h&2||h&4)&&_u(i,n,p),c=c.next}while(c!==a)}Nr(e,n,i);break;case 1:if(!Xt&&(Li(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(E){mt(i,n,E)}Nr(e,n,i);break;case 21:Nr(e,n,i);break;case 22:i.mode&1?(Xt=(a=Xt)||i.memoizedState!==null,Nr(e,n,i),Xt=a):Nr(e,n,i);break;default:Nr(e,n,i)}}function rf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new ep),n.forEach(function(a){var c=cp.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function Vn(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var h=e,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 5:Vt=E.stateNode,Hn=!1;break e;case 3:Vt=E.stateNode.containerInfo,Hn=!0;break e;case 4:Vt=E.stateNode.containerInfo,Hn=!0;break e}E=E.return}if(Vt===null)throw Error(q(160));Nh(h,p,c),Vt=null,Hn=!1;var m=c.alternate;m!==null&&(m.return=null),c.return=null}catch(x){mt(c,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Th(n,e),n=n.sibling}function Th(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vn(n,e),er(e),a&4){try{Ls(3,e,e.return),La(3,e)}catch(F){mt(e,e.return,F)}try{Ls(5,e,e.return)}catch(F){mt(e,e.return,F)}}break;case 1:Vn(n,e),er(e),a&512&&i!==null&&Li(i,i.return);break;case 5:if(Vn(n,e),er(e),a&512&&i!==null&&Li(i,i.return),e.flags&32){var c=e.stateNode;try{zs(c,"")}catch(F){mt(e,e.return,F)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,p=i!==null?i.memoizedProps:h,E=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{E==="input"&&h.type==="radio"&&h.name!=null&&Qf(c,h),Jl(E,p);var x=Jl(E,h);for(p=0;p<m.length;p+=2){var A=m[p],S=m[p+1];A==="style"?t0(c,S):A==="dangerouslySetInnerHTML"?$f(c,S):A==="children"?zs(c,S):Ku(c,A,S,x)}switch(E){case"input":Yl(c,h);break;case"textarea":qf(c,h);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var k=h.value;k!=null?zi(c,!!h.multiple,k,!1):R!==!!h.multiple&&(h.defaultValue!=null?zi(c,!!h.multiple,h.defaultValue,!0):zi(c,!!h.multiple,h.multiple?[]:"",!1))}c[Qs]=h}catch(F){mt(e,e.return,F)}}break;case 6:if(Vn(n,e),er(e),a&4){if(e.stateNode===null)throw Error(q(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(F){mt(e,e.return,F)}}break;case 3:if(Vn(n,e),er(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Gs(n.containerInfo)}catch(F){mt(e,e.return,F)}break;case 4:Vn(n,e),er(e);break;case 13:Vn(n,e),er(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Tc=yt())),a&4&&rf(e);break;case 22:if(A=i!==null&&i.memoizedState!==null,e.mode&1?(Xt=(x=Xt)||A,Vn(n,e),Xt=x):Vn(n,e),er(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!A&&e.mode&1)for(ae=e,A=e.child;A!==null;){for(S=ae=A;ae!==null;){switch(R=ae,k=R.child,R.tag){case 0:case 11:case 14:case 15:Ls(4,R,R.return);break;case 1:Li(R,R.return);var U=R.stateNode;if(typeof U.componentWillUnmount=="function"){a=R,i=R.return;try{n=a,U.props=n.memoizedProps,U.state=n.memoizedState,U.componentWillUnmount()}catch(F){mt(a,i,F)}}break;case 5:Li(R,R.return);break;case 22:if(R.memoizedState!==null){of(S);continue}}k!==null?(k.return=R,ae=k):of(S)}A=A.sibling}e:for(A=null,S=e;;){if(S.tag===5){if(A===null){A=S;try{c=S.stateNode,x?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(E=S.stateNode,m=S.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null,E.style.display=e0("display",p))}catch(F){mt(e,e.return,F)}}}else if(S.tag===6){if(A===null)try{S.stateNode.nodeValue=x?"":S.memoizedProps}catch(F){mt(e,e.return,F)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;A===S&&(A=null),S=S.return}A===S&&(A=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Vn(n,e),er(e),a&4&&rf(e);break;case 21:break;default:Vn(n,e),er(e)}}function er(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Ih(i)){var a=i;break e}i=i.return}throw Error(q(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(zs(c,""),a.flags&=-33);var h=nf(e);Tu(e,h,c);break;case 3:case 4:var p=a.stateNode.containerInfo,E=nf(e);Nu(e,E,p);break;default:throw Error(q(161))}}catch(m){mt(e,e.return,m)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function np(e,n,i){ae=e,Rh(e)}function Rh(e,n,i){for(var a=(e.mode&1)!==0;ae!==null;){var c=ae,h=c.child;if(c.tag===22&&a){var p=c.memoizedState!==null||Mo;if(!p){var E=c.alternate,m=E!==null&&E.memoizedState!==null||Xt;E=Mo;var x=Xt;if(Mo=p,(Xt=m)&&!x)for(ae=c;ae!==null;)p=ae,m=p.child,p.tag===22&&p.memoizedState!==null?af(c):m!==null?(m.return=p,ae=m):af(c);for(;h!==null;)ae=h,Rh(h),h=h.sibling;ae=c,Mo=E,Xt=x}sf(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,ae=h):sf(e)}}function sf(e){for(;ae!==null;){var n=ae;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Xt||La(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Xt)if(i===null)a.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:zn(n.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&H1(n,h,a);break;case 3:var p=n.updateQueue;if(p!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}H1(n,p,i)}break;case 5:var E=n.stateNode;if(i===null&&n.flags&4){i=E;var m=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&i.focus();break;case"img":m.src&&(i.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var A=x.memoizedState;if(A!==null){var S=A.dehydrated;S!==null&&Gs(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Xt||n.flags&512&&Iu(n)}catch(R){mt(n,n.return,R)}}if(n===e){ae=null;break}if(i=n.sibling,i!==null){i.return=n.return,ae=i;break}ae=n.return}}function of(e){for(;ae!==null;){var n=ae;if(n===e){ae=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ae=i;break}ae=n.return}}function af(e){for(;ae!==null;){var n=ae;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{La(4,n)}catch(m){mt(n,i,m)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(m){mt(n,c,m)}}var h=n.return;try{Iu(n)}catch(m){mt(n,h,m)}break;case 5:var p=n.return;try{Iu(n)}catch(m){mt(n,p,m)}}}catch(m){mt(n,n.return,m)}if(n===e){ae=null;break}var E=n.sibling;if(E!==null){E.return=n.return,ae=E;break}ae=n.return}}var rp=Math.ceil,ya=wr.ReactCurrentDispatcher,Ic=wr.ReactCurrentOwner,kn=wr.ReactCurrentBatchConfig,Pe=0,Pt=null,At=null,zt=0,wn=0,Fi=Xr(0),Rt=0,no=null,fi=0,Fa=0,Nc=0,Fs=null,on=null,Tc=0,$i=1/0,ur=null,Ea=!1,Ru=null,Ur=null,ko=!1,Mr=null,Ca=0,Us=0,Ou=null,Yo=-1,Zo=0;function qt(){return Pe&6?yt():Yo!==-1?Yo:Yo=yt()}function Vr(e){return e.mode&1?Pe&2&&zt!==0?zt&-zt:Vg.transition!==null?(Zo===0&&(Zo=d0()),Zo):(e=je,e!==0||(e=window.event,e=e===void 0?16:E0(e.type)),e):1}function Xn(e,n,i,a){if(50<Us)throw Us=0,Ou=null,Error(q(185));io(e,i,a),(!(Pe&2)||e!==Pt)&&(e===Pt&&(!(Pe&2)&&(Fa|=i),Rt===4&&br(e,zt)),cn(e,a),i===1&&Pe===0&&!(n.mode&1)&&($i=yt()+500,ka&&Yr()))}function cn(e,n){var i=e.callbackNode;V2(e,n);var a=ia(e,e===Pt?zt:0);if(a===0)i!==null&&p1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&p1(i),n===1)e.tag===0?Ug(lf.bind(null,e)):U0(lf.bind(null,e)),Bg(function(){!(Pe&6)&&Yr()}),i=null;else{switch(g0(a)){case 1:i=ec;break;case 4:i=f0;break;case 16:i=ra;break;case 536870912:i=h0;break;default:i=ra}i=Lh(i,Oh.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Oh(e,n){if(Yo=-1,Zo=0,Pe&6)throw Error(q(327));var i=e.callbackNode;if(Xi()&&e.callbackNode!==i)return null;var a=ia(e,e===Pt?zt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Aa(e,a);else{n=a;var c=Pe;Pe|=2;var h=Dh();(Pt!==e||zt!==n)&&(ur=null,$i=yt()+500,oi(e,n));do try{op();break}catch(E){bh(e,E)}while(!0);dc(),ya.current=h,Pe=c,At!==null?n=0:(Pt=null,zt=0,n=Rt)}if(n!==0){if(n===2&&(c=ru(e),c!==0&&(a=c,n=bu(e,c))),n===1)throw i=no,oi(e,0),br(e,a),cn(e,yt()),i;if(n===6)br(e,a);else{if(c=e.current.alternate,!(a&30)&&!ip(c)&&(n=Aa(e,a),n===2&&(h=ru(e),h!==0&&(a=h,n=bu(e,h))),n===1))throw i=no,oi(e,0),br(e,a),cn(e,yt()),i;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(q(345));case 2:ni(e,on,ur);break;case 3:if(br(e,a),(a&130023424)===a&&(n=Tc+500-yt(),10<n)){if(ia(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){qt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=fu(ni.bind(null,e,on,ur),n);break}ni(e,on,ur);break;case 4:if(br(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var p=31-Gn(a);h=1<<p,p=n[p],p>c&&(c=p),a&=~h}if(a=c,a=yt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*rp(a/1960))-a,10<a){e.timeoutHandle=fu(ni.bind(null,e,on,ur),a);break}ni(e,on,ur);break;case 5:ni(e,on,ur);break;default:throw Error(q(329))}}}return cn(e,yt()),e.callbackNode===i?Oh.bind(null,e):null}function bu(e,n){var i=Fs;return e.current.memoizedState.isDehydrated&&(oi(e,n).flags|=256),e=Aa(e,n),e!==2&&(n=on,on=i,n!==null&&Du(n)),e}function Du(e){on===null?on=e:on.push.apply(on,e)}function ip(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],h=c.getSnapshot;c=c.value;try{if(!Yn(h(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function br(e,n){for(n&=~Nc,n&=~Fa,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Gn(n),a=1<<i;e[i]=-1,n&=~a}}function lf(e){if(Pe&6)throw Error(q(327));Xi();var n=ia(e,0);if(!(n&1))return cn(e,yt()),null;var i=Aa(e,n);if(e.tag!==0&&i===2){var a=ru(e);a!==0&&(n=a,i=bu(e,a))}if(i===1)throw i=no,oi(e,0),br(e,n),cn(e,yt()),i;if(i===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ni(e,on,ur),cn(e,yt()),null}function Rc(e,n){var i=Pe;Pe|=1;try{return e(n)}finally{Pe=i,Pe===0&&($i=yt()+500,ka&&Yr())}}function hi(e){Mr!==null&&Mr.tag===0&&!(Pe&6)&&Xi();var n=Pe;Pe|=1;var i=kn.transition,a=je;try{if(kn.transition=null,je=1,e)return e()}finally{je=a,kn.transition=i,Pe=n,!(Pe&6)&&Yr()}}function Oc(){wn=Fi.current,nt(Fi)}function oi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,kg(i)),At!==null)for(i=At.return;i!==null;){var a=i;switch(cc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ua();break;case 3:qi(),nt(ln),nt(Yt),yc();break;case 5:wc(a);break;case 4:qi();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:gc(a.type._context);break;case 22:case 23:Oc()}i=i.return}if(Pt=e,At=e=zr(e.current,null),zt=wn=n,Rt=0,no=null,Nc=Fa=fi=0,on=Fs=null,ii!==null){for(n=0;n<ii.length;n++)if(i=ii[n],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,h=i.pending;if(h!==null){var p=h.next;h.next=c,a.next=p}i.pending=a}ii=null}return e}function bh(e,n){do{var i=At;try{if(dc(),Wo.current=wa,ma){for(var a=ut.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}ma=!1}if(ci=0,Bt=Tt=ut=null,Ps=!1,$s=0,Ic.current=null,i===null||i.return===null){Rt=1,no=n,At=null;break}e:{var h=e,p=i.return,E=i,m=n;if(n=zt,E.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var x=m,A=E,S=A.tag;if(!(A.mode&1)&&(S===0||S===11||S===15)){var R=A.alternate;R?(A.updateQueue=R.updateQueue,A.memoizedState=R.memoizedState,A.lanes=R.lanes):(A.updateQueue=null,A.memoizedState=null)}var k=Z1(p);if(k!==null){k.flags&=-257,K1(k,p,E,h,n),k.mode&1&&Y1(h,x,n),n=k,m=x;var U=n.updateQueue;if(U===null){var F=new Set;F.add(m),n.updateQueue=F}else U.add(m);break e}else{if(!(n&1)){Y1(h,x,n),bc();break e}m=Error(q(426))}}else if(it&&E.mode&1){var te=Z1(p);if(te!==null){!(te.flags&65536)&&(te.flags|=256),K1(te,p,E,h,n),fc(Ji(m,E));break e}}h=m=Ji(m,E),Rt!==4&&(Rt=2),Fs===null?Fs=[h]:Fs.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var D=gh(h,m,n);z1(h,D);break e;case 1:E=m;var T=h.type,N=h.stateNode;if(!(h.flags&128)&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ur===null||!Ur.has(N)))){h.flags|=65536,n&=-n,h.lanes|=n;var V=ph(h,E,n);z1(h,V);break e}}h=h.return}while(h!==null)}kh(i)}catch($){n=$,At===i&&i!==null&&(At=i=i.return);continue}break}while(!0)}function Dh(){var e=ya.current;return ya.current=wa,e===null?wa:e}function bc(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Pt===null||!(fi&268435455)&&!(Fa&268435455)||br(Pt,zt)}function Aa(e,n){var i=Pe;Pe|=2;var a=Dh();(Pt!==e||zt!==n)&&(ur=null,oi(e,n));do try{sp();break}catch(c){bh(e,c)}while(!0);if(dc(),Pe=i,ya.current=a,At!==null)throw Error(q(261));return Pt=null,zt=0,Rt}function sp(){for(;At!==null;)Mh(At)}function op(){for(;At!==null&&!b2();)Mh(At)}function Mh(e){var n=Ph(e.alternate,e,wn);e.memoizedProps=e.pendingProps,n===null?kh(e):At=n,Ic.current=null}function kh(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=$g(i,n),i!==null){i.flags&=32767,At=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,At=null;return}}else if(i=Jg(i,n,wn),i!==null){At=i;return}if(n=n.sibling,n!==null){At=n;return}At=n=e}while(n!==null);Rt===0&&(Rt=5)}function ni(e,n,i){var a=je,c=kn.transition;try{kn.transition=null,je=1,ap(e,n,i,a)}finally{kn.transition=c,je=a}return null}function ap(e,n,i,a){do Xi();while(Mr!==null);if(Pe&6)throw Error(q(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(z2(e,h),e===Pt&&(At=Pt=null,zt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ko||(ko=!0,Lh(ra,function(){return Xi(),null})),h=(i.flags&15990)!==0,i.subtreeFlags&15990||h){h=kn.transition,kn.transition=null;var p=je;je=1;var E=Pe;Pe|=4,Ic.current=null,tp(e,i),Th(i,e),Ng(uu),sa=!!lu,uu=lu=null,e.current=i,np(i),D2(),Pe=E,je=p,kn.transition=h}else e.current=i;if(ko&&(ko=!1,Mr=e,Ca=c),h=e.pendingLanes,h===0&&(Ur=null),B2(i.stateNode),cn(e,yt()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ea)throw Ea=!1,e=Ru,Ru=null,e;return Ca&1&&e.tag!==0&&Xi(),h=e.pendingLanes,h&1?e===Ou?Us++:(Us=0,Ou=e):Us=0,Yr(),null}function Xi(){if(Mr!==null){var e=g0(Ca),n=kn.transition,i=je;try{if(kn.transition=null,je=16>e?16:e,Mr===null)var a=!1;else{if(e=Mr,Mr=null,Ca=0,Pe&6)throw Error(q(331));var c=Pe;for(Pe|=4,ae=e.current;ae!==null;){var h=ae,p=h.child;if(ae.flags&16){var E=h.deletions;if(E!==null){for(var m=0;m<E.length;m++){var x=E[m];for(ae=x;ae!==null;){var A=ae;switch(A.tag){case 0:case 11:case 15:Ls(8,A,h)}var S=A.child;if(S!==null)S.return=A,ae=S;else for(;ae!==null;){A=ae;var R=A.sibling,k=A.return;if(_h(A),A===x){ae=null;break}if(R!==null){R.return=k,ae=R;break}ae=k}}}var U=h.alternate;if(U!==null){var F=U.child;if(F!==null){U.child=null;do{var te=F.sibling;F.sibling=null,F=te}while(F!==null)}}ae=h}}if(h.subtreeFlags&2064&&p!==null)p.return=h,ae=p;else e:for(;ae!==null;){if(h=ae,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Ls(9,h,h.return)}var D=h.sibling;if(D!==null){D.return=h.return,ae=D;break e}ae=h.return}}var T=e.current;for(ae=T;ae!==null;){p=ae;var N=p.child;if(p.subtreeFlags&2064&&N!==null)N.return=p,ae=N;else e:for(p=T;ae!==null;){if(E=ae,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:La(9,E)}}catch($){mt(E,E.return,$)}if(E===p){ae=null;break e}var V=E.sibling;if(V!==null){V.return=E.return,ae=V;break e}ae=E.return}}if(Pe=c,Yr(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Ra,e)}catch{}a=!0}return a}finally{je=i,kn.transition=n}}return!1}function uf(e,n,i){n=Ji(i,n),n=gh(e,n,1),e=Fr(e,n,1),n=qt(),e!==null&&(io(e,1,n),cn(e,n))}function mt(e,n,i){if(e.tag===3)uf(e,e,i);else for(;n!==null;){if(n.tag===3){uf(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ur===null||!Ur.has(a))){e=Ji(i,e),e=ph(n,e,1),n=Fr(n,e,1),e=qt(),n!==null&&(io(n,1,e),cn(n,e));break}}n=n.return}}function lp(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=qt(),e.pingedLanes|=e.suspendedLanes&i,Pt===e&&(zt&i)===i&&(Rt===4||Rt===3&&(zt&130023424)===zt&&500>yt()-Tc?oi(e,0):Nc|=i),cn(e,n)}function Bh(e,n){n===0&&(e.mode&1?(n=So,So<<=1,!(So&130023424)&&(So=4194304)):n=1);var i=qt();e=xr(e,n),e!==null&&(io(e,n,i),cn(e,i))}function up(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Bh(e,i)}function cp(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(q(314))}a!==null&&a.delete(n),Bh(e,i)}var Ph;Ph=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||ln.current)an=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return an=!1,qg(e,n,i);an=!!(e.flags&131072)}else an=!1,it&&n.flags&1048576&&V0(n,ha,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Xo(e,n),e=n.pendingProps;var c=Zi(n,Yt.current);Gi(n,i),c=Cc(null,n,a,e,c,i);var h=Ac();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,un(a)?(h=!0,ca(n)):h=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,xc(n),c.updater=Pa,n.stateNode=c,c._reactInternals=n,wu(n,a,e,i),n=Cu(null,n,a,!0,h,i)):(n.tag=0,it&&h&&uc(n),Qt(null,n,c,i),n=n.child),n;case 16:a=n.elementType;e:{switch(Xo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=hp(a),e=zn(a,e),c){case 0:n=Eu(null,n,a,e,i);break e;case 1:n=J1(null,n,a,e,i);break e;case 11:n=Q1(null,n,a,e,i);break e;case 14:n=q1(null,n,a,zn(a.type,e),i);break e}throw Error(q(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:zn(a,c),Eu(e,n,a,c,i);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:zn(a,c),J1(e,n,a,c,i);case 3:e:{if(yh(n),e===null)throw Error(q(387));a=n.pendingProps,h=n.memoizedState,c=h.element,X0(e,n),pa(n,a,null,i);var p=n.memoizedState;if(a=p.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){c=Ji(Error(q(423)),n),n=$1(e,n,a,i,c);break e}else if(a!==c){c=Ji(Error(q(424)),n),n=$1(e,n,a,i,c);break e}else for(yn=Lr(n.stateNode.containerInfo.firstChild),En=n,it=!0,Wn=null,i=W0(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ki(),a===c){n=mr(e,n,i);break e}Qt(e,n,a,i)}n=n.child}return n;case 5:return Y0(n),e===null&&pu(n),a=n.type,c=n.pendingProps,h=e!==null?e.memoizedProps:null,p=c.children,cu(a,c)?p=null:h!==null&&cu(a,h)&&(n.flags|=32),wh(e,n),Qt(e,n,p,i),n.child;case 6:return e===null&&pu(n),null;case 13:return Eh(e,n,i);case 4:return mc(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Qi(n,null,a,i):Qt(e,n,a,i),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:zn(a,c),Q1(e,n,a,c,i);case 7:return Qt(e,n,n.pendingProps,i),n.child;case 8:return Qt(e,n,n.pendingProps.children,i),n.child;case 12:return Qt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,h=n.memoizedProps,p=c.value,qe(da,a._currentValue),a._currentValue=p,h!==null)if(Yn(h.value,p)){if(h.children===c.children&&!ln.current){n=mr(e,n,i);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var E=h.dependencies;if(E!==null){p=h.child;for(var m=E.firstContext;m!==null;){if(m.context===a){if(h.tag===1){m=dr(-1,i&-i),m.tag=2;var x=h.updateQueue;if(x!==null){x=x.shared;var A=x.pending;A===null?m.next=m:(m.next=A.next,A.next=m),x.pending=m}}h.lanes|=i,m=h.alternate,m!==null&&(m.lanes|=i),xu(h.return,i,n),E.lanes|=i;break}m=m.next}}else if(h.tag===10)p=h.type===n.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(q(341));p.lanes|=i,E=p.alternate,E!==null&&(E.lanes|=i),xu(p,i,n),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===n){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}Qt(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,Gi(n,i),c=Bn(c),a=a(c),n.flags|=1,Qt(e,n,a,i),n.child;case 14:return a=n.type,c=zn(a,n.pendingProps),c=zn(a.type,c),q1(e,n,a,c,i);case 15:return xh(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:zn(a,c),Xo(e,n),n.tag=1,un(a)?(e=!0,ca(n)):e=!1,Gi(n,i),dh(n,a,c),wu(n,a,c,i),Cu(null,n,a,!0,e,i);case 19:return Ch(e,n,i);case 22:return mh(e,n,i)}throw Error(q(156,n.tag))};function Lh(e,n){return c0(e,n)}function fp(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,i,a){return new fp(e,n,i,a)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hp(e){if(typeof e=="function")return Dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qu)return 11;if(e===Ju)return 14}return 2}function zr(e,n){var i=e.alternate;return i===null?(i=Mn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ko(e,n,i,a,c,h){var p=2;if(a=e,typeof e=="function")Dc(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Ti:return ai(i.children,c,h,n);case Qu:p=8,c|=8;break;case Hl:return e=Mn(12,i,n,c|2),e.elementType=Hl,e.lanes=h,e;case jl:return e=Mn(13,i,n,c),e.elementType=jl,e.lanes=h,e;case Wl:return e=Mn(19,i,n,c),e.elementType=Wl,e.lanes=h,e;case Yf:return Ua(i,c,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gf:p=10;break e;case Xf:p=9;break e;case qu:p=11;break e;case Ju:p=14;break e;case Tr:p=16,a=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return n=Mn(p,i,n,c),n.elementType=e,n.type=a,n.lanes=h,n}function ai(e,n,i,a){return e=Mn(7,e,a,n),e.lanes=i,e}function Ua(e,n,i,a){return e=Mn(22,e,a,n),e.elementType=Yf,e.lanes=i,e.stateNode={isHidden:!1},e}function Ml(e,n,i){return e=Mn(6,e,null,n),e.lanes=i,e}function kl(e,n,i){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function dp(e,n,i,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Mc(e,n,i,a,c,h,p,E,m){return e=new dp(e,n,i,E,m),n===1?(n=1,h===!0&&(n|=8)):n=0,h=Mn(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},xc(h),e}function gp(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function Fh(e){if(!e)return Wr;e=e._reactInternals;e:{if(pi(e)!==e||e.tag!==1)throw Error(q(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(un(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(q(171))}if(e.tag===1){var i=e.type;if(un(i))return F0(e,i,n)}return n}function Uh(e,n,i,a,c,h,p,E,m){return e=Mc(i,a,!0,e,c,h,p,E,m),e.context=Fh(null),i=e.current,a=qt(),c=Vr(i),h=dr(a,c),h.callback=n??null,Fr(i,h,c),e.current.lanes=c,io(e,c,a),cn(e,a),e}function Va(e,n,i,a){var c=n.current,h=qt(),p=Vr(c);return i=Fh(i),n.context===null?n.context=i:n.pendingContext=i,n=dr(h,p),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Fr(c,n,p),e!==null&&(Xn(e,c,p,h),jo(e,c,p)),p}function va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function kc(e,n){cf(e,n),(e=e.alternate)&&cf(e,n)}function pp(){return null}var Vh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bc(e){this._internalRoot=e}za.prototype.render=Bc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(q(409));Va(e,n,null,null)};za.prototype.unmount=Bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;hi(function(){Va(null,e,null,null)}),n[pr]=null}};function za(e){this._internalRoot=e}za.prototype.unstable_scheduleHydration=function(e){if(e){var n=m0();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Or.length&&n!==0&&n<Or[i].priority;i++);Or.splice(i,0,e),i===0&&y0(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ff(){}function xp(e,n,i,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var x=va(p);h.call(x)}}var p=Uh(n,a,e,0,null,!1,!1,"",ff);return e._reactRootContainer=p,e[pr]=p.current,Zs(e.nodeType===8?e.parentNode:e),hi(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var E=a;a=function(){var x=va(m);E.call(x)}}var m=Mc(e,0,!1,null,null,!1,!1,"",ff);return e._reactRootContainer=m,e[pr]=m.current,Zs(e.nodeType===8?e.parentNode:e),hi(function(){Va(n,m,i,a)}),m}function ja(e,n,i,a,c){var h=i._reactRootContainer;if(h){var p=h;if(typeof c=="function"){var E=c;c=function(){var m=va(p);E.call(m)}}Va(n,p,e,c)}else p=xp(i,n,e,c,a);return va(p)}p0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Ts(n.pendingLanes);i!==0&&(tc(n,i|1),cn(n,yt()),!(Pe&6)&&($i=yt()+500,Yr()))}break;case 13:hi(function(){var a=xr(e,1);if(a!==null){var c=qt();Xn(a,e,1,c)}}),kc(e,1)}};nc=function(e){if(e.tag===13){var n=xr(e,134217728);if(n!==null){var i=qt();Xn(n,e,134217728,i)}kc(e,134217728)}};x0=function(e){if(e.tag===13){var n=Vr(e),i=xr(e,n);if(i!==null){var a=qt();Xn(i,e,n,a)}kc(e,n)}};m0=function(){return je};w0=function(e,n){var i=je;try{return je=e,n()}finally{je=i}};eu=function(e,n,i){switch(n){case"input":if(Yl(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var c=Ma(a);if(!c)throw Error(q(90));Kf(a),Yl(a,c)}}}break;case"textarea":qf(e,i);break;case"select":n=i.value,n!=null&&zi(e,!!i.multiple,n,!1)}};i0=Rc;s0=hi;var mp={usingClientEntryPoint:!1,Events:[oo,Di,Ma,n0,r0,Rc]},Ss={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wp={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||pp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{Ra=Bo.inject(wp),rr=Bo}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mp;An.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(n))throw Error(q(200));return gp(e,n,null,i)};An.createRoot=function(e,n){if(!Pc(e))throw Error(q(299));var i=!1,a="",c=Vh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Mc(e,1,!1,null,null,i,!1,a,c),e[pr]=n.current,Zs(e.nodeType===8?e.parentNode:e),new Bc(n)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=l0(n),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return hi(e)};An.hydrate=function(e,n,i){if(!Ha(n))throw Error(q(200));return ja(null,e,n,!0,i)};An.hydrateRoot=function(e,n,i){if(!Pc(e))throw Error(q(405));var a=i!=null&&i.hydratedSources||null,c=!1,h="",p=Vh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),n=Uh(n,null,e,1,i??null,c,!1,h,p),e[pr]=n.current,Zs(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new za(n)};An.render=function(e,n,i){if(!Ha(n))throw Error(q(200));return ja(null,e,n,!1,i)};An.unmountComponentAtNode=function(e){if(!Ha(e))throw Error(q(40));return e._reactRootContainer?(hi(function(){ja(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};An.unstable_batchedUpdates=Rc;An.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!Ha(i))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return ja(e,n,i,!1,a)};An.version="18.3.1-next-f1338f8080-20240426";function zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zh)}catch(e){console.error(e)}}zh(),zf.exports=An;var yp=zf.exports,hf=yp;Vl.createRoot=hf.createRoot,Vl.hydrateRoot=hf.hydrateRoot;const or=Object.create(null);or.open="0";or.close="1";or.ping="2";or.pong="3";or.message="4";or.upgrade="5";or.noop="6";const Qo=Object.create(null);Object.keys(or).forEach(e=>{Qo[or[e]]=e});const Mu={type:"error",data:"parser error"},Hh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jh=typeof ArrayBuffer=="function",Wh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Lc=({type:e,data:n},i,a)=>Hh&&n instanceof Blob?i?a(n):df(n,a):jh&&(n instanceof ArrayBuffer||Wh(n))?i?a(n):df(new Blob([n]),a):a(or[e]+(n||"")),df=(e,n)=>{const i=new FileReader;return i.onload=function(){const a=i.result.split(",")[1];n("b"+(a||""))},i.readAsDataURL(e)};function gf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Bl;function Ep(e,n){if(Hh&&e.data instanceof Blob)return e.data.arrayBuffer().then(gf).then(n);if(jh&&(e.data instanceof ArrayBuffer||Wh(e.data)))return n(gf(e.data));Lc(e,!1,i=>{Bl||(Bl=new TextEncoder),n(Bl.encode(i))})}const pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Os=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<pf.length;e++)Os[pf.charCodeAt(e)]=e;const Cp=e=>{let n=e.length*.75,i=e.length,a,c=0,h,p,E,m;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);const x=new ArrayBuffer(n),A=new Uint8Array(x);for(a=0;a<i;a+=4)h=Os[e.charCodeAt(a)],p=Os[e.charCodeAt(a+1)],E=Os[e.charCodeAt(a+2)],m=Os[e.charCodeAt(a+3)],A[c++]=h<<2|p>>4,A[c++]=(p&15)<<4|E>>2,A[c++]=(E&3)<<6|m&63;return x},Ap=typeof ArrayBuffer=="function",Fc=(e,n)=>{if(typeof e!="string")return{type:"message",data:Gh(e,n)};const i=e.charAt(0);return i==="b"?{type:"message",data:vp(e.substring(1),n)}:Qo[i]?e.length>1?{type:Qo[i],data:e.substring(1)}:{type:Qo[i]}:Mu},vp=(e,n)=>{if(Ap){const i=Cp(e);return Gh(i,n)}else return{base64:!0,data:e}},Gh=(e,n)=>{switch(n){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Xh="",Sp=(e,n)=>{const i=e.length,a=new Array(i);let c=0;e.forEach((h,p)=>{Lc(h,!1,E=>{a[p]=E,++c===i&&n(a.join(Xh))})})},_p=(e,n)=>{const i=e.split(Xh),a=[];for(let c=0;c<i.length;c++){const h=Fc(i[c],n);if(a.push(h),h.type==="error")break}return a};function Ip(){return new TransformStream({transform(e,n){Ep(e,i=>{const a=i.length;let c;if(a<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,a);else if(a<65536){c=new Uint8Array(3);const h=new DataView(c.buffer);h.setUint8(0,126),h.setUint16(1,a)}else{c=new Uint8Array(9);const h=new DataView(c.buffer);h.setUint8(0,127),h.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(c[0]|=128),n.enqueue(c),n.enqueue(i)})}})}let Pl;function Po(e){return e.reduce((n,i)=>n+i.length,0)}function Lo(e,n){if(e[0].length===n)return e.shift();const i=new Uint8Array(n);let a=0;for(let c=0;c<n;c++)i[c]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),i}function Np(e,n){Pl||(Pl=new TextDecoder);const i=[];let a=0,c=-1,h=!1;return new TransformStream({transform(p,E){for(i.push(p);;){if(a===0){if(Po(i)<1)break;const m=Lo(i,1);h=(m[0]&128)===128,c=m[0]&127,c<126?a=3:c===126?a=1:a=2}else if(a===1){if(Po(i)<2)break;const m=Lo(i,2);c=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),a=3}else if(a===2){if(Po(i)<8)break;const m=Lo(i,8),x=new DataView(m.buffer,m.byteOffset,m.length),A=x.getUint32(0);if(A>Math.pow(2,21)-1){E.enqueue(Mu);break}c=A*Math.pow(2,32)+x.getUint32(4),a=3}else{if(Po(i)<c)break;const m=Lo(i,c);E.enqueue(Fc(h?m:Pl.decode(m),n)),a=0}if(c===0||c>e){E.enqueue(Mu);break}}}})}const Yh=4;function vt(e){if(e)return Tp(e)}function Tp(e){for(var n in vt.prototype)e[n]=vt.prototype[n];return e}vt.prototype.on=vt.prototype.addEventListener=function(e,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(n),this};vt.prototype.once=function(e,n){function i(){this.off(e,i),n.apply(this,arguments)}return i.fn=n,this.on(e,i),this};vt.prototype.off=vt.prototype.removeListener=vt.prototype.removeAllListeners=vt.prototype.removeEventListener=function(e,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,c=0;c<i.length;c++)if(a=i[c],a===n||a.fn===n){i.splice(c,1);break}return i.length===0&&delete this._callbacks["$"+e],this};vt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),i=this._callbacks["$"+e],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(i){i=i.slice(0);for(var a=0,c=i.length;a<c;++a)i[a].apply(this,n)}return this};vt.prototype.emitReserved=vt.prototype.emit;vt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};vt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Wa=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,i)=>i(n,0),Dn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Rp="arraybuffer";function Zh(e,...n){return n.reduce((i,a)=>(e.hasOwnProperty(a)&&(i[a]=e[a]),i),{})}const Op=Dn.setTimeout,bp=Dn.clearTimeout;function Ga(e,n){n.useNativeTimers?(e.setTimeoutFn=Op.bind(Dn),e.clearTimeoutFn=bp.bind(Dn)):(e.setTimeoutFn=Dn.setTimeout.bind(Dn),e.clearTimeoutFn=Dn.clearTimeout.bind(Dn))}const Dp=1.33;function Mp(e){return typeof e=="string"?kp(e):Math.ceil((e.byteLength||e.size)*Dp)}function kp(e){let n=0,i=0;for(let a=0,c=e.length;a<c;a++)n=e.charCodeAt(a),n<128?i+=1:n<2048?i+=2:n<55296||n>=57344?i+=3:(a++,i+=4);return i}function Kh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Bp(e){let n="";for(let i in e)e.hasOwnProperty(i)&&(n.length&&(n+="&"),n+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n}function Pp(e){let n={},i=e.split("&");for(let a=0,c=i.length;a<c;a++){let h=i[a].split("=");n[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return n}class Lp extends Error{constructor(n,i,a){super(n),this.description=i,this.context=a,this.type="TransportError"}}class Uc extends vt{constructor(n){super(),this.writable=!1,Ga(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,i,a){return super.emitReserved("error",new Lp(n,i,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const i=Fc(n,this.socket.binaryType);this.onPacket(i)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,i={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const i=Bp(n);return i.length?"?"+i:""}}class Fp extends Uc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const i=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||i()})),this.writable||(a++,this.once("drain",function(){--a||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const i=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};_p(n,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,Sp(n,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=Kh()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(n,i)}}let Qh=!1;try{Qh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Up=Qh;function Vp(){}class zp extends Fp{constructor(n){if(super(n),typeof location<"u"){const i=location.protocol==="https:";let a=location.port;a||(a=i?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||a!==n.port}}doWrite(n,i){const a=this.request({method:"POST",data:n});a.on("success",i),a.on("error",(c,h)=>{this.onError("xhr post error",c,h)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(i,a)=>{this.onError("xhr poll error",i,a)}),this.pollXhr=n}}class sr extends vt{constructor(n,i,a){super(),this.createRequest=n,Ga(this,a),this._opts=a,this._method=a.method||"GET",this._uri=i,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var n;const i=Zh(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(i);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&a.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var c;a.readyState===3&&((c=this._opts.cookieJar)===null||c===void 0||c.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(c){this.setTimeoutFn(()=>{this._onError(c)},0);return}typeof document<"u"&&(this._index=sr.requestsCount++,sr.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Vp,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete sr.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}sr.requestsCount=0;sr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xf);else if(typeof addEventListener=="function"){const e="onpagehide"in Dn?"pagehide":"unload";addEventListener(e,xf,!1)}}function xf(){for(let e in sr.requests)sr.requests.hasOwnProperty(e)&&sr.requests[e].abort()}const Hp=function(){const e=qh({xdomain:!1});return e&&e.responseType!==null}();class jp extends zp{constructor(n){super(n);const i=n&&n.forceBase64;this.supportsBinary=Hp&&!i}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new sr(qh,this.uri(),n)}}function qh(e){const n=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Up))return new XMLHttpRequest}catch{}if(!n)try{return new Dn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Jh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Wp extends Uc{get name(){return"websocket"}doOpen(){const n=this.uri(),i=this.opts.protocols,a=Jh?{}:Zh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,i,a)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let i=0;i<n.length;i++){const a=n[i],c=i===n.length-1;Lc(a,this.supportsBinary,h=>{try{this.doWrite(a,h)}catch{}c&&Wa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=Kh()),this.supportsBinary||(i.b64=1),this.createUri(n,i)}}const Ll=Dn.WebSocket||Dn.MozWebSocket;class Gp extends Wp{createSocket(n,i,a){return Jh?new Ll(n,i,a):i?new Ll(n,i):new Ll(n)}doWrite(n,i){this.ws.send(i)}}class Xp extends Uc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const i=Np(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=n.readable.pipeThrough(i).getReader(),c=Ip();c.readable.pipeTo(n.writable),this._writer=c.writable.getWriter();const h=()=>{a.read().then(({done:E,value:m})=>{E||(this.onPacket(m),h())}).catch(E=>{})};h();const p={type:"open"};this.query.sid&&(p.data=`{"sid":"${this.query.sid}"}`),this._writer.write(p).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let i=0;i<n.length;i++){const a=n[i],c=i===n.length-1;this._writer.write(a).then(()=>{c&&Wa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const Yp={websocket:Gp,webtransport:Xp,polling:jp},Zp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Kp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ku(e){if(e.length>8e3)throw"URI too long";const n=e,i=e.indexOf("["),a=e.indexOf("]");i!=-1&&a!=-1&&(e=e.substring(0,i)+e.substring(i,a).replace(/:/g,";")+e.substring(a,e.length));let c=Zp.exec(e||""),h={},p=14;for(;p--;)h[Kp[p]]=c[p]||"";return i!=-1&&a!=-1&&(h.source=n,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=Qp(h,h.path),h.queryKey=qp(h,h.query),h}function Qp(e,n){const i=/\/{2,9}/g,a=n.replace(i,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&a.splice(0,1),n.slice(-1)=="/"&&a.splice(a.length-1,1),a}function qp(e,n){const i={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,c,h){c&&(i[c]=h)}),i}const Bu=typeof addEventListener=="function"&&typeof removeEventListener=="function",qo=[];Bu&&addEventListener("offline",()=>{qo.forEach(e=>e())},!1);class Hr extends vt{constructor(n,i){if(super(),this.binaryType=Rp,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(i=n,n=null),n){const a=ku(n);i.hostname=a.host,i.secure=a.protocol==="https"||a.protocol==="wss",i.port=a.port,a.query&&(i.query=a.query)}else i.host&&(i.hostname=ku(i.host).host);Ga(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(a=>{const c=a.prototype.name;this.transports.push(c),this._transportsByName[c]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Pp(this.opts.query)),Bu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},qo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const i=Object.assign({},this.opts.query);i.EIO=Yh,i.transport=n,this.id&&(i.sid=this.id);const a=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Hr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(n);i.open(),this.setTransport(i)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",Hr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=n.data,this._onError(i);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let a=0;a<this.writeBuffer.length;a++){const c=this.writeBuffer[a].data;if(c&&(i+=Mp(c)),a>0&&i>this._maxPayload)return this.writeBuffer.slice(0,a);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Wa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,i,a){return this._sendPacket("message",n,i,a),this}send(n,i,a){return this._sendPacket("message",n,i,a),this}_sendPacket(n,i,a,c){if(typeof i=="function"&&(c=i,i=void 0),typeof a=="function"&&(c=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const h={type:n,data:i,options:a};this.emitReserved("packetCreate",h),this.writeBuffer.push(h),c&&this.once("flush",c),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),n()},a=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():n()}):this.upgrading?a():n()),this}_onError(n){if(Hr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Bu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=qo.indexOf(this._offlineEventListener);a!==-1&&qo.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,i),this.writeBuffer=[],this._prevBufferLen=0}}}Hr.protocol=Yh;class Jp extends Hr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let i=this.createTransport(n),a=!1;Hr.priorWebsocketSuccess=!1;const c=()=>{a||(i.send([{type:"ping",data:"probe"}]),i.once("packet",S=>{if(!a)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;Hr.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(A(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const R=new Error("probe error");R.transport=i.name,this.emitReserved("upgradeError",R)}}))};function h(){a||(a=!0,A(),i.close(),i=null)}const p=S=>{const R=new Error("probe error: "+S);R.transport=i.name,h(),this.emitReserved("upgradeError",R)};function E(){p("transport closed")}function m(){p("socket closed")}function x(S){i&&S.name!==i.name&&h()}const A=()=>{i.removeListener("open",c),i.removeListener("error",p),i.removeListener("close",E),this.off("close",m),this.off("upgrading",x)};i.once("open",c),i.once("error",p),i.once("close",E),this.once("close",m),this.once("upgrading",x),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{a||i.open()},200):i.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const i=[];for(let a=0;a<n.length;a++)~this.transports.indexOf(n[a])&&i.push(n[a]);return i}}let $p=class extends Jp{constructor(n,i={}){const a=typeof n=="object"?n:i;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(c=>Yp[c]).filter(c=>!!c)),super(n,a)}};function ex(e,n="",i){let a=e;i=i||typeof location<"u"&&location,e==null&&(e=i.protocol+"//"+i.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=i.protocol+e:e=i.host+e),/^(https?|wss?):\/\//.test(e)||(typeof i<"u"?e=i.protocol+"//"+e:e="https://"+e),a=ku(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const h=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+h+":"+a.port+n,a.href=a.protocol+"://"+h+(i&&i.port===a.port?"":":"+a.port),a}const tx=typeof ArrayBuffer=="function",nx=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,$h=Object.prototype.toString,rx=typeof Blob=="function"||typeof Blob<"u"&&$h.call(Blob)==="[object BlobConstructor]",ix=typeof File=="function"||typeof File<"u"&&$h.call(File)==="[object FileConstructor]";function Vc(e){return tx&&(e instanceof ArrayBuffer||nx(e))||rx&&e instanceof Blob||ix&&e instanceof File}function Jo(e,n){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let i=0,a=e.length;i<a;i++)if(Jo(e[i]))return!0;return!1}if(Vc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Jo(e.toJSON(),!0);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&Jo(e[i]))return!0;return!1}function sx(e){const n=[],i=e.data,a=e;return a.data=Pu(i,n),a.attachments=n.length,{packet:a,buffers:n}}function Pu(e,n){if(!e)return e;if(Vc(e)){const i={_placeholder:!0,num:n.length};return n.push(e),i}else if(Array.isArray(e)){const i=new Array(e.length);for(let a=0;a<e.length;a++)i[a]=Pu(e[a],n);return i}else if(typeof e=="object"&&!(e instanceof Date)){const i={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=Pu(e[a],n));return i}return e}function ox(e,n){return e.data=Lu(e.data,n),delete e.attachments,e}function Lu(e,n){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<n.length)return n[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let i=0;i<e.length;i++)e[i]=Lu(e[i],n);else if(typeof e=="object")for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=Lu(e[i],n));return e}const ax=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lx=5;var De;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(De||(De={}));class ux{constructor(n){this.replacer=n}encode(n){return(n.type===De.EVENT||n.type===De.ACK)&&Jo(n)?this.encodeAsBinary({type:n.type===De.EVENT?De.BINARY_EVENT:De.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let i=""+n.type;return(n.type===De.BINARY_EVENT||n.type===De.BINARY_ACK)&&(i+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(i+=n.nsp+","),n.id!=null&&(i+=n.id),n.data!=null&&(i+=JSON.stringify(n.data,this.replacer)),i}encodeAsBinary(n){const i=sx(n),a=this.encodeAsString(i.packet),c=i.buffers;return c.unshift(a),c}}function mf(e){return Object.prototype.toString.call(e)==="[object Object]"}class zc extends vt{constructor(n){super(),this.reviver=n}add(n){let i;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(n);const a=i.type===De.BINARY_EVENT;a||i.type===De.BINARY_ACK?(i.type=a?De.EVENT:De.ACK,this.reconstructor=new cx(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(Vc(n)||n.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(n),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let i=0;const a={type:Number(n.charAt(0))};if(De[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===De.BINARY_EVENT||a.type===De.BINARY_ACK){const h=i+1;for(;n.charAt(++i)!=="-"&&i!=n.length;);const p=n.substring(h,i);if(p!=Number(p)||n.charAt(i)!=="-")throw new Error("Illegal attachments");a.attachments=Number(p)}if(n.charAt(i+1)==="/"){const h=i+1;for(;++i&&!(n.charAt(i)===","||i===n.length););a.nsp=n.substring(h,i)}else a.nsp="/";const c=n.charAt(i+1);if(c!==""&&Number(c)==c){const h=i+1;for(;++i;){const p=n.charAt(i);if(p==null||Number(p)!=p){--i;break}if(i===n.length)break}a.id=Number(n.substring(h,i+1))}if(n.charAt(++i)){const h=this.tryParse(n.substr(i));if(zc.isPayloadValid(a.type,h))a.data=h;else throw new Error("invalid payload")}return a}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,i){switch(n){case De.CONNECT:return mf(i);case De.DISCONNECT:return i===void 0;case De.CONNECT_ERROR:return typeof i=="string"||mf(i);case De.EVENT:case De.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&ax.indexOf(i[0])===-1);case De.ACK:case De.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class cx{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const i=ox(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const fx=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zc,Encoder:ux,get PacketType(){return De},protocol:lx},Symbol.toStringTag,{value:"Module"}));function jn(e,n,i){return e.on(n,i),function(){e.off(n,i)}}const hx=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ed extends vt{constructor(n,i,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=i,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[jn(n,"open",this.onopen.bind(this)),jn(n,"packet",this.onpacket.bind(this)),jn(n,"error",this.onerror.bind(this)),jn(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...i){var a,c,h;if(hx.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(i.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const p={type:De.EVENT,data:i};if(p.options={},p.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const A=this.ids++,S=i.pop();this._registerAckCallback(A,S),p.id=A}const E=(c=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||c===void 0?void 0:c.writable,m=this.connected&&!(!((h=this.io.engine)===null||h===void 0)&&h._hasPingExpired());return this.flags.volatile&&!E||(m?(this.notifyOutgoingListeners(p),this.packet(p)):this.sendBuffer.push(p)),this.flags={},this}_registerAckCallback(n,i){var a;const c=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(c===void 0){this.acks[n]=i;return}const h=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let E=0;E<this.sendBuffer.length;E++)this.sendBuffer[E].id===n&&this.sendBuffer.splice(E,1);i.call(this,new Error("operation has timed out"))},c),p=(...E)=>{this.io.clearTimeoutFn(h),i.apply(this,E)};p.withError=!0,this.acks[n]=p}emitWithAck(n,...i){return new Promise((a,c)=>{const h=(p,E)=>p?c(p):a(E);h.withError=!0,i.push(h),this.emit(n,...i)})}_addToQueue(n){let i;typeof n[n.length-1]=="function"&&(i=n.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((c,...h)=>a!==this._queue[0]?void 0:(c!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(c)):(this._queue.shift(),i&&i(null,...h)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!n||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:De.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(a=>String(a.id)===n)){const a=this.acks[n];delete this.acks[n],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case De.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.EVENT:case De.BINARY_EVENT:this.onevent(n);break;case De.ACK:case De.BINARY_ACK:this.onack(n);break;case De.DISCONNECT:this.ondisconnect();break;case De.CONNECT_ERROR:this.destroy();const a=new Error(n.data.message);a.data=n.data.data,this.emitReserved("connect_error",a);break}}onevent(n){const i=n.data||[];n.id!=null&&i.push(this.ack(n.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const a of i)a.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const i=this;let a=!1;return function(...c){a||(a=!0,i.packet({type:De.ACK,id:n,data:c}))}}onack(n){const i=this.acks[n.id];typeof i=="function"&&(delete this.acks[n.id],i.withError&&n.data.unshift(null),i.apply(this,n.data))}onconnect(n,i){this.id=n,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:De.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const i=this._anyListeners;for(let a=0;a<i.length;a++)if(n===i[a])return i.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const i=this._anyOutgoingListeners;for(let a=0;a<i.length;a++)if(n===i[a])return i.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const a of i)a.apply(this,n.data)}}}function rs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}rs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),i=Math.floor(n*this.jitter*e);e=Math.floor(n*10)&1?e+i:e-i}return Math.min(e,this.max)|0};rs.prototype.reset=function(){this.attempts=0};rs.prototype.setMin=function(e){this.ms=e};rs.prototype.setMax=function(e){this.max=e};rs.prototype.setJitter=function(e){this.jitter=e};class Fu extends vt{constructor(n,i){var a;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(i=n,n=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,Ga(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((a=i.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new rs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=n;const c=i.parser||fx;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var i;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(i=this.backoff)===null||i===void 0||i.setMin(n),this)}randomizationFactor(n){var i;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(i=this.backoff)===null||i===void 0||i.setJitter(n),this)}reconnectionDelayMax(n){var i;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(i=this.backoff)===null||i===void 0||i.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new $p(this.uri,this.opts);const i=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const c=jn(i,"open",function(){a.onopen(),n&&n()}),h=E=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",E),n?n(E):this.maybeReconnectOnOpen()},p=jn(i,"error",h);if(this._timeout!==!1){const E=this._timeout,m=this.setTimeoutFn(()=>{c(),h(new Error("timeout")),i.close()},E);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(c),this.subs.push(p),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(jn(n,"ping",this.onping.bind(this)),jn(n,"data",this.ondata.bind(this)),jn(n,"error",this.onerror.bind(this)),jn(n,"close",this.onclose.bind(this)),jn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(i){this.onclose("parse error",i)}}ondecoded(n){Wa(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,i){let a=this.nsps[n];return a?this._autoConnect&&!a.active&&a.connect():(a=new ed(this,n,i),this.nsps[n]=a),a}_destroy(n){const i=Object.keys(this.nsps);for(const a of i)if(this.nsps[a].active)return;this._close()}_packet(n){const i=this.encoder.encode(n);for(let a=0;a<i.length;a++)this.engine.write(i[a],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,i){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(c=>{c?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",c)):n.onreconnect()}))},i);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const _s={};function $o(e,n){typeof e=="object"&&(n=e,e=void 0),n=n||{};const i=ex(e,n.path||"/socket.io"),a=i.source,c=i.id,h=i.path,p=_s[c]&&h in _s[c].nsps,E=n.forceNew||n["force new connection"]||n.multiplex===!1||p;let m;return E?m=new Fu(a,n):(_s[c]||(_s[c]=new Fu(a,n)),m=_s[c]),i.query&&!n.query&&(n.query=i.queryKey),m.socket(i.path,n)}Object.assign($o,{Manager:Fu,Socket:ed,io:$o,connect:$o});const dx=new TextEncoder,gx=e=>Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join(""),td=async e=>{const n=await crypto.subtle.digest("SHA-256",e);return gx(n)},px=async e=>{const n=e.chunks.map(c=>c.hash).join("|"),i=`${e.file_id}:${e.total_size}:${e.chunks.length}:${n}`,a=dx.encode(i);return td(a)},xx=e=>{const n=atob(e),i=n.length,a=new Uint8Array(i);for(let c=0;c<i;c+=1)a[c]=n.charCodeAt(c);return a},mx=e=>{const n=new Map;return{handleManifest:async h=>{if(!(crypto!=null&&crypto.subtle))throw new Error("Web Crypto API is required for secure transfers.");if(!h.manifest||!h.manifest_signature)throw new Error("Manifest payload missing required fields.");if(await px(h.manifest)!==h.manifest_signature)throw new Error("Manifest signature mismatch.");n.set(h.file_id,{manifest:h.manifest,filename:h.filename,mimeType:h.mime_type,chunkBuffers:new Array(h.manifest.chunks.length),receivedChunks:0})},handleChunk:async h=>{const p=n.get(h.file_id);if(!p)throw new Error("Received chunk before manifest negotiation.");const E=p.manifest.chunks[h.chunk_index];if(!E)throw new Error(`Unexpected chunk index ${h.chunk_index}`);const m=xx(h.content);if(await td(m)!==E.hash)throw n.delete(h.file_id),new Error(`Hash mismatch for chunk ${h.chunk_index}`);p.chunkBuffers[h.chunk_index]=m,p.receivedChunks+=1},finalize:h=>{const p=n.get(h);if(!p)throw new Error("Transfer complete for unknown file.");if(p.receivedChunks!==p.manifest.chunks.length)throw n.delete(h),new Error("Transfer incomplete; missing chunks detected.");const E=new Blob(p.chunkBuffers,{type:p.mimeType});e(h,E,p.filename||`file-${h}`),n.delete(h)}}};var wx=Object.defineProperty,Sa=Object.getOwnPropertySymbols,nd=Object.prototype.hasOwnProperty,rd=Object.prototype.propertyIsEnumerable,wf=(e,n,i)=>n in e?wx(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Uu=(e,n)=>{for(var i in n||(n={}))nd.call(n,i)&&wf(e,i,n[i]);if(Sa)for(var i of Sa(n))rd.call(n,i)&&wf(e,i,n[i]);return e},Vu=(e,n)=>{var i={};for(var a in e)nd.call(e,a)&&n.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&Sa)for(var a of Sa(e))n.indexOf(a)<0&&rd.call(e,a)&&(i[a]=e[a]);return i};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var di;(e=>{const n=class Te{constructor(m,x,A,S){if(this.version=m,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],m<Te.MIN_VERSION||m>Te.MAX_VERSION)throw new RangeError("Version value out of range");if(S<-1||S>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let R=[];for(let U=0;U<this.size;U++)R.push(!1);for(let U=0;U<this.size;U++)this.modules.push(R.slice()),this.isFunction.push(R.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(A);if(this.drawCodewords(k),S==-1){let U=1e9;for(let F=0;F<8;F++){this.applyMask(F),this.drawFormatBits(F);const te=this.getPenaltyScore();te<U&&(S=F,U=te),this.applyMask(F)}}c(0<=S&&S<=7),this.mask=S,this.applyMask(S),this.drawFormatBits(S),this.isFunction=[]}static encodeText(m,x){const A=e.QrSegment.makeSegments(m);return Te.encodeSegments(A,x)}static encodeBinary(m,x){const A=e.QrSegment.makeBytes(m);return Te.encodeSegments([A],x)}static encodeSegments(m,x,A=1,S=40,R=-1,k=!0){if(!(Te.MIN_VERSION<=A&&A<=S&&S<=Te.MAX_VERSION)||R<-1||R>7)throw new RangeError("Invalid value");let U,F;for(U=A;;U++){const N=Te.getNumDataCodewords(U,x)*8,V=p.getTotalBits(m,U);if(V<=N){F=V;break}if(U>=S)throw new RangeError("Data too long")}for(const N of[Te.Ecc.MEDIUM,Te.Ecc.QUARTILE,Te.Ecc.HIGH])k&&F<=Te.getNumDataCodewords(U,N)*8&&(x=N);let te=[];for(const N of m){i(N.mode.modeBits,4,te),i(N.numChars,N.mode.numCharCountBits(U),te);for(const V of N.getData())te.push(V)}c(te.length==F);const D=Te.getNumDataCodewords(U,x)*8;c(te.length<=D),i(0,Math.min(4,D-te.length),te),i(0,(8-te.length%8)%8,te),c(te.length%8==0);for(let N=236;te.length<D;N^=253)i(N,8,te);let T=[];for(;T.length*8<te.length;)T.push(0);return te.forEach((N,V)=>T[V>>>3]|=N<<7-(V&7)),new Te(U,x,T,R)}getModule(m,x){return 0<=m&&m<this.size&&0<=x&&x<this.size&&this.modules[x][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let A=0;A<this.size;A++)this.setFunctionModule(6,A,A%2==0),this.setFunctionModule(A,6,A%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),x=m.length;for(let A=0;A<x;A++)for(let S=0;S<x;S++)A==0&&S==0||A==0&&S==x-1||A==x-1&&S==0||this.drawAlignmentPattern(m[A],m[S]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const x=this.errorCorrectionLevel.formatBits<<3|m;let A=x;for(let R=0;R<10;R++)A=A<<1^(A>>>9)*1335;const S=(x<<10|A)^21522;c(S>>>15==0);for(let R=0;R<=5;R++)this.setFunctionModule(8,R,a(S,R));this.setFunctionModule(8,7,a(S,6)),this.setFunctionModule(8,8,a(S,7)),this.setFunctionModule(7,8,a(S,8));for(let R=9;R<15;R++)this.setFunctionModule(14-R,8,a(S,R));for(let R=0;R<8;R++)this.setFunctionModule(this.size-1-R,8,a(S,R));for(let R=8;R<15;R++)this.setFunctionModule(8,this.size-15+R,a(S,R));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let A=0;A<12;A++)m=m<<1^(m>>>11)*7973;const x=this.version<<12|m;c(x>>>18==0);for(let A=0;A<18;A++){const S=a(x,A),R=this.size-11+A%3,k=Math.floor(A/3);this.setFunctionModule(R,k,S),this.setFunctionModule(k,R,S)}}drawFinderPattern(m,x){for(let A=-4;A<=4;A++)for(let S=-4;S<=4;S++){const R=Math.max(Math.abs(S),Math.abs(A)),k=m+S,U=x+A;0<=k&&k<this.size&&0<=U&&U<this.size&&this.setFunctionModule(k,U,R!=2&&R!=4)}}drawAlignmentPattern(m,x){for(let A=-2;A<=2;A++)for(let S=-2;S<=2;S++)this.setFunctionModule(m+S,x+A,Math.max(Math.abs(S),Math.abs(A))!=1)}setFunctionModule(m,x,A){this.modules[x][m]=A,this.isFunction[x][m]=!0}addEccAndInterleave(m){const x=this.version,A=this.errorCorrectionLevel;if(m.length!=Te.getNumDataCodewords(x,A))throw new RangeError("Invalid argument");const S=Te.NUM_ERROR_CORRECTION_BLOCKS[A.ordinal][x],R=Te.ECC_CODEWORDS_PER_BLOCK[A.ordinal][x],k=Math.floor(Te.getNumRawDataModules(x)/8),U=S-k%S,F=Math.floor(k/S);let te=[];const D=Te.reedSolomonComputeDivisor(R);for(let N=0,V=0;N<S;N++){let $=m.slice(V,V+F-R+(N<U?0:1));V+=$.length;const K=Te.reedSolomonComputeRemainder($,D);N<U&&$.push(0),te.push($.concat(K))}let T=[];for(let N=0;N<te[0].length;N++)te.forEach((V,$)=>{(N!=F-R||$>=U)&&T.push(V[N])});return c(T.length==k),T}drawCodewords(m){if(m.length!=Math.floor(Te.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let x=0;for(let A=this.size-1;A>=1;A-=2){A==6&&(A=5);for(let S=0;S<this.size;S++)for(let R=0;R<2;R++){const k=A-R,F=(A+1&2)==0?this.size-1-S:S;!this.isFunction[F][k]&&x<m.length*8&&(this.modules[F][k]=a(m[x>>>3],7-(x&7)),x++)}}c(x==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let x=0;x<this.size;x++)for(let A=0;A<this.size;A++){let S;switch(m){case 0:S=(A+x)%2==0;break;case 1:S=x%2==0;break;case 2:S=A%3==0;break;case 3:S=(A+x)%3==0;break;case 4:S=(Math.floor(A/3)+Math.floor(x/2))%2==0;break;case 5:S=A*x%2+A*x%3==0;break;case 6:S=(A*x%2+A*x%3)%2==0;break;case 7:S=((A+x)%2+A*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][A]&&S&&(this.modules[x][A]=!this.modules[x][A])}}getPenaltyScore(){let m=0;for(let R=0;R<this.size;R++){let k=!1,U=0,F=[0,0,0,0,0,0,0];for(let te=0;te<this.size;te++)this.modules[R][te]==k?(U++,U==5?m+=Te.PENALTY_N1:U>5&&m++):(this.finderPenaltyAddHistory(U,F),k||(m+=this.finderPenaltyCountPatterns(F)*Te.PENALTY_N3),k=this.modules[R][te],U=1);m+=this.finderPenaltyTerminateAndCount(k,U,F)*Te.PENALTY_N3}for(let R=0;R<this.size;R++){let k=!1,U=0,F=[0,0,0,0,0,0,0];for(let te=0;te<this.size;te++)this.modules[te][R]==k?(U++,U==5?m+=Te.PENALTY_N1:U>5&&m++):(this.finderPenaltyAddHistory(U,F),k||(m+=this.finderPenaltyCountPatterns(F)*Te.PENALTY_N3),k=this.modules[te][R],U=1);m+=this.finderPenaltyTerminateAndCount(k,U,F)*Te.PENALTY_N3}for(let R=0;R<this.size-1;R++)for(let k=0;k<this.size-1;k++){const U=this.modules[R][k];U==this.modules[R][k+1]&&U==this.modules[R+1][k]&&U==this.modules[R+1][k+1]&&(m+=Te.PENALTY_N2)}let x=0;for(const R of this.modules)x=R.reduce((k,U)=>k+(U?1:0),x);const A=this.size*this.size,S=Math.ceil(Math.abs(x*20-A*10)/A)-1;return c(0<=S&&S<=9),m+=S*Te.PENALTY_N4,c(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,x=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let A=[6];for(let S=this.size-7;A.length<m;S-=x)A.splice(1,0,S);return A}}static getNumRawDataModules(m){if(m<Te.MIN_VERSION||m>Te.MAX_VERSION)throw new RangeError("Version number out of range");let x=(16*m+128)*m+64;if(m>=2){const A=Math.floor(m/7)+2;x-=(25*A-10)*A-55,m>=7&&(x-=36)}return c(208<=x&&x<=29648),x}static getNumDataCodewords(m,x){return Math.floor(Te.getNumRawDataModules(m)/8)-Te.ECC_CODEWORDS_PER_BLOCK[x.ordinal][m]*Te.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let x=[];for(let S=0;S<m-1;S++)x.push(0);x.push(1);let A=1;for(let S=0;S<m;S++){for(let R=0;R<x.length;R++)x[R]=Te.reedSolomonMultiply(x[R],A),R+1<x.length&&(x[R]^=x[R+1]);A=Te.reedSolomonMultiply(A,2)}return x}static reedSolomonComputeRemainder(m,x){let A=x.map(S=>0);for(const S of m){const R=S^A.shift();A.push(0),x.forEach((k,U)=>A[U]^=Te.reedSolomonMultiply(k,R))}return A}static reedSolomonMultiply(m,x){if(m>>>8||x>>>8)throw new RangeError("Byte out of range");let A=0;for(let S=7;S>=0;S--)A=A<<1^(A>>>7)*285,A^=(x>>>S&1)*m;return c(A>>>8==0),A}finderPenaltyCountPatterns(m){const x=m[1];c(x<=this.size*3);const A=x>0&&m[2]==x&&m[3]==x*3&&m[4]==x&&m[5]==x;return(A&&m[0]>=x*4&&m[6]>=x?1:0)+(A&&m[6]>=x*4&&m[0]>=x?1:0)}finderPenaltyTerminateAndCount(m,x,A){return m&&(this.finderPenaltyAddHistory(x,A),x=0),x+=this.size,this.finderPenaltyAddHistory(x,A),this.finderPenaltyCountPatterns(A)}finderPenaltyAddHistory(m,x){x[0]==0&&(m+=this.size),x.pop(),x.unshift(m)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function i(E,m,x){if(m<0||m>31||E>>>m)throw new RangeError("Value out of range");for(let A=m-1;A>=0;A--)x.push(E>>>A&1)}function a(E,m){return(E>>>m&1)!=0}function c(E){if(!E)throw new Error("Assertion error")}const h=class pt{constructor(m,x,A){if(this.mode=m,this.numChars=x,this.bitData=A,x<0)throw new RangeError("Invalid argument");this.bitData=A.slice()}static makeBytes(m){let x=[];for(const A of m)i(A,8,x);return new pt(pt.Mode.BYTE,m.length,x)}static makeNumeric(m){if(!pt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let x=[];for(let A=0;A<m.length;){const S=Math.min(m.length-A,3);i(parseInt(m.substring(A,A+S),10),S*3+1,x),A+=S}return new pt(pt.Mode.NUMERIC,m.length,x)}static makeAlphanumeric(m){if(!pt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let x=[],A;for(A=0;A+2<=m.length;A+=2){let S=pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(A))*45;S+=pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(A+1)),i(S,11,x)}return A<m.length&&i(pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(A)),6,x),new pt(pt.Mode.ALPHANUMERIC,m.length,x)}static makeSegments(m){return m==""?[]:pt.isNumeric(m)?[pt.makeNumeric(m)]:pt.isAlphanumeric(m)?[pt.makeAlphanumeric(m)]:[pt.makeBytes(pt.toUtf8ByteArray(m))]}static makeEci(m){let x=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)i(m,8,x);else if(m<16384)i(2,2,x),i(m,14,x);else if(m<1e6)i(6,3,x),i(m,21,x);else throw new RangeError("ECI assignment value out of range");return new pt(pt.Mode.ECI,0,x)}static isNumeric(m){return pt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return pt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,x){let A=0;for(const S of m){const R=S.mode.numCharCountBits(x);if(S.numChars>=1<<R)return 1/0;A+=4+R+S.bitData.length}return A}static toUtf8ByteArray(m){m=encodeURI(m);let x=[];for(let A=0;A<m.length;A++)m.charAt(A)!="%"?x.push(m.charCodeAt(A)):(x.push(parseInt(m.substring(A+1,A+3),16)),A+=2);return x}};h.NUMERIC_REGEX=/^[0-9]*$/,h.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,h.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let p=h;e.QrSegment=h})(di||(di={}));(e=>{(n=>{const i=class{constructor(c,h){this.ordinal=c,this.formatBits=h}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),n.Ecc=i})(e.QrCode||(e.QrCode={}))})(di||(di={}));(e=>{(n=>{const i=class{constructor(c,h){this.modeBits=c,this.numBitsCharCount=h}numCharCountBits(c){return this.numBitsCharCount[Math.floor((c+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),n.Mode=i})(e.QrSegment||(e.QrSegment={}))})(di||(di={}));var Ui=di;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var yx={L:Ui.QrCode.Ecc.LOW,M:Ui.QrCode.Ecc.MEDIUM,Q:Ui.QrCode.Ecc.QUARTILE,H:Ui.QrCode.Ecc.HIGH},id=128,sd="L",od="#FFFFFF",ad="#000000",ld=!1,ud=1,Ex=4,Cx=0,Ax=.1;function cd(e,n=0){const i=[];return e.forEach(function(a,c){let h=null;a.forEach(function(p,E){if(!p&&h!==null){i.push(`M${h+n} ${c+n}h${E-h}v1H${h+n}z`),h=null;return}if(E===a.length-1){if(!p)return;h===null?i.push(`M${E+n},${c+n} h1v1H${E+n}z`):i.push(`M${h+n},${c+n} h${E+1-h}v1H${h+n}z`);return}p&&h===null&&(h=E)})}),i.join("")}function fd(e,n){return e.slice().map((i,a)=>a<n.y||a>=n.y+n.h?i:i.map((c,h)=>h<n.x||h>=n.x+n.w?c:!1))}function vx(e,n,i,a){if(a==null)return null;const c=e.length+i*2,h=Math.floor(n*Ax),p=c/n,E=(a.width||h)*p,m=(a.height||h)*p,x=a.x==null?e.length/2-E/2:a.x*p,A=a.y==null?e.length/2-m/2:a.y*p,S=a.opacity==null?1:a.opacity;let R=null;if(a.excavate){let U=Math.floor(x),F=Math.floor(A),te=Math.ceil(E+x-U),D=Math.ceil(m+A-F);R={x:U,y:F,w:te,h:D}}const k=a.crossOrigin;return{x,y:A,h:m,w:E,excavation:R,opacity:S,crossOrigin:k}}function Sx(e,n){return n!=null?Math.max(Math.floor(n),0):e?Ex:Cx}function hd({value:e,level:n,minVersion:i,includeMargin:a,marginSize:c,imageSettings:h,size:p,boostLevel:E}){let m=Ct.useMemo(()=>{const U=(Array.isArray(e)?e:[e]).reduce((F,te)=>(F.push(...Ui.QrSegment.makeSegments(te)),F),[]);return Ui.QrCode.encodeSegments(U,yx[n],i,void 0,void 0,E)},[e,n,i,E]);const{cells:x,margin:A,numCells:S,calculatedImageSettings:R}=Ct.useMemo(()=>{let k=m.getModules();const U=Sx(a,c),F=k.length+U*2,te=vx(k,p,U,h);return{cells:k,margin:U,numCells:F,calculatedImageSettings:te}},[m,p,h,a,c]);return{qrcode:m,margin:A,cells:x,numCells:S,calculatedImageSettings:R}}var _x=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Ix=Ct.forwardRef(function(n,i){const a=n,{value:c,size:h=id,level:p=sd,bgColor:E=od,fgColor:m=ad,includeMargin:x=ld,minVersion:A=ud,boostLevel:S,marginSize:R,imageSettings:k}=a,F=Vu(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:te}=F,D=Vu(F,["style"]),T=k==null?void 0:k.src,N=Ct.useRef(null),V=Ct.useRef(null),$=Ct.useCallback(Fe=>{N.current=Fe,typeof i=="function"?i(Fe):i&&(i.current=Fe)},[i]),[K,z]=Ct.useState(!1),{margin:Q,cells:G,numCells:ye,calculatedImageSettings:Ce}=hd({value:c,level:p,minVersion:A,boostLevel:S,includeMargin:x,marginSize:R,imageSettings:k,size:h});Ct.useEffect(()=>{if(N.current!=null){const Fe=N.current,W=Fe.getContext("2d");if(!W)return;let We=G;const pe=V.current,ie=Ce!=null&&pe!==null&&pe.complete&&pe.naturalHeight!==0&&pe.naturalWidth!==0;ie&&Ce.excavation!=null&&(We=fd(G,Ce.excavation));const fe=window.devicePixelRatio||1;Fe.height=Fe.width=h*fe;const ge=h/ye*fe;W.scale(ge,ge),W.fillStyle=E,W.fillRect(0,0,ye,ye),W.fillStyle=m,_x?W.fill(new Path2D(cd(We,Q))):G.forEach(function(He,Ae){He.forEach(function(Ot,Le){Ot&&W.fillRect(Le+Q,Ae+Q,1,1)})}),Ce&&(W.globalAlpha=Ce.opacity),ie&&W.drawImage(pe,Ce.x+Q,Ce.y+Q,Ce.w,Ce.h)}}),Ct.useEffect(()=>{z(!1)},[T]);const he=Uu({height:h,width:h},te);let Se=null;return T!=null&&(Se=Ct.createElement("img",{src:T,key:T,style:{display:"none"},onLoad:()=>{z(!0)},ref:V,crossOrigin:Ce==null?void 0:Ce.crossOrigin})),Ct.createElement(Ct.Fragment,null,Ct.createElement("canvas",Uu({style:he,height:h,width:h,ref:$,role:"img"},D)),Se)});Ix.displayName="QRCodeCanvas";var dd=Ct.forwardRef(function(n,i){const a=n,{value:c,size:h=id,level:p=sd,bgColor:E=od,fgColor:m=ad,includeMargin:x=ld,minVersion:A=ud,boostLevel:S,title:R,marginSize:k,imageSettings:U}=a,F=Vu(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:te,cells:D,numCells:T,calculatedImageSettings:N}=hd({value:c,level:p,minVersion:A,boostLevel:S,includeMargin:x,marginSize:k,imageSettings:U,size:h});let V=D,$=null;U!=null&&N!=null&&(N.excavation!=null&&(V=fd(D,N.excavation)),$=Ct.createElement("image",{href:U.src,height:N.h,width:N.w,x:N.x+te,y:N.y+te,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const K=cd(V,te);return Ct.createElement("svg",Uu({height:h,width:h,viewBox:`0 0 ${T} ${T}`,ref:i,role:"img"},F),!!R&&Ct.createElement("title",null,R),Ct.createElement("path",{fill:E,d:`M0,0 h${T}v${T}H0z`,shapeRendering:"crispEdges"}),Ct.createElement("path",{fill:m,d:K,shapeRendering:"crispEdges"}),$)});dd.displayName="QRCodeSVG";var oe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var yf=new Map([[oe.QR_CODE,"QR_CODE"],[oe.AZTEC,"AZTEC"],[oe.CODABAR,"CODABAR"],[oe.CODE_39,"CODE_39"],[oe.CODE_93,"CODE_93"],[oe.CODE_128,"CODE_128"],[oe.DATA_MATRIX,"DATA_MATRIX"],[oe.MAXICODE,"MAXICODE"],[oe.ITF,"ITF"],[oe.EAN_13,"EAN_13"],[oe.EAN_8,"EAN_8"],[oe.PDF_417,"PDF_417"],[oe.RSS_14,"RSS_14"],[oe.RSS_EXPANDED,"RSS_EXPANDED"],[oe.UPC_A,"UPC_A"],[oe.UPC_E,"UPC_E"],[oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ef;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Ef||(Ef={}));function Nx(e){return Object.values(oe).includes(e)}var _a;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(_a||(_a={}));var Tx=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[_a.SCAN_TYPE_CAMERA,_a.SCAN_TYPE_FILE],e}(),gd=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!yf.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,yf.get(n))},e}(),Cf=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),zu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zu||(zu={}));var Rx=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:zu.UNKWOWN_ERROR}},e}(),Ox=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function lr(e){return typeof e>"u"||e===null}var Vi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),pd=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var a=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(c),p=Object.keys(n),E=0,m=p;E<m.length;E++){var x=m[E];if(h.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Hu={exports:{}};(function(e,n){(function(i,a){a(n)})(xs,function(i){function a(y){return y==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,t){y.__proto__=t}||function(y,t){for(var r in t)t.hasOwnProperty(r)&&(y[r]=t[r])};function h(y,t){c(y,t);function r(){this.constructor=y}y.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function p(y,t){var r=Object.setPrototypeOf;r?r(y,t):y.__proto__=t}function E(y,t){t===void 0&&(t=y.constructor);var r=Error.captureStackTrace;r&&r(y,t)}var m=function(y){h(t,y);function t(r){var s=this.constructor,o=y.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),p(o,s.prototype),E(o),o}return t}(Error);class x extends m{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}x.kind="Exception";class A extends x{}A.kind="ArgumentException";class S extends x{}S.kind="IllegalArgumentException";class R{constructor(t){if(this.binarizer=t,t===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,s,o){const l=this.binarizer.getLuminanceSource().crop(t,r,s,o);return new R(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends x{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class U{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(t,r,s,o,l){for(;l--;)s[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class te extends x{}te.kind="IndexOutOfBoundsException";class D extends te{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}D.kind="ArrayIndexOutOfBoundsException";class T{static fill(t,r){for(let s=0,o=t.length;s<o;s++)t[s]=r}static fillWithin(t,r,s,o){T.rangeCheck(t.length,r,s);for(let l=r;l<s;l++)t[l]=o}static rangeCheck(t,r,s){if(r>s)throw new S("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new D(r);if(s>t)throw new D(s)}static asList(...t){return t}static create(t,r,s){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(t,r,s){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let s=0,o=t.length;s<o;s++)if(t[s]!==r[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const s of t)r=31*r+s;return r}static fillUint8Array(t,r){for(let s=0;s!==t.length;s++)t[s]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const s=new Uint8Array(r);return s.set(t),s}return t.slice(0,r)}static copyOfRange(t,r,s){const o=s-r,l=new Int32Array(o);return F.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,s){s===void 0&&(s=T.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const u=l+o>>1,f=s(r,t[u]);if(f>0)o=u+1;else if(f<0)l=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class N{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let s=31;return r=t<<16,r!==0&&(s-=16,t=r),r=t<<8,r!==0&&(s-=8,t=r),r=t<<4,r!==0&&(s-=4,t=r),r=t<<2,r!==0&&(s-=2,t=r),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=V.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=V.makeArray(t);F.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=s[o]}const f=o*32+N.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=~s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=~s[o]}const f=o*32+N.numberOfTrailingZeros(l);return f>r?r:f}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new S;if(r===t)return;r--;const s=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let u=s;u<=o;u++){const f=u>s?0:t&31,g=(2<<(u<o?31:r&31))-(1<<f);l[u]|=g}}clear(){const t=this.bits.length,r=this.bits;for(let s=0;s<t;s++)r[s]=0}isRange(t,r,s){if(r<t||t<0||r>this.size)throw new S;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let f=o;f<=l;f++){const d=f>o?0:t&31,w=(2<<(f<l?31:r&31))-(1<<d)&4294967295;if((u[f]&w)!==(s?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new S("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=t.bits[s]}toBytes(t,r,s,o){for(let l=0;l<o;l++){let u=0;for(let f=0;f<8;f++)this.get(t)&&(u|=1<<7-f),t++;r[s+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let l=0;l<s;l++){let u=o[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==s*32){const l=s*32-this.size;let u=t[0]>>>l;for(let f=1;f<s;f++){const d=t[f];u|=d<<32-l,t[f-1]=u,u=d>>>l}t[s-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof V))return!1;const r=t;return this.size===r.size&&T.equals(this.bits,r.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let t="";for(let r=0,s=this.size;r<s;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new V(this.size,this.bits.slice())}}var $;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var K=$;class z extends x{static getFormatInstance(){return new z}}z.kind="FormatException";var Q;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class G{constructor(t,r,s,...o){this.valueIdentifier=t,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(s,this);const l=this.values;for(let u=0,f=l.length;u!==f;u++){const d=l[u];G.VALUES_TO_ECI.set(d,this)}for(const u of o)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new z("incorect value");const r=G.VALUES_TO_ECI.get(t);if(r===void 0)throw new z("incorect value");return r}static getCharacterSetECIByName(t){const r=G.NAME_TO_ECI.get(t);if(r===void 0)throw new z("incorect value");return r}equals(t){if(!(t instanceof G))return!1;const r=t;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(Q.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(Q.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(Q.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(Q.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(Q.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(Q.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(Q.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(Q.Big5,28,"Big5"),G.GB18030=new G(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(Q.EUC_KR,30,"EUC_KR","EUC-KR");class ye extends x{}ye.kind="UnsupportedOperationException";class Ce{static decode(t,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!Ce.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,r){const s=this.encodingCharacterSet(r);if(Ce.isDecodeFallbackSupported(s)){let o="";for(let l=0,u=t.length;l<u;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(s.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ye(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class he{static castAsNonUtf8Char(t,r=null){const s=r?r.getName():this.ISO88591;return Ce.decode(new Uint8Array([t]),s)}static guessEncoding(t,r){if(r!=null&&r.get(K.CHARACTER_SET)!==void 0)return r.get(K.CHARACTER_SET).toString();const s=t.length;let o=!0,l=!0,u=!0,f=0,d=0,g=0,w=0,C=0,v=0,I=0,O=0,b=0,P=0,j=0;const J=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ee=0;ee<s&&(o||l||u);ee++){const Z=t[ee]&255;u&&(f>0?Z&128?f--:u=!1:Z&128&&(Z&64?(f++,Z&32?(f++,Z&16?(f++,Z&8?u=!1:w++):g++):d++):u=!1)),o&&(Z>127&&Z<160?o=!1:Z>159&&(Z<192||Z===215||Z===247)&&j++),l&&(C>0?Z<64||Z===127||Z>252?l=!1:C--:Z===128||Z===160||Z>239?l=!1:Z>160&&Z<224?(v++,O=0,I++,I>b&&(b=I)):Z>127?(C++,I=0,O++,O>P&&(P=O)):(I=0,O=0))}return u&&f>0&&(u=!1),l&&C>0&&(l=!1),u&&(J||d+g+w>0)?he.UTF8:l&&(he.ASSUME_SHIFT_JIS||b>=3||P>=3)?he.SHIFT_JIS:o&&l?b===2&&v===2||j*10>=s?he.SHIFT_JIS:he.ISO88591:o?he.ISO88591:l?he.SHIFT_JIS:u?he.UTF8:he.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let s=-1;function o(u,f,d,g,w,C){if(u==="%%")return"%";if(r[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let v=w?parseInt(w.substr(1)):void 0,I;switch(C){case"s":I=r[s];break;case"c":I=r[s][0];break;case"f":I=parseFloat(r[s]).toFixed(u);break;case"p":I=parseFloat(r[s]).toPrecision(u);break;case"e":I=parseFloat(r[s]).toExponential(u);break;case"x":I=parseInt(r[s]).toString(v||16);break;case"d":I=parseFloat(parseInt(r[s],v||10).toPrecision(u)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(v);let O=parseInt(d),b=d&&d[0]+""=="0"?"0":" ";for(;I.length<O;)I=f!==void 0?I+b:b+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return Ce.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}he.SHIFT_JIS=G.SJIS.getName(),he.GB2312="GB2312",he.ISO88591=G.ISO8859_1.getName(),he.EUC_JP="EUC_JP",he.UTF8=G.UTF8.getName(),he.PLATFORM_DEFAULT_ENCODING=he.UTF8,he.ASSUME_SHIFT_JIS=!1;class Se{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=he.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,s){for(let o=r;r<r+s;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Fe{constructor(t,r,s,o){if(this.width=t,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new S("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,s=t[0].length,o=new Fe(s,r);for(let l=0;l<r;l++){const u=t[l];for(let f=0;f<s;f++)u[f]&&o.set(f,l)}return o}static parseFromString(t,r,s){if(t===null)throw new S("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,u=0,f=-1,d=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");u=l,d++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,o[l]=!0,l++;else if(t.substring(g,g+s.length)===s)g+=s.length,o[l]=!1,l++;else throw new S("illegal character encountered: "+t.substring(g));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");d++}const w=new Fe(f,d);for(let C=0;C<l;C++)o[C]&&w.set(Math.floor(C%f),Math.floor(C/f));return w}get(t,r){const s=r*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new S("input matrix dimensions do not match");const r=new V(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,u=this.height;l<u;l++){const f=l*s,d=t.getRow(l,r).getBitArray();for(let g=0;g<s;g++)o[f+g]^=d[g]}}clear(){const t=this.bits,r=t.length;for(let s=0;s<r;s++)t[s]=0}setRegion(t,r,s,o){if(r<0||t<0)throw new S("Left and top must be nonnegative");if(o<1||s<1)throw new S("Height and width must be at least 1");const l=t+s,u=r+o;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const f=this.rowSize,d=this.bits;for(let g=r;g<u;g++){const w=g*f;for(let C=t;C<l;C++)d[w+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new V(this.width):r.clear();const s=this.rowSize,o=this.bits,l=t*s;for(let u=0;u<s;u++)r.setBulk(u*32,o[l+u]);return r}setRow(t,r){F.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let s=new V(t),o=new V(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)s=this.getRow(l,s),o=this.getRow(r-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,s)}getEnclosingRectangle(){const t=this.width,r=this.height,s=this.rowSize,o=this.bits;let l=t,u=r,f=-1,d=-1;for(let g=0;g<r;g++)for(let w=0;w<s;w++){const C=o[g*s+w];if(C!==0){if(g<u&&(u=g),g>d&&(d=g),w*32<l){let v=0;for(;!(C<<31-v&4294967295);)v++;w*32+v<l&&(l=w*32+v)}if(w*32+31>f){let v=31;for(;!(C>>>v);)v--;w*32+v>f&&(f=w*32+v)}}}return f<l||d<u?null:Int32Array.from([l,u,f-l+1,d-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/t;let l=s%t*32;const u=r[s];let f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/t);let l=Math.floor(s%t)*32;const u=r[s];let f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Fe))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&T.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+T.hashCode(this.bits),t}toString(t="X ",r="  ",s=`
`){return this.buildToString(t,r,s)}buildToString(t,r,s){let o=new Se;for(let l=0,u=this.height;l<u;l++){for(let f=0,d=this.width;f<d;f++)o.append(this.get(f,l)?t:r);o.append(s)}return o.toString()}clone(){return new Fe(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends x{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class We extends U{constructor(t){super(t),this.luminances=We.EMPTY,this.buckets=new Int32Array(We.LUMINANCE_BUCKETS)}getBlackRow(t,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new V(o):r.clear(),this.initArrays(o);const l=s.getRow(t,this.luminances),u=this.buckets;for(let d=0;d<o;d++)u[(l[d]&255)>>We.LUMINANCE_SHIFT]++;const f=We.estimateBlackPoint(u);if(o<3)for(let d=0;d<o;d++)(l[d]&255)<f&&r.set(d);else{let d=l[0]&255,g=l[1]&255;for(let w=1;w<o-1;w++){const C=l[w+1]&255;(g*4-d-C)/2<f&&r.set(w),d=g,g=C}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight(),o=new Fe(r,s);this.initArrays(r);const l=this.buckets;for(let d=1;d<5;d++){const g=Math.floor(s*d/5),w=t.getRow(g,this.luminances),C=Math.floor(r*4/5);for(let v=Math.floor(r/5);v<C;v++){const I=w[v]&255;l[I>>We.LUMINANCE_SHIFT]++}}const u=We.estimateBlackPoint(l),f=t.getMatrix();for(let d=0;d<s;d++){const g=d*r;for(let w=0;w<r;w++)(f[g+w]&255)<u&&o.set(w,d)}return o}createBinarizer(t){return new We(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let s=0;s<We.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(t){const r=t.length;let s=0,o=0,l=0;for(let w=0;w<r;w++)t[w]>l&&(o=w,l=t[w]),t[w]>s&&(s=t[w]);let u=0,f=0;for(let w=0;w<r;w++){const C=w-o,v=t[w]*C*C;v>f&&(u=w,f=v)}if(o>u){const w=o;o=u,u=w}if(u-o<=r/16)throw new W;let d=u-1,g=-1;for(let w=u-1;w>o;w--){const C=w-o,v=C*C*(u-w)*(s-t[w]);v>g&&(d=w,g=v)}return d<<We.LUMINANCE_SHIFT}}We.LUMINANCE_BITS=5,We.LUMINANCE_SHIFT=8-We.LUMINANCE_BITS,We.LUMINANCE_BUCKETS=1<<We.LUMINANCE_BITS,We.EMPTY=Uint8ClampedArray.from([0]);class pe extends We{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight();if(r>=pe.MINIMUM_DIMENSION&&s>=pe.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>pe.BLOCK_SIZE_POWER;r&pe.BLOCK_SIZE_MASK&&l++;let u=s>>pe.BLOCK_SIZE_POWER;s&pe.BLOCK_SIZE_MASK&&u++;const f=pe.calculateBlackPoints(o,l,u,r,s),d=new Fe(r,s);pe.calculateThresholdForBlock(o,l,u,r,s,f,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new pe(t)}static calculateThresholdForBlock(t,r,s,o,l,u,f){const d=l-pe.BLOCK_SIZE,g=o-pe.BLOCK_SIZE;for(let w=0;w<s;w++){let C=w<<pe.BLOCK_SIZE_POWER;C>d&&(C=d);const v=pe.cap(w,2,s-3);for(let I=0;I<r;I++){let O=I<<pe.BLOCK_SIZE_POWER;O>g&&(O=g);const b=pe.cap(I,2,r-3);let P=0;for(let J=-2;J<=2;J++){const ee=u[v+J];P+=ee[b-2]+ee[b-1]+ee[b]+ee[b+1]+ee[b+2]}const j=P/25;pe.thresholdBlock(t,O,C,j,o,f)}}}static cap(t,r,s){return t<r?r:t>s?s:t}static thresholdBlock(t,r,s,o,l,u){for(let f=0,d=s*l+r;f<pe.BLOCK_SIZE;f++,d+=l)for(let g=0;g<pe.BLOCK_SIZE;g++)(t[d+g]&255)<=o&&u.set(r+g,s+f)}static calculateBlackPoints(t,r,s,o,l){const u=l-pe.BLOCK_SIZE,f=o-pe.BLOCK_SIZE,d=new Array(s);for(let g=0;g<s;g++){d[g]=new Int32Array(r);let w=g<<pe.BLOCK_SIZE_POWER;w>u&&(w=u);for(let C=0;C<r;C++){let v=C<<pe.BLOCK_SIZE_POWER;v>f&&(v=f);let I=0,O=255,b=0;for(let j=0,J=w*o+v;j<pe.BLOCK_SIZE;j++,J+=o){for(let ee=0;ee<pe.BLOCK_SIZE;ee++){const Z=t[J+ee]&255;I+=Z,Z<O&&(O=Z),Z>b&&(b=Z)}if(b-O>pe.MIN_DYNAMIC_RANGE)for(j++,J+=o;j<pe.BLOCK_SIZE;j++,J+=o)for(let ee=0;ee<pe.BLOCK_SIZE;ee++)I+=t[J+ee]&255}let P=I>>pe.BLOCK_SIZE_POWER*2;if(b-O<=pe.MIN_DYNAMIC_RANGE&&(P=O/2,g>0&&C>0)){const j=(d[g-1][C]+2*d[g][C-1]+d[g-1][C-1])/4;O<j&&(P=j)}d[g][C]=P}}return d}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class ie{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,s,o){throw new ye("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ye("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ye("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Se;for(let s=0;s<this.height;s++){const o=this.getRow(s,t);for(let l=0;l<this.width;l++){const u=o[l]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class fe extends ie{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const s=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(t[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,s,o){return new fe(this.delegate.crop(t,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class ge extends ie{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return ge.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,s){const o=new Uint8ClampedArray(r*s);for(let l=0,u=0,f=t.length;l<f;l+=4,u++){let d;if(t[l+3]===0)d=255;else{const w=t[l],C=t[l+1],v=t[l+2];d=306*w+601*C+117*v+512>>10}o[u]=d}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth(),o=t*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,s,o){return super.crop(t,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=t*ge.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),d=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=f,r.height=d,s.translate(f/2,d/2),s.rotate(o),s.drawImage(this.canvas,l/-2,u/-2),this.buffer=ge.makeBufferFromCanvasImageData(r),this}invert(){return new fe(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class He{constructor(t,r,s){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||xs||self||window||void 0)&&(globalThis||xs||self||window||void 0).__awaiter||function(y,t,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(w){try{g(s.next(w))}catch(C){u(C)}}function d(w){try{g(s.throw(w))}catch(C){u(C)}}function g(w){w.done?l(w.value):o(w.value).then(f,d)}g((s=s.apply(y,t||[])).next())})};class Ot{constructor(t,r=500,s){this.reader=t,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of t){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,u=s.label||`Video device ${r.length+1}`,f=s.groupId,d={deviceId:l,label:u,kind:o,groupId:f};r.push(d)}return r})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new He(r.deviceId,r.label))})}findDeviceById(t){return Ae(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ae(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Ae(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(t,r){return Ae(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,r,s){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,s)})}decodeFromVideoDevice(t,r,s){return Ae(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(t,r,s){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(t,r,s){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ae(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((r,s)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const s=document.getElementById(t);if(!s)throw new A(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new A(`element with id '${t}' must be an ${r} element`);return s}decodeFromImage(t,r){if(!t&&!r)throw new A("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new A("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,s){if(t===void 0&&r===void 0)throw new A("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new A("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(t){if(!t)throw new A("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new A("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=t,s}decodeFromVideoUrl(t){if(!t)throw new A("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=t,s}decodeFromVideoUrlContinuously(t,r){if(!t)throw new A("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=t,o}_decodeOnLoadImage(t){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,u)=>{if(this._stopAsyncDecode){u(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const d=r&&f instanceof W,w=(f instanceof k||f instanceof z)&&s;if(d||w)return setTimeout(o,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>o(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof k||o instanceof z,u=o instanceof W;(l||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,s){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),s=new ge(r),o=new pe(s);return new R(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Le{constructor(t,r,s=r==null?0:8*r.length,o,l,u=F.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,u==null?this.timestamp=F.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(r.length+t.length);F.arraycopy(r,0,s,0,r.length),F.arraycopy(t,0,s,r.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Sn;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Sn||(Sn={}));var ce=Sn,Ln;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ln||(Ln={}));var st=Ln;class Ge{constructor(t,r,s,o,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Et{exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class St{constructor(t,r){if(r.length===0)throw new S;this.field=t;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),F.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(t===1){s=0;for(let u=0,f=r.length;u!==f;u++){const d=r[u];s=Et.addOrSubtract(s,d)}return s}s=r[0];const o=r.length,l=this.field;for(let u=1;u<o;u++)s=Et.addOrSubtract(l.multiply(t,s),r[u]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){const u=r;r=s,s=u}let o=new Int32Array(s.length);const l=s.length-r.length;F.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=Et.addOrSubtract(r[u-l],s[u]);return new St(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1),f=this.field;for(let d=0;d<s;d++){const g=r[d];for(let w=0;w<l;w++)u[d+w]=Et.addOrSubtract(u[d+w],f.multiply(g,o[w]))}return new St(f,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)o[u]=s.multiply(l[u],t);return new St(s,o)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+t),u=this.field;for(let f=0;f<o;f++)l[f]=u.multiply(s[f],r);return new St(u,l)}divide(t){if(!this.field.equals(t.field))throw new S("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new S("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const f=o.getDegree()-t.getDegree(),d=r.multiply(o.getCoefficient(o.getDegree()),u),g=t.multiplyByMonomial(f,d),w=r.buildMonomial(f,d);s=s.addOrSubtract(w),o=o.addOrSubtract(g)}return[s,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class xi extends x{}xi.kind="ArithmeticException";class ke extends Et{constructor(t,r,s){super(),this.primitive=t,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let l=1;for(let f=0;f<r;f++)o[f]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const u=new Int32Array(r);for(let f=0;f<r-1;f++)u[o[f]]=f;this.logTable=u,this.zero=new St(this,Int32Array.from([0])),this.one=new St(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;const s=new Int32Array(t+1);return s[0]=r,new St(this,s)}inverse(t){if(t===0)throw new xi;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ke.AZTEC_DATA_12=new ke(4201,4096,1),ke.AZTEC_DATA_10=new ke(1033,1024,1),ke.AZTEC_DATA_6=new ke(67,64,1),ke.AZTEC_PARAM=new ke(19,16,1),ke.QR_CODE_FIELD_256=new ke(285,256,0),ke.DATA_MATRIX_FIELD_256=new ke(301,256,1),ke.AZTEC_DATA_8=ke.DATA_MATRIX_FIELD_256,ke.MAXICODE_FIELD_64=ke.AZTEC_DATA_6;class yr extends x{}yr.kind="ReedSolomonException";class fn extends x{}fn.kind="IllegalStateException";class Zr{constructor(t){this.field=t}decode(t,r){const s=this.field,o=new St(s,t),l=new Int32Array(r);let u=!0;for(let I=0;I<r;I++){const O=o.evaluateAt(s.exp(I+s.getGeneratorBase()));l[l.length-1-I]=O,O!==0&&(u=!1)}if(u)return;const f=new St(s,l),d=this.runEuclideanAlgorithm(s.buildMonomial(r,1),f,r),g=d[0],w=d[1],C=this.findErrorLocations(g),v=this.findErrorMagnitudes(w,C);for(let I=0;I<C.length;I++){const O=t.length-1-s.log(C[I]);if(O<0)throw new yr("Bad error location");t[O]=ke.addOrSubtract(t[O],v[I])}}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){const I=t;t=r,r=I}const o=this.field;let l=t,u=r,f=o.getZero(),d=o.getOne();for(;u.getDegree()>=(s/2|0);){let I=l,O=f;if(l=u,f=d,l.isZero())throw new yr("r_{i-1} was zero");u=I;let b=o.getZero();const P=l.getCoefficient(l.getDegree()),j=o.inverse(P);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const J=u.getDegree()-l.getDegree(),ee=o.multiply(u.getCoefficient(u.getDegree()),j);b=b.addOrSubtract(o.buildMonomial(J,ee)),u=u.addOrSubtract(l.multiplyByMonomial(J,ee))}if(d=b.multiply(f).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new fn("Division algorithm failed to reduce polynomial?")}const g=d.getCoefficient(0);if(g===0)throw new yr("sigmaTilde(0) was zero");const w=o.inverse(g),C=d.multiplyScalar(w),v=u.multiplyScalar(w);return[C,v]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const l=this.field;for(let u=1;u<l.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(s[o]=l.inverse(u),o++);if(o!==r)throw new yr("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,r){const s=r.length,o=new Int32Array(s),l=this.field;for(let u=0;u<s;u++){const f=l.inverse(r[u]);let d=1;for(let g=0;g<s;g++)if(u!==g){const w=l.multiply(r[g],f),C=w&1?w&-2:w|1;d=l.multiply(d,C)}o[u]=l.multiply(t.evaluateAt(f),l.inverse(d)),l.getGeneratorBase()!==0&&(o[u]=l.multiply(o[u],f))}return o}}var _t;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(_t||(_t={}));class Xe{decode(t){this.ddata=t;let r=t.getBits(),s=this.extractBits(r),o=this.correctBits(s),l=Xe.convertBoolArrayToByteArray(o),u=Xe.getEncodedData(o),f=new Ge(l,u,null,null);return f.setNumBits(o.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,s=_t.UPPER,o=_t.UPPER,l="",u=0;for(;u<r;)if(o===_t.BINARY){if(r-u<5)break;let f=Xe.readCode(t,u,5);if(u+=5,f===0){if(r-u<11)break;f=Xe.readCode(t,u,11)+31,u+=11}for(let d=0;d<f;d++){if(r-u<8){u=r;break}const g=Xe.readCode(t,u,8);l+=he.castAsNonUtf8Char(g),u+=8}o=s}else{let f=o===_t.DIGIT?4:5;if(r-u<f)break;let d=Xe.readCode(t,u,f);u+=f;let g=Xe.getCharacter(o,d);g.startsWith("CTRL_")?(s=o,o=Xe.getTable(g.charAt(5)),g.charAt(6)==="L"&&(s=o)):(l+=g,o=s)}return l}static getTable(t){switch(t){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(t,r){switch(t){case _t.UPPER:return Xe.UPPER_TABLE[r];case _t.LOWER:return Xe.LOWER_TABLE[r];case _t.MIXED:return Xe.MIXED_TABLE[r];case _t.PUNCT:return Xe.PUNCT_TABLE[r];case _t.DIGIT:return Xe.DIGIT_TABLE[r];default:throw new fn("Bad table")}}correctBits(t){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=ke.AZTEC_DATA_10):(s=12,r=ke.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/s;if(l<o)throw new z;let u=t.length%s,f=new Int32Array(l);for(let v=0;v<l;v++,u+=s)f[v]=Xe.readCode(t,u,s);try{new Zr(r).decode(f,l-o)}catch(v){throw new z(v)}let d=(1<<s)-1,g=0;for(let v=0;v<o;v++){let I=f[v];if(I===0||I===d)throw new z;(I===1||I===d-1)&&g++}let w=new Array(o*s-g),C=0;for(let v=0;v<o;v++){let I=f[v];if(I===1||I===d-1)w.fill(I>1,C,C+s-1),C+=s-1;else for(let O=s-1;O>=0;--O)w[C++]=(I&1<<O)!==0}return w}extractBits(t){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,l=new Int32Array(o),u=new Array(this.totalBitsInLayer(s,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=o+1+2*N.truncDivision(N.truncDivision(o,2)-1,15),d=o/2,g=N.truncDivision(f,2);for(let w=0;w<d;w++){let C=w+N.truncDivision(w,15);l[d-w-1]=g-C-1,l[d+w]=g+C+1}}for(let f=0,d=0;f<s;f++){let g=(s-f)*4+(r?9:12),w=f*2,C=o-1-w;for(let v=0;v<g;v++){let I=v*2;for(let O=0;O<2;O++)u[d+I+O]=t.get(l[w+O],l[w+v]),u[d+2*g+I+O]=t.get(l[w+v],l[C-O]),u[d+4*g+I+O]=t.get(l[C-O],l[C-v]),u[d+6*g+I+O]=t.get(l[C-v],l[w+O])}d+=g*8}return u}static readCode(t,r,s){let o=0;for(let l=r;l<r+s;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let s=t.length-r;return s>=8?Xe.readCode(t,r,8):Xe.readCode(t,r,s)<<8-s}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let s=0;s<r.length;s++)r[s]=Xe.readByte(t,8*s);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Xe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Xe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Xe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ne{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,s,o){const l=t-s,u=r-o;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let s=0,o=t.length;s!==o;s++){const l=t[s];r+=l}return r}}class mi{static floatToIntBits(t){return t}}mi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ue{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ue){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*mi.floatToIntBits(this.x)+mi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,u,f;if(s>=r&&s>=o?(u=t[0],l=t[1],f=t[2]):o>=s&&o>=r?(u=t[1],l=t[0],f=t[2]):(u=t[2],l=t[0],f=t[1]),this.crossProductZ(l,u,f)<0){const d=l;l=f,f=d}t[0]=l,t[1]=u,t[2]=f}static distance(t,r){return Ne.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,s){const o=r.x,l=r.y;return(s.x-o)*(t.y-l)-(s.y-l)*(t.x-o)}}class ar{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class is extends ar{constructor(t,r,s,o,l){super(t,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class hn{constructor(t,r,s,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=hn.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,l=!1,u=!0,f=!1,d=!1,g=!1,w=!1,C=!1;const v=this.width,I=this.height;for(;u;){u=!1;let O=!0;for(;(O||!d)&&r<v;)O=this.containsBlackPoint(s,o,r,!1),O?(r++,u=!0,d=!0):d||r++;if(r>=v){l=!0;break}let b=!0;for(;(b||!g)&&o<I;)b=this.containsBlackPoint(t,r,o,!0),b?(o++,u=!0,g=!0):g||o++;if(o>=I){l=!0;break}let P=!0;for(;(P||!w)&&t>=0;)P=this.containsBlackPoint(s,o,t,!1),P?(t--,u=!0,w=!0):w||t--;if(t<0){l=!0;break}let j=!0;for(;(j||!C)&&s>=0;)j=this.containsBlackPoint(t,r,s,!0),j?(s--,u=!0,C=!0):C||s--;if(s<0){l=!0;break}u&&(f=!0)}if(!l&&f){const O=r-t;let b=null;for(let ee=1;b===null&&ee<O;ee++)b=this.getBlackPointOnSegment(t,o-ee,t+ee,o);if(b==null)throw new W;let P=null;for(let ee=1;P===null&&ee<O;ee++)P=this.getBlackPointOnSegment(t,s+ee,t+ee,s);if(P==null)throw new W;let j=null;for(let ee=1;j===null&&ee<O;ee++)j=this.getBlackPointOnSegment(r,s+ee,r-ee,s);if(j==null)throw new W;let J=null;for(let ee=1;J===null&&ee<O;ee++)J=this.getBlackPointOnSegment(r,o-ee,r-ee,o);if(J==null)throw new W;return this.centerEdges(J,b,j,P)}else throw new W}getBlackPointOnSegment(t,r,s,o){const l=Ne.round(Ne.distance(t,r,s,o)),u=(s-t)/l,f=(o-r)/l,d=this.image;for(let g=0;g<l;g++){const w=Ne.round(t+g*u),C=Ne.round(r+g*f);if(d.get(w,C))return new ue(w,C)}return null}centerEdges(t,r,s,o){const l=t.getX(),u=t.getY(),f=r.getX(),d=r.getY(),g=s.getX(),w=s.getY(),C=o.getX(),v=o.getY(),I=hn.CORR;return l<this.width/2?[new ue(C-I,v+I),new ue(f+I,d+I),new ue(g-I,w-I),new ue(l+I,u-I)]:[new ue(C+I,v+I),new ue(f+I,d-I),new ue(g-I,w+I),new ue(l-I,u-I)]}containsBlackPoint(t,r,s,o){const l=this.image;if(o){for(let u=t;u<=r;u++)if(l.get(u,s))return!0}else for(let u=t;u<=r;u++)if(l.get(s,u))return!0;return!1}}hn.INIT_SIZE=10,hn.CORR=1;class ss{static checkAndNudgePoints(t,r){const s=t.getWidth(),o=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const f=Math.floor(r[u]),d=Math.floor(r[u+1]);if(f<-1||f>s||d<-1||d>o)throw new W;l=!1,f===-1?(r[u]=0,l=!0):f===s&&(r[u]=s-1,l=!0),d===-1?(r[u+1]=0,l=!0):d===o&&(r[u+1]=o-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const f=Math.floor(r[u]),d=Math.floor(r[u+1]);if(f<-1||f>s||d<-1||d>o)throw new W;l=!1,f===-1?(r[u]=0,l=!0):f===s&&(r[u]=s-1,l=!0),d===-1?(r[u+1]=0,l=!0):d===o&&(r[u+1]=o-1,l=!0)}}}class dn{constructor(t,r,s,o,l,u,f,d,g){this.a11=t,this.a21=r,this.a31=s,this.a12=o,this.a22=l,this.a32=u,this.a13=f,this.a23=d,this.a33=g}static quadrilateralToQuadrilateral(t,r,s,o,l,u,f,d,g,w,C,v,I,O,b,P){const j=dn.quadrilateralToSquare(t,r,s,o,l,u,f,d);return dn.squareToQuadrilateral(g,w,C,v,I,O,b,P).times(j)}transformPoints(t){const r=t.length,s=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,d=this.a23,g=this.a31,w=this.a32,C=this.a33;for(let v=0;v<r;v+=2){const I=t[v],O=t[v+1],b=l*I+d*O+C;t[v]=(s*I+u*O+g)/b,t[v+1]=(o*I+f*O+w)/b}}transformPointsWithValues(t,r){const s=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,d=this.a23,g=this.a31,w=this.a32,C=this.a33,v=t.length;for(let I=0;I<v;I++){const O=t[I],b=r[I],P=l*O+d*b+C;t[I]=(s*O+u*b+g)/P,r[I]=(o*O+f*b+w)/P}}static squareToQuadrilateral(t,r,s,o,l,u,f,d){const g=t-s+l-f,w=r-o+u-d;if(g===0&&w===0)return new dn(s-t,l-s,t,o-r,u-o,r,0,0,1);{const C=s-l,v=f-l,I=o-u,O=d-u,b=C*O-v*I,P=(g*O-v*w)/b,j=(C*w-g*I)/b;return new dn(s-t+P*s,f-t+j*f,t,o-r+P*o,d-r+j*d,r,P,j,1)}}static quadrilateralToSquare(t,r,s,o,l,u,f,d){return dn.squareToQuadrilateral(t,r,s,o,l,u,f,d).buildAdjoint()}buildAdjoint(){return new dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new dn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class os extends ss{sampleGrid(t,r,s,o,l,u,f,d,g,w,C,v,I,O,b,P,j,J,ee){const Z=dn.quadrilateralToQuadrilateral(o,l,u,f,d,g,w,C,v,I,O,b,P,j,J,ee);return this.sampleGridWithTransform(t,r,s,Z)}sampleGridWithTransform(t,r,s,o){if(r<=0||s<=0)throw new W;const l=new Fe(r,s),u=new Float32Array(2*r);for(let f=0;f<s;f++){const d=u.length,g=f+.5;for(let w=0;w<d;w+=2)u[w]=w/2+.5,u[w+1]=g;o.transformPoints(u),ss.checkAndNudgePoints(t,u);try{for(let w=0;w<d;w+=2)t.get(Math.floor(u[w]),Math.floor(u[w+1]))&&l.set(w/2,f)}catch{throw new W}}return l}}class Fn{static setGridSampler(t){Fn.gridSampler=t}static getInstance(){return Fn.gridSampler}}Fn.gridSampler=new os;class bt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class as{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(t){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new is(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let u=0;u<4;u++){let f=s[(this.shift+u)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let s=0;t.forEach((o,l,u)=>{let f=(o>>r-2<<1)+(o&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(N.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new W}getCorrectedParameterData(t,r){let s,o;r?(s=7,o=2):(s=10,o=4);let l=s-o,u=new Int32Array(s);for(let d=s-1;d>=0;--d)u[d]=t&15,t>>=4;try{new Zr(ke.AZTEC_PARAM).decode(u,l)}catch{throw new W}let f=0;for(let d=0;d<o;d++)f=(f<<4)+u[d];return f}getBullsEyeCorners(t){let r=t,s=t,o=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),v=this.getFirstDifferent(s,u,1,1),I=this.getFirstDifferent(o,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let b=this.distancePoint(O,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(b<.75||b>1.25||!this.isWhiteOrBlackRectangle(C,v,I,O))break}r=C,s=v,o=I,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let f=new ue(r.getX()+.5,r.getY()-.5),d=new ue(s.getX()+.5,s.getY()+.5),g=new ue(o.getX()-.5,o.getY()+.5),w=new ue(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,d,g,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,s,o;try{let f=new hn(this.image).detect();t=f[0],r=f[1],s=f[2],o=f[3]}catch{let d=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new bt(d+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bt(d+7,g+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new bt(d-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new bt(d-7,g-7),!1,-1,-1).toResultPoint()}let l=Ne.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Ne.round((t.getY()+o.getY()+r.getY()+s.getY())/4);try{let f=new hn(this.image,15,l,u).detect();t=f[0],r=f[1],s=f[2],o=f[3]}catch{t=this.getFirstDifferent(new bt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new bt(l+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new bt(l-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new bt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Ne.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Ne.round((t.getY()+o.getY()+r.getY()+s.getY())/4),new bt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,s,o,l){let u=Fn.getInstance(),f=this.getDimension(),d=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(t,f,f,d,d,g,d,g,g,d,g,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,s){let o=0,l=this.distanceResultPoint(t,r),u=l/s,f=t.getX(),d=t.getY(),g=u*(r.getX()-t.getX())/l,w=u*(r.getY()-t.getY())/l;for(let C=0;C<s;C++)this.image.get(Ne.round(f+C*g),Ne.round(d+C*w))&&(o|=1<<s-C-1);return o}isWhiteOrBlackRectangle(t,r,s,o){let l=3;t=new bt(t.getX()-l,t.getY()+l),r=new bt(r.getX()-l,r.getY()-l),s=new bt(s.getX()+l,s.getY()-l),o=new bt(o.getX()+l,o.getY()+l);let u=this.getColor(o,t);if(u===0)return!1;let f=this.getColor(t,r);return f!==u||(f=this.getColor(r,s),f!==u)?!1:(f=this.getColor(s,o),f===u)}getColor(t,r){let s=this.distancePoint(t,r),o=(r.getX()-t.getX())/s,l=(r.getY()-t.getY())/s,u=0,f=t.getX(),d=t.getY(),g=this.image.get(t.getX(),t.getY()),w=Math.ceil(s);for(let v=0;v<w;v++)f+=o,d+=l,this.image.get(Ne.round(f),Ne.round(d))!==g&&u++;let C=u/s;return C>.1&&C<.9?0:C<=.1===g?1:-1}getFirstDifferent(t,r,s,o){let l=t.getX()+s,u=t.getY()+o;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s,u+=o;for(l-=s,u-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s;for(l-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=o;return u-=o,new bt(l,u)}expandSquare(t,r,s){let o=s/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,d=(t[0].getY()+t[2].getY())/2,g=new ue(f+o*l,d+o*u),w=new ue(f-o*l,d-o*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,d=(t[1].getY()+t[3].getY())/2;let C=new ue(f+o*l,d+o*u),v=new ue(f-o*l,d-o*u);return[g,C,w,v]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Ne.round(t.getX()),s=Ne.round(t.getY());return this.isValid(r,s)}distancePoint(t,r){return Ne.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Ne.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Kr{decode(t,r=null){let s=null,o=new as(t.getBlackMatrix()),l=null,u=null;try{let w=o.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new Xe().decode(w)}catch(w){s=w}if(u==null)try{let w=o.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new Xe().decode(w)}catch(w){throw s??w}let f=new Le(u.getText(),u.getRawBytes(),u.getNumBits(),l,ce.AZTEC,F.currentTimeMillis()),d=u.getByteSegments();d!=null&&f.putMetadata(st.BYTE_SEGMENTS,d);let g=u.getECLevel();return g!=null&&f.putMetadata(st.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(t,r){if(t!=null){let s=t.get(K.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,l,u)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class lo extends Ot{constructor(t=500){super(new Kr,t)}}class ot{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(K.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),f=u.getResultMetadata();let d=270;f!==null&&f.get(st.ORIENTATION)===!0&&(d=d+f.get(st.ORIENTATION)%360),u.putMetadata(st.ORIENTATION,d);const g=u.getResultPoints();if(g!==null){const w=l.getHeight();for(let C=0;C<g.length;C++)g[C]=new ue(w-g[C].getY()-1,g[C].getX())}return u}else throw new W}}reset(){}doDecode(t,r){const s=t.getWidth(),o=t.getHeight();let l=new V(s);const u=r&&r.get(K.TRY_HARDER)===!0,f=Math.max(1,o>>(u?8:5));let d;u?d=o:d=15;const g=Math.trunc(o/2);for(let w=0;w<d;w++){const C=Math.trunc((w+1)/2),v=(w&1)===0,I=g+f*(v?C:-C);if(I<0||I>=o)break;try{l=t.getBlackRow(I,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const b=new Map;r.forEach((P,j)=>b.set(j,P)),b.delete(K.NEED_RESULT_POINT_CALLBACK),r=b}try{const b=this.decodeRow(I,l,r);if(O===1){b.putMetadata(st.ORIENTATION,180);const P=b.getResultPoints();P!==null&&(P[0]=new ue(s-P[0].getX()-1,P[0].getY()),P[1]=new ue(s-P[1].getX()-1,P[1].getY()))}return b}catch{}}}throw new W}static recordPattern(t,r,s){const o=s.length;for(let g=0;g<o;g++)s[g]=0;const l=t.getSize();if(r>=l)throw new W;let u=!t.get(r),f=0,d=r;for(;d<l;){if(t.get(d)!==u)s[f]++;else{if(++f===o)break;s[f]=1,u=!u}d++}if(!(f===o||f===o-1&&d===l))throw new W}static recordPatternInReverse(t,r,s){let o=s.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new W;ot.recordPattern(t,r+1,s)}static patternMatchVariance(t,r,s){const o=t.length;let l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return Number.POSITIVE_INFINITY;const f=l/u;s*=f;let d=0;for(let g=0;g<o;g++){const w=t[g],C=r[g]*f,v=w>C?w-C:C-w;if(v>s)return Number.POSITIVE_INFINITY;d+=v}return d/l}}class ne extends ot{static findStartPattern(t){const r=t.getSize(),s=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),u=s,f=!1;const d=6;for(let g=s;g<r;g++)if(t.get(g)!==f)l[o]++;else{if(o===d-1){let w=ne.MAX_AVG_VARIANCE,C=-1;for(let v=ne.CODE_START_A;v<=ne.CODE_START_C;v++){const I=ot.patternMatchVariance(l,ne.CODE_PATTERNS[v],ne.MAX_INDIVIDUAL_VARIANCE);I<w&&(w=I,C=v)}if(C>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new W}static decodeCode(t,r,s){ot.recordPattern(t,s,r);let o=ne.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<ne.CODE_PATTERNS.length;u++){const f=ne.CODE_PATTERNS[u],d=this.patternMatchVariance(r,f,ne.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,l=u)}if(l>=0)return l;throw new W}decodeRow(t,r,s){const o=s&&s.get(K.ASSUME_GS1)===!0,l=ne.findStartPattern(r),u=l[2];let f=0;const d=new Uint8Array(20);d[f++]=u;let g;switch(u){case ne.CODE_START_A:g=ne.CODE_CODE_A;break;case ne.CODE_START_B:g=ne.CODE_CODE_B;break;case ne.CODE_START_C:g=ne.CODE_CODE_C;break;default:throw new z}let w=!1,C=!1,v="",I=l[0],O=l[1];const b=Int32Array.from([0,0,0,0,0,0]);let P=0,j=0,J=u,ee=0,Z=!0,Oe=!1,ve=!1;for(;!w;){const _i=C;switch(C=!1,P=j,j=ne.decodeCode(r,b,O),d[f++]=j,j!==ne.CODE_STOP&&(Z=!0),j!==ne.CODE_STOP&&(ee++,J+=ee*j),I=O,O+=b.reduce((Gd,Xd)=>Gd+Xd,0),j){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new z}switch(g){case ne.CODE_CODE_A:if(j<64)ve===Oe?v+=String.fromCharCode(32+j):v+=String.fromCharCode(32+j+128),ve=!1;else if(j<96)ve===Oe?v+=String.fromCharCode(j-64):v+=String.fromCharCode(j+64),ve=!1;else switch(j!==ne.CODE_STOP&&(Z=!1),j){case ne.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!Oe&&ve?(Oe=!0,ve=!1):Oe&&ve?(Oe=!1,ve=!1):ve=!0;break;case ne.CODE_SHIFT:C=!0,g=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:g=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:g=ne.CODE_CODE_C;break;case ne.CODE_STOP:w=!0;break}break;case ne.CODE_CODE_B:if(j<96)ve===Oe?v+=String.fromCharCode(32+j):v+=String.fromCharCode(32+j+128),ve=!1;else switch(j!==ne.CODE_STOP&&(Z=!1),j){case ne.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!Oe&&ve?(Oe=!0,ve=!1):Oe&&ve?(Oe=!1,ve=!1):ve=!0;break;case ne.CODE_SHIFT:C=!0,g=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:g=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:g=ne.CODE_CODE_C;break;case ne.CODE_STOP:w=!0;break}break;case ne.CODE_CODE_C:if(j<100)j<10&&(v+="0"),v+=j;else switch(j!==ne.CODE_STOP&&(Z=!1),j){case ne.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+="");break;case ne.CODE_CODE_A:g=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:g=ne.CODE_CODE_B;break;case ne.CODE_STOP:w=!0;break}break}_i&&(g=g===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const rn=O-I;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-I)/2),!1))throw new W;if(J-=ee*P,J%103!==P)throw new k;const Un=v.length;if(Un===0)throw new W;Un>0&&Z&&(g===ne.CODE_CODE_C?v=v.substring(0,Un-2):v=v.substring(0,Un-1));const sn=(l[1]+l[0])/2,Ke=I+rn/2,Ut=d.length,pn=new Uint8Array(Ut);for(let _i=0;_i<Ut;_i++)pn[_i]=d[_i];const Si=[new ue(sn,t),new ue(Ke,t)];return new Le(v,pn,0,Si,ce.CODE_128,new Date().getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;class ft extends ot{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=ft.findAsteriskPattern(r,o),u=r.getNextSet(l[1]),f=r.getSize(),d,g;do{ft.recordPattern(r,u,o);let b=ft.toNarrowWidePattern(o);if(b<0)throw new W;d=ft.patternToChar(b),this.decodeRowResult+=d,g=u;for(let P of o)u+=P;u=r.getNextSet(u)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let b of o)w+=b;let C=u-g-w;if(u!==f&&C*2<w)throw new W;if(this.usingCheckDigit){let b=this.decodeRowResult.length-1,P=0;for(let j=0;j<b;j++)P+=ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(b)!==ft.ALPHABET_STRING.charAt(P%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,b)}if(this.decodeRowResult.length===0)throw new W;let v;this.extendedMode?v=ft.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let I=(l[1]+l[0])/2,O=g+w/2;return new Le(v,null,0,[new ue(I,t),new ue(O,t)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let s=t.getSize(),o=t.getNextSet(0),l=0,u=o,f=!1,d=r.length;for(let g=o;g<s;g++)if(t.get(g)!==f)r[l]++;else{if(l===d-1){if(this.toNarrowWidePattern(r)===ft.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new W}static toNarrowWidePattern(t){let r=t.length,s=0,o;do{let l=2147483647;for(let d of t)d<l&&d>s&&(l=d);s=l,o=0;let u=0,f=0;for(let d=0;d<r;d++){let g=t[d];g>s&&(f|=1<<r-1-d,o++,u+=g)}if(o===3){for(let d=0;d<r&&o>0;d++){let g=t[d];if(g>s&&(o--,g*2>=u))return-1}return f}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<ft.CHARACTER_ENCODINGS.length;r++)if(ft.CHARACTER_ENCODINGS[r]===t)return ft.ALPHABET_STRING.charAt(r);if(t===ft.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let r=t.length,s="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(o+1),f="\0";switch(l){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new z;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new z;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new z;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new z;break}s+=f,o++}else s+=l}return s}}ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ft.ASTERISK_ENCODING=148;class Ve extends ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,s){let o=this.decodeStart(r),l=this.decodeEnd(r),u=new Se;Ve.decodeMiddle(r,o[1],l[0],u);let f=u.toString(),d=null;s!=null&&(d=s.get(K.ALLOWED_LENGTHS)),d==null&&(d=Ve.DEFAULT_ALLOWED_LENGTHS);let g=f.length,w=!1,C=0;for(let O of d){if(g===O){w=!0;break}O>C&&(C=O)}if(!w&&g>C&&(w=!0),!w)throw new z;const v=[new ue(o[1],t),new ue(l[0],t)];return new Le(f,null,0,v,ce.ITF,new Date().getTime())}static decodeMiddle(t,r,s,o){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);r<s;){ot.recordPattern(t,r,l);for(let g=0;g<5;g++){let w=2*g;u[g]=l[w],f[g]=l[w+1]}let d=Ve.decodeDigit(u);o.append(d.toString()),d=this.decodeDigit(f),o.append(d.toString()),l.forEach(function(g){r+=g})}}decodeStart(t){let r=Ve.skipWhiteSpace(t),s=Ve.findGuardPattern(t,r,Ve.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!t.get(o);o--)s--;if(s!==0)throw new W}static skipWhiteSpace(t){const r=t.getSize(),s=t.getNextSet(0);if(s===r)throw new W;return s}decodeEnd(t){t.reverse();try{let r=Ve.skipWhiteSpace(t),s;try{s=Ve.findGuardPattern(t,r,Ve.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(s=Ve.findGuardPattern(t,r,Ve.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let o=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-o,s}finally{t.reverse()}}static findGuardPattern(t,r,s){let o=s.length,l=new Int32Array(o),u=t.getSize(),f=!1,d=0,g=r;l.fill(0);for(let w=r;w<u;w++)if(t.get(w)!==f)l[d]++;else{if(d===o-1){if(ot.patternMatchVariance(l,s,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return[g,w];g+=l[0]+l[1],F.arraycopy(l,2,l,0,d-1),l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,f=!f}throw new W}static decodeDigit(t){let r=Ve.MAX_AVG_VARIANCE,s=-1,o=Ve.PATTERNS.length;for(let l=0;l<o;l++){let u=Ve.PATTERNS[l],f=ot.patternMatchVariance(t,u,Ve.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,s=l):f===r&&(s=-1)}if(s>=0)return s%10;throw new W}}Ve.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ve.MAX_AVG_VARIANCE=.38,Ve.MAX_INDIVIDUAL_VARIANCE=.5,Ve.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ve.START_PATTERN=Int32Array.from([1,1,1,1]),Ve.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Je extends ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=Je.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let u=s[0];o=s[1];let f=u-(o-u);f>=0&&(r=t.isRange(f,u,!1))}return s}static checkChecksum(t){return Je.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return Je.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}return(1e3-s)%10}static decodeEnd(t,r){return Je.findGuardPattern(t,r,!1,Je.START_END_PATTERN,new Int32Array(Je.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,s,o){return this.findGuardPattern(t,r,s,o,new Int32Array(o.length))}static findGuardPattern(t,r,s,o,l){let u=t.getSize();r=s?t.getNextUnset(r):t.getNextSet(r);let f=0,d=r,g=o.length,w=s;for(let C=r;C<u;C++)if(t.get(C)!==w)l[f]++;else{if(f===g-1){if(ot.patternMatchVariance(l,o,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return Int32Array.from([d,C]);d+=l[0]+l[1];let v=l.slice(2,l.length-1);for(let I=0;I<f-1;I++)l[I]=v[I];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,w=!w}throw new W}static decodeDigit(t,r,s,o){this.recordPattern(t,s,r);let l=this.MAX_AVG_VARIANCE,u=-1,f=o.length;for(let d=0;d<f;d++){let g=o[d],w=ot.patternMatchVariance(r,g,Je.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=d)}if(u>=0)return u;throw new W}}Je.MAX_AVG_VARIANCE=.48,Je.MAX_INDIVIDUAL_VARIANCE=.7,Je.START_END_PATTERN=Int32Array.from([1,1,1]),Je.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Je.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Je.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class M{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),f=M.parseExtensionString(u),d=[new ue((s[0]+s[1])/2,t),new ue(l,t)],g=new Le(u,null,0,d,ce.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<5&&u<l;g++){let w=Je.decodeDigit(t,o,u,Je.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let C of o)u+=C;w>=10&&(f|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==5)throw new W;let d=this.determineCheckDigit(f);if(M.extensionChecksum(s.toString())!==d)throw new W;return u}static extensionChecksum(t){let r=t.length,s=0;for(let o=r-2;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let r=M.parseExtension5String(t);return r==null?null:new Map([[st.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(t.substring(1)),o=(s/100).toString(),l=s%100,u=l<10?"0"+l:l.toString();return r+o+"."+u}}class X{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),f=X.parseExtensionString(u),d=[new ue((s[0]+s[1])/2,t),new ue(l,t)],g=new Le(u,null,0,d,ce.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let d=0;d<2&&u<l;d++){let g=Je.decodeDigit(t,o,u,Je.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);for(let w of o)u+=w;g>=10&&(f|=1<<1-d),d!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==2)throw new W;if(parseInt(s.toString())%4!==f)throw new W;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[st.ISSUE_NUMBER,parseInt(t)]])}}class le{static decodeRow(t,r,s){let o=Je.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new M().decodeRow(t,r,o)}catch{return new X().decodeRow(t,r,o)}}}le.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class re extends Je{constructor(){super(),this.decodeRowStringBuffer="",re.L_AND_G_PATTERNS=re.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=re.L_PATTERNS[t-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];re.L_AND_G_PATTERNS[t]=s}}decodeRow(t,r,s){let o=re.findStartGuardPattern(r),l=s==null?null:s.get(K.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Z=new ue((o[0]+o[1])/2,t);l.foundPossibleResultPoint(Z)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),f=u.rowOffset,d=u.resultString;if(l!=null){const Z=new ue(f,t);l.foundPossibleResultPoint(Z)}let g=this.decodeEnd(r,f);if(l!=null){const Z=new ue((g[0]+g[1])/2,t);l.foundPossibleResultPoint(Z)}let w=g[1],C=w+(w-g[0]);if(C>=r.getSize()||!r.isRange(w,C,!1))throw new W;let v=d.toString();if(v.length<8)throw new z;if(!re.checkChecksum(v))throw new k;let I=(o[1]+o[0])/2,O=(g[1]+g[0])/2,b=this.getBarcodeFormat(),P=[new ue(I,t),new ue(O,t)],j=new Le(v,null,0,P,b,new Date().getTime()),J=0;try{let Z=le.decodeRow(t,r,g[1]);j.putMetadata(st.UPC_EAN_EXTENSION,Z.getText()),j.putAllMetadata(Z.getResultMetadata()),j.addResultPoints(Z.getResultPoints()),J=Z.getText().length}catch{}let ee=s==null?null:s.get(K.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let Z=!1;for(let Oe in ee)if(J.toString()===Oe){Z=!0;break}if(!Z)throw new W}return j}decodeEnd(t,r){return re.findGuardPattern(t,r,!1,re.START_END_PATTERN,new Int32Array(re.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return re.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return re.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}return(1e3-s)%10}}class Me extends re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<6&&u<l;g++){let w=re.decodeDigit(t,o,u,re.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let C of o)u+=C;w>=10&&(f|=1<<5-g)}s=Me.determineFirstDigit(s,f),u=re.findGuardPattern(t,u,!0,re.MIDDLE_PATTERN,new Int32Array(re.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<l;g++){let w=re.decodeDigit(t,o,u,re.L_PATTERNS);s+=String.fromCharCode(48+w);for(let C of o)u+=C}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(t,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new W}}Me.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Zt extends re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1];for(let d=0;d<4&&u<l;d++){let g=re.decodeDigit(t,o,u,re.L_PATTERNS);s+=String.fromCharCode(48+g);for(let w of o)u+=w}u=re.findGuardPattern(t,u,!0,re.MIDDLE_PATTERN,new Int32Array(re.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&u<l;d++){let g=re.decodeDigit(t,o,u,re.L_PATTERNS);s+=String.fromCharCode(48+g);for(let w of o)u+=w}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ce.EAN_8}}class _n extends re{constructor(){super(...arguments),this.ean13Reader=new Me}getBarcodeFormat(){return ce.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,s))}decodeMiddle(t,r,s){return this.ean13Reader.decodeMiddle(t,r,s)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let s=new Le(r.substring(1),null,null,t.getResultPoints(),ce.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new W}reset(){this.ean13Reader.reset()}}class ht extends re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let u=r[1],f=0;for(let g=0;g<6&&u<l;g++){const w=ht.decodeDigit(t,o,u,ht.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let C of o)u+=C;w>=10&&(f|=1<<5-g)}let d=ht.determineNumSysAndCheckDigit(s,f);return{rowOffset:u,resultString:d}}decodeEnd(t,r){return ht.findGuardPatternWithoutCounters(t,r,!0,ht.MIDDLE_END_PATTERN)}checkChecksum(t){return re.checkChecksum(ht.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode(48+s),u=String.fromCharCode(48+o);return l+t+u}throw W.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Se;s.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}ht.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ht.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class gn extends ot{constructor(t){super();let r=t==null?null:t.get(K.POSSIBLE_FORMATS),s=[];a(r)?(s.push(new Me),s.push(new _n),s.push(new Zt),s.push(new ht)):(r.indexOf(ce.EAN_13)>-1&&s.push(new Me),r.indexOf(ce.UPC_A)>-1&&s.push(new _n),r.indexOf(ce.EAN_8)>-1&&s.push(new Zt),r.indexOf(ce.UPC_E)>-1&&s.push(new ht)),this.readers=s}decodeRow(t,r,s){for(let o of this.readers)try{const l=o.decodeRow(t,r,s),u=l.getBarcodeFormat()===ce.EAN_13&&l.getText().charAt(0)==="0",f=s==null?null:s.get(K.POSSIBLE_FORMATS),d=f==null||f.includes(ce.UPC_A);if(u&&d){const g=l.getRawBytes(),w=new Le(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),ce.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class Dt extends ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let s=0;s<r.length;s++)if(ot.patternMatchVariance(t,r[s],Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return s;throw new W}static count(t){return Ne.sum(new Int32Array(t))}static increment(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],s=l);t[s]++}static decrement(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],s=l);t[s]--}static isFinderPattern(t){let r=t[0]+t[1],s=r+t[2]+t[3],o=r/s;if(o>=Dt.MIN_FINDER_PATTERN_RATIO&&o<=Dt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of t)f>u&&(u=f),f<l&&(l=f);return u<10*l}return!1}}Dt.MAX_AVG_VARIANCE=.2,Dt.MAX_INDIVIDUAL_VARIANCE=.45,Dt.MIN_FINDER_PATTERN_RATIO=9.5/12,Dt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Er{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Er))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class uo{constructor(t,r,s,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ue(s,l)),this.resultPoints.push(new ue(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof uo))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Zn{constructor(){}static getRSSvalue(t,r,s){let o=0;for(let d of t)o+=d;let l=0,u=0,f=t.length;for(let d=0;d<f-1;d++){let g;for(g=1,u|=1<<d;g<t[d];g++,u&=~(1<<d)){let w=Zn.combins(o-g-1,f-d-2);if(s&&u===0&&o-g-(f-d-1)>=f-d-1&&(w-=Zn.combins(o-g-(f-d),f-d-2)),f-d-1>1){let C=0;for(let v=o-g-(f-d-2);v>r;v--)C+=Zn.combins(o-g-v-1,f-d-3);w-=C*(f-1-d)}else o-g>r&&w--;l+=w}o-=g}return l}static combins(t,r){let s,o;t-r>r?(o=r,s=t-r):(o=t-r,s=r);let l=1,u=1;for(let f=t;f>s;f--)l*=f,u<=o&&(l/=u,u++);for(;u<=o;)l/=u,u++;return l}}class md{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new V(s),l=0,f=t[0].getRightChar().getValue();for(let d=11;d>=0;--d)f&1<<d&&o.set(l),l++;for(let d=1;d<t.length;++d){let g=t[d],w=g.getLeftChar().getValue();for(let C=11;C>=0;--C)w&1<<C&&o.set(l),l++;if(g.getRightChar()!=null){let C=g.getRightChar().getValue();for(let v=11;v>=0;--v)C&1<<v&&o.set(l),l++}}return o}}class Qr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Xa{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class en extends Xa{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===en.FNC1}}en.FNC1="$";class qr extends Xa{constructor(t,r,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class In extends Xa{constructor(t,r,s){if(super(t),r<0||r>10||s<0||s>10)throw new z;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===In.FNC1}isSecondDigitFNC1(){return this.secondDigit===In.FNC1}isAnyFNC1(){return this.firstDigit===In.FNC1||this.secondDigit===In.FNC1}}In.FNC1=10;class se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let r=t.substring(0,2);for(let l of se.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(2,l[2],t):se.processFixedAI(2,l[1],t);if(t.length<3)throw new W;let s=t.substring(0,3);for(let l of se.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(3,l[2],t):se.processFixedAI(3,l[1],t);for(let l of se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,l[2],t):se.processFixedAI(4,l[1],t);if(t.length<4)throw new W;let o=t.substring(0,4);for(let l of se.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,l[2],t):se.processFixedAI(4,l[1],t);throw new W}static processFixedAI(t,r,s){if(s.length<t)throw new W;let o=s.substring(0,t);if(s.length<t+r)throw new W;let l=s.substring(t,t+r),u=s.substring(t+r),f="("+o+")"+l,d=se.parseFieldsInGeneralPurpose(u);return d==null?f:f+d}static processVariableAI(t,r,s){let o=s.substring(0,t),l;s.length<t+r?l=s.length:l=t+r;let u=s.substring(t,l),f=s.substring(l),d="("+o+")"+u,g=se.parseFieldsInGeneralPurpose(f);return g==null?d:d+g}}se.VARIABLE_LENGTH=[],se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",se.VARIABLE_LENGTH,20],["22",se.VARIABLE_LENGTH,29],["30",se.VARIABLE_LENGTH,8],["37",se.VARIABLE_LENGTH,8],["90",se.VARIABLE_LENGTH,30],["91",se.VARIABLE_LENGTH,30],["92",se.VARIABLE_LENGTH,30],["93",se.VARIABLE_LENGTH,30],["94",se.VARIABLE_LENGTH,30],["95",se.VARIABLE_LENGTH,30],["96",se.VARIABLE_LENGTH,30],["97",se.VARIABLE_LENGTH,3],["98",se.VARIABLE_LENGTH,30],["99",se.VARIABLE_LENGTH,30]],se.THREE_DIGIT_DATA_LENGTH=[["240",se.VARIABLE_LENGTH,30],["241",se.VARIABLE_LENGTH,30],["242",se.VARIABLE_LENGTH,6],["250",se.VARIABLE_LENGTH,30],["251",se.VARIABLE_LENGTH,30],["253",se.VARIABLE_LENGTH,17],["254",se.VARIABLE_LENGTH,20],["400",se.VARIABLE_LENGTH,30],["401",se.VARIABLE_LENGTH,30],["402",17],["403",se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",se.VARIABLE_LENGTH,20],["421",se.VARIABLE_LENGTH,15],["422",3],["423",se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",se.VARIABLE_LENGTH,15],["391",se.VARIABLE_LENGTH,18],["392",se.VARIABLE_LENGTH,15],["393",se.VARIABLE_LENGTH,18],["703",se.VARIABLE_LENGTH,30]],se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",se.VARIABLE_LENGTH,20],["8003",se.VARIABLE_LENGTH,30],["8004",se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",se.VARIABLE_LENGTH,30],["8008",se.VARIABLE_LENGTH,12],["8018",18],["8020",se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",se.VARIABLE_LENGTH,70],["8200",se.VARIABLE_LENGTH,70]];class wi{constructor(t){this.buffer=new Se,this.information=t}decodeAllCodes(t,r){let s=r,o=null;do{let l=this.decodeGeneralPurposeField(s,o),u=se.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new In(this.information.getSize(),In.FNC1,In.FNC1):new In(this.information.getSize(),l-1,In.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),s=(r-8)/11,o=(r-8)%11;return new In(t+7,s,o)}extractNumericValueFromBitArray(t,r){return wi.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,s){let o=0;for(let l=0;l<s;++l)t.get(r+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new qr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new qr(this.current.getPosition(),this.buffer.toString()):r=new qr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Qr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new qr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Qr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new qr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Qr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new qr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Qr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new en(t+5,en.FNC1);if(r>=5&&r<15)return new en(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new en(t+7,""+(s+1));if(s>=90&&s<116)return new en(t+7,""+(s+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new z}return new en(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new en(t+5,en.FNC1);if(r>=5&&r<15)return new en(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new en(t+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new fn("Decoding invalid alphanumeric value: "+s)}return new en(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Ya{constructor(t){this.information=t,this.generalDecoder=new wi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tn extends Ya{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,s)}encodeCompressedGtinWithoutAI(t,r,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}tn.appendCheckDigit(t,s)}static appendCheckDigit(t,r){let s=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),t.append(s)}}tn.GTIN_SIZE=40;class yi extends tn{constructor(t){super(t)}parseInformation(){let t=new Se;t.append("(01)");let r=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(yi.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,yi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,yi.HEADER_SIZE+44)}}yi.HEADER_SIZE=4;class co extends Ya{constructor(t){super(t)}parseInformation(){let t=new Se;return this.getGeneralDecoder().decodeAllCodes(t,co.HEADER_SIZE)}}co.HEADER_SIZE=5;class fo extends tn{constructor(t){super(t)}encodeCompressedWeight(t,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(t,o);let l=this.checkWeight(o),u=1e5;for(let f=0;f<5;++f)l/u===0&&t.append("0"),u/=10;t.append(l)}}class Kn extends fo{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+fo.GTIN_SIZE+Kn.WEIGHT_SIZE)throw new W;let t=new Se;return this.encodeCompressedGtin(t,Kn.HEADER_SIZE),this.encodeCompressedWeight(t,Kn.HEADER_SIZE+fo.GTIN_SIZE,Kn.WEIGHT_SIZE),t.toString()}}Kn.HEADER_SIZE=5,Kn.WEIGHT_SIZE=15;class wd extends Kn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class yd extends Kn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Qn extends tn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Qn.HEADER_SIZE+tn.GTIN_SIZE)throw new W;let t=new Se;this.encodeCompressedGtin(t,Qn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+tn.GTIN_SIZE,Qn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Qn.HEADER_SIZE+tn.GTIN_SIZE+Qn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}Qn.HEADER_SIZE=8,Qn.LAST_DIGIT_SIZE=2;class Kt extends tn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Kt.HEADER_SIZE+tn.GTIN_SIZE)throw new W;let t=new Se;this.encodeCompressedGtin(t,Kt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+tn.GTIN_SIZE,Kt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+tn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE,Kt.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Kt.HEADER_SIZE+tn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE+Kt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Kt.HEADER_SIZE=8,Kt.LAST_DIGIT_SIZE=2,Kt.FIRST_THREE_DIGITS_SIZE=10;class rt extends fo{constructor(t,r,s){super(t),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE+rt.DATE_SIZE)throw new W;let t=new Se;return this.encodeCompressedGtin(t,rt.HEADER_SIZE),this.encodeCompressedWeight(t,rt.HEADER_SIZE+rt.GTIN_SIZE,rt.WEIGHT_SIZE),this.encodeCompressedDate(t,rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,rt.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let u=s;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}rt.HEADER_SIZE=8,rt.WEIGHT_SIZE=20,rt.DATE_SIZE=16;function jc(y){try{if(y.get(1))return new yi(y);if(!y.get(2))return new co(y);switch(wi.extractNumericValueFromBitArray(y,1,4)){case 4:return new wd(y);case 5:return new yd(y)}switch(wi.extractNumericValueFromBitArray(y,1,5)){case 12:return new Qn(y);case 13:return new Kt(y)}switch(wi.extractNumericValueFromBitArray(y,1,7)){case 56:return new rt(y,"310","11");case 57:return new rt(y,"320","11");case 58:return new rt(y,"310","13");case 59:return new rt(y,"320","13");case 60:return new rt(y,"310","15");case 61:return new rt(y,"320","15");case 62:return new rt(y,"310","17");case 63:return new rt(y,"320","17")}}catch(t){throw console.log(t),new fn("unknown decoder: "+y)}}class Cr{constructor(t,r,s,o){this.leftchar=t,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Cr?Cr.equalsOrNull(t.leftchar,r.leftchar)&&Cr.equalsOrNull(t.rightchar,r.rightchar)&&Cr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Cr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Za{constructor(t,r,s){this.pairs=t,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Za?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let s;return t.forEach((o,l)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class Y extends Dt{constructor(t){super(...arguments),this.pairs=new Array(Y.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,s){this.pairs.length=0,this.startFromEven=!1;try{return Y.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Y.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!Y.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,s+1)}catch(u){this.verbose&&console.log(u)}}throw new W}static isValidSequence(t){for(let r of Y.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let s=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(t,r){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),s++}l||o||Y.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Za(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let s of r)if(s.getPairs().length!==t.length){for(let o of s.getPairs())for(let l of t)if(Cr.equals(o,l))break}}static isPartialRow(t,r){for(let s of r){let o=!0;for(let l of t){let u=!1;for(let f of s.getPairs())if(l.equals(f)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=md.buildBitArray(t),o=jc(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new Le(o,null,null,f,ce.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let d=this.pairs.get(f);o+=d.getLeftChar().getChecksumPortion(),l++;let g=d.getRightChar();g!=null&&(o+=g.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let s;return t.get(r)?(s=t.getNextUnset(r),s=t.getNextSet(s)):(s=t.getNextSet(r),s=t.getNextUnset(s)),s}retrieveNextPair(t,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,u=!0,f=-1;do this.findNextPair(t,r,f),l=this.parseFoundFinderPattern(t,s,o),l==null?f=Y.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let d=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let g;try{g=this.decodeDataCharacter(t,l,o,!1)}catch(w){g=null,this.verbose&&console.log(w)}return new Cr(d,g,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u;s>=0?u=s:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let d=!1;for(;u<l&&(d=!t.get(u),!!d);)u++;let g=0,w=u;for(let C=u;C<l;C++)if(t.get(C)!=d)o[g]++;else{if(g==3){if(f&&Y.reverseCounters(o),Y.isFinderPattern(o)){this.startEnd[0]=w,this.startEnd[1]=C;return}f&&Y.reverseCounters(o),w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,d=!d}throw new W}static reverseCounters(t){let r=t.length;for(let s=0;s<r/2;++s){let o=t[s];t[s]=t[r-s-1],t[r-s-1]=o}}parseFoundFinderPattern(t,r,s){let o,l,u;if(s){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,o=this.startEnd[0]-g,l=g,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let f=this.getDecodeFinderCounters();F.arraycopy(f,0,f,1,f.length-1),f[0]=o;let d;try{d=this.parseFinderValue(f,Y.FINDER_PATTERNS)}catch{return null}return new uo(d,[l,u],l,u,r)}decodeDataCharacter(t,r,s,o){let l=this.getDataCharacterCounters();for(let Ke=0;Ke<l.length;Ke++)l[Ke]=0;if(o)Y.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Y.recordPattern(t,r.getStartEnd()[1],l);for(let Ke=0,Ut=l.length-1;Ke<Ut;Ke++,Ut--){let pn=l[Ke];l[Ke]=l[Ut],l[Ut]=pn}}let u=17,f=Ne.sum(new Int32Array(l))/u,d=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-d)/d>.3)throw new W;let g=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let Ke=0;Ke<l.length;Ke++){let Ut=1*l[Ke]/f,pn=Ut+.5;if(pn<1){if(Ut<.3)throw new W;pn=1}else if(pn>8){if(Ut>8.7)throw new W;pn=8}let Si=Ke/2;Ke&1?(w[Si]=pn,v[Si]=Ut-pn):(g[Si]=pn,C[Si]=Ut-pn)}this.adjustOddEvenCounts(u);let I=4*r.getValue()+(s?0:2)+(o?0:1)-1,O=0,b=0;for(let Ke=g.length-1;Ke>=0;Ke--){if(Y.isNotA1left(r,s,o)){let Ut=Y.WEIGHTS[I][2*Ke];b+=g[Ke]*Ut}O+=g[Ke]}let P=0;for(let Ke=w.length-1;Ke>=0;Ke--)if(Y.isNotA1left(r,s,o)){let Ut=Y.WEIGHTS[I][2*Ke+1];P+=w[Ke]*Ut}let j=b+P;if(O&1||O>13||O<4)throw new W;let J=(13-O)/2,ee=Y.SYMBOL_WIDEST[J],Z=9-ee,Oe=Zn.getRSSvalue(g,ee,!0),ve=Zn.getRSSvalue(w,Z,!1),rn=Y.EVEN_TOTAL_SUBSET[J],Un=Y.GSUM[J],sn=Oe*rn+ve+Un;return new Er(sn,j)}static isNotA1left(t,r,s){return!(t.getValue()==0&&r&&s)}adjustOddEvenCounts(t){let r=Ne.sum(new Int32Array(this.getOddCounts())),s=Ne.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=!1,f=!1;s>13?f=!0:s<4&&(u=!0);let d=r+s-t,g=(r&1)==1,w=(s&1)==0;if(d==1)if(g){if(w)throw new W;l=!0}else{if(!w)throw new W;f=!0}else if(d==-1)if(g){if(w)throw new W;o=!0}else{if(!w)throw new W;u=!0}else if(d==0){if(g){if(!w)throw new W;r<s?(o=!0,f=!0):(l=!0,u=!0)}else if(w)throw new W}else throw new W;if(o){if(l)throw new W;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new W;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Y.SYMBOL_WIDEST=[7,5,4,3,1],Y.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Y.GSUM=[0,348,1388,2948,3988],Y.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Y.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Y.FINDER_PAT_A=0,Y.FINDER_PAT_B=1,Y.FINDER_PAT_C=2,Y.FINDER_PAT_D=3,Y.FINDER_PAT_E=4,Y.FINDER_PAT_F=5,Y.FINDER_PATTERN_SEQUENCES=[[Y.FINDER_PAT_A,Y.FINDER_PAT_A],[Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B],[Y.FINDER_PAT_A,Y.FINDER_PAT_C,Y.FINDER_PAT_B,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_C],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F]],Y.MAX_PAIRS=11;class Ed extends Er{constructor(t,r,s){super(t,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dt extends Dt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,s){const o=this.decodePair(r,!1,t,s);dt.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,s);dt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&dt.checkChecksum(u,f))return dt.constructResult(u,f)}throw new W}static addOrTally(t,r){if(r==null)return;let s=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let s=4537077*t.getValue()+r.getValue(),o=new String(s).toString(),l=new Se;for(let g=13-o.length;g>0;g--)l.append("0");l.append(o);let u=0;for(let g=0;g<13;g++){let w=l.charAt(g).charCodeAt(0)-48;u+=g&1?w:3*w}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=t.getFinderPattern().getResultPoints(),d=r.getFinderPattern().getResultPoints();return new Le(l.toString(),null,0,[f[0],f[1],d[0],d[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(t,r){let s=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(t,r,s,o){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,s,r,l),f=o==null?null:o.get(K.NEED_RESULT_POINT_CALLBACK);if(f!=null){let w=(l[0]+l[1])/2;r&&(w=t.getSize()-1-w),f.foundPossibleResultPoint(new ue(w,s))}let d=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new Ed(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,s){let o=this.getDataCharacterCounters();for(let P=0;P<o.length;P++)o[P]=0;if(s)ot.recordPatternInReverse(t,r.getStartEnd()[0],o);else{ot.recordPattern(t,r.getStartEnd()[1]+1,o);for(let P=0,j=o.length-1;P<j;P++,j--){let J=o[P];o[P]=o[j],o[j]=J}}let l=s?16:15,u=Ne.sum(new Int32Array(o))/l,f=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let P=0;P<o.length;P++){let j=o[P]/u,J=Math.floor(j+.5);J<1?J=1:J>8&&(J=8);let ee=Math.floor(P/2);P&1?(d[ee]=J,w[ee]=j-J):(f[ee]=J,g[ee]=j-J)}this.adjustOddEvenCounts(s,l);let C=0,v=0;for(let P=f.length-1;P>=0;P--)v*=9,v+=f[P],C+=f[P];let I=0,O=0;for(let P=d.length-1;P>=0;P--)I*=9,I+=d[P],O+=d[P];let b=v+3*I;if(s){if(C&1||C>12||C<4)throw new W;let P=(12-C)/2,j=dt.OUTSIDE_ODD_WIDEST[P],J=9-j,ee=Zn.getRSSvalue(f,j,!1),Z=Zn.getRSSvalue(d,J,!0),Oe=dt.OUTSIDE_EVEN_TOTAL_SUBSET[P],ve=dt.OUTSIDE_GSUM[P];return new Er(ee*Oe+Z+ve,b)}else{if(O&1||O>10||O<4)throw new W;let P=(10-O)/2,j=dt.INSIDE_ODD_WIDEST[P],J=9-j,ee=Zn.getRSSvalue(f,j,!0),Z=Zn.getRSSvalue(d,J,!1),Oe=dt.INSIDE_ODD_TOTAL_SUBSET[P],ve=dt.INSIDE_GSUM[P];return new Er(Z*Oe+ee+ve,b)}}findFinderPattern(t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),l=!1,u=0;for(;u<o&&(l=!t.get(u),r!==l);)u++;let f=0,d=u;for(let g=u;g<o;g++)if(t.get(g)!==l)s[f]++;else{if(f===3){if(Dt.isFinderPattern(s))return[d,g];d+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,l=!l}throw new W}parseFoundFinderPattern(t,r,s,o){let l=t.get(o[0]),u=o[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const f=o[0]-u,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);F.arraycopy(d,0,g,1,d.length-1),g[0]=f;const w=this.parseFinderValue(g,dt.FINDER_PATTERNS);let C=u,v=o[1];return s&&(C=t.getSize()-1-C,v=t.getSize()-1-v),new uo(w,[u,o[1]],C,v,r)}adjustOddEvenCounts(t,r){let s=Ne.sum(new Int32Array(this.getOddCounts())),o=Ne.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,d=!1;t?(s>12?u=!0:s<4&&(l=!0),o>12?d=!0:o<4&&(f=!0)):(s>11?u=!0:s<5&&(l=!0),o>10?d=!0:o<4&&(f=!0));let g=s+o-r,w=(s&1)===(t?1:0),C=(o&1)===1;if(g===1)if(w){if(C)throw new W;u=!0}else{if(!C)throw new W;d=!0}else if(g===-1)if(w){if(C)throw new W;l=!0}else{if(!C)throw new W;f=!0}else if(g===0){if(w){if(!C)throw new W;s<o?(l=!0,d=!0):(u=!0,f=!0)}else if(C)throw new W}else throw new W;if(l){if(u)throw new W;Dt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Dt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new W;Dt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Dt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dt.OUTSIDE_GSUM=[0,161,961,2015,2715],dt.INSIDE_GSUM=[0,336,1036,1516],dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dt.INSIDE_ODD_WIDEST=[2,4,6,8],dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ei extends ot{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const s=t?t.get(K.POSSIBLE_FORMATS):null,o=t&&t.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ce.EAN_13)||s.includes(ce.UPC_A)||s.includes(ce.EAN_8)||s.includes(ce.UPC_E))&&this.readers.push(new gn(t)),s.includes(ce.CODE_39)&&this.readers.push(new ft(o)),s.includes(ce.CODE_128)&&this.readers.push(new ne),s.includes(ce.ITF)&&this.readers.push(new Ve),s.includes(ce.RSS_14)&&this.readers.push(new dt),s.includes(ce.RSS_EXPANDED)&&this.readers.push(new Y(this.verbose))):(this.readers.push(new gn(t)),this.readers.push(new ft),this.readers.push(new gn(t)),this.readers.push(new ne),this.readers.push(new Ve),this.readers.push(new dt),this.readers.push(new Y(this.verbose)))}decodeRow(t,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,s)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class Cd extends Ot{constructor(t=500,r){super(new Ei(r),t,r)}}class ze{constructor(t,r,s){this.ecCodewords=t,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ue{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class be{constructor(t,r,s,o,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0;const d=u.getECCodewords(),g=u.getECBlocks();for(let w of g)f+=w.getCount()*(w.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new z;for(let s of be.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new be(1,10,10,8,8,new ze(5,new Ue(1,3))),new be(2,12,12,10,10,new ze(7,new Ue(1,5))),new be(3,14,14,12,12,new ze(10,new Ue(1,8))),new be(4,16,16,14,14,new ze(12,new Ue(1,12))),new be(5,18,18,16,16,new ze(14,new Ue(1,18))),new be(6,20,20,18,18,new ze(18,new Ue(1,22))),new be(7,22,22,20,20,new ze(20,new Ue(1,30))),new be(8,24,24,22,22,new ze(24,new Ue(1,36))),new be(9,26,26,24,24,new ze(28,new Ue(1,44))),new be(10,32,32,14,14,new ze(36,new Ue(1,62))),new be(11,36,36,16,16,new ze(42,new Ue(1,86))),new be(12,40,40,18,18,new ze(48,new Ue(1,114))),new be(13,44,44,20,20,new ze(56,new Ue(1,144))),new be(14,48,48,22,22,new ze(68,new Ue(1,174))),new be(15,52,52,24,24,new ze(42,new Ue(2,102))),new be(16,64,64,14,14,new ze(56,new Ue(2,140))),new be(17,72,72,16,16,new ze(36,new Ue(4,92))),new be(18,80,80,18,18,new ze(48,new Ue(4,114))),new be(19,88,88,20,20,new ze(56,new Ue(4,144))),new be(20,96,96,22,22,new ze(68,new Ue(4,174))),new be(21,104,104,24,24,new ze(56,new Ue(6,136))),new be(22,120,120,18,18,new ze(68,new Ue(6,175))),new be(23,132,132,20,20,new ze(62,new Ue(8,163))),new be(24,144,144,22,22,new ze(62,new Ue(8,156),new Ue(2,155))),new be(25,8,18,6,16,new ze(7,new Ue(1,5))),new be(26,8,32,6,14,new ze(11,new Ue(1,10))),new be(27,12,26,10,24,new ze(14,new Ue(1,16))),new be(28,12,36,10,16,new ze(18,new Ue(1,22))),new be(29,16,36,14,16,new ze(24,new Ue(1,32))),new be(30,16,48,14,22,new ze(28,new Ue(1,49)))]}}be.VERSIONS=be.buildVersions();class Ka{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new z;this.version=Ka.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),s=t.getWidth();return be.getVersionForDimensions(r,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,d=!1,g=!1,w=!1;do if(s===l&&o===0&&!f)t[r++]=this.readCorner1(l,u)&255,s-=2,o+=2,f=!0;else if(s===l-2&&o===0&&u&3&&!d)t[r++]=this.readCorner2(l,u)&255,s-=2,o+=2,d=!0;else if(s===l+4&&o===2&&!(u&7)&&!g)t[r++]=this.readCorner3(l,u)&255,s-=2,o+=2,g=!0;else if(s===l-2&&o===0&&(u&7)===4&&!w)t[r++]=this.readCorner4(l,u)&255,s-=2,o+=2,w=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s-=2,o+=2;while(s>=0&&o<u);s+=1,o+=3;do s>=0&&o<u&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<u);if(r!==this.version.getTotalCodewords())throw new z;return t}readModule(t,r,s,o){return t<0&&(t+=s,r+=4-(s+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,s,o){let l=0;return this.readModule(t-2,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r,s,o)&&(l|=1),l<<=1,this.readModule(t,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t,r,s,o)&&(l|=1),l}readCorner1(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,1,t,r)&&(s|=1),s<<=1,this.readModule(t-1,2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}readCorner2(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-4,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner3(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-3,t,r)&&(s|=1),s<<=1,this.readModule(1,r-2,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner4(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/o|0,f=s/l|0,d=u*o,g=f*l,w=new Fe(g,d);for(let C=0;C<u;++C){const v=C*o;for(let I=0;I<f;++I){const O=I*l;for(let b=0;b<o;++b){const P=C*(o+2)+1+b,j=v+b;for(let J=0;J<l;++J){const ee=I*(l+2)+1+J;if(t.get(ee,P)){const Z=O+J;w.set(Z,j)}}}}}return w}}class Qa{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const s=r.getECBlocks();let o=0;const l=s.getECBlocks();for(let b of l)o+=b.getCount();const u=new Array(o);let f=0;for(let b of l)for(let P=0;P<b.getCount();P++){const j=b.getDataCodewords(),J=s.getECCodewords()+j;u[f++]=new Qa(j,new Uint8Array(J))}const g=u[0].codewords.length-s.getECCodewords(),w=g-1;let C=0;for(let b=0;b<w;b++)for(let P=0;P<f;P++)u[P].codewords[b]=t[C++];const v=r.getVersionNumber()===24,I=v?8:f;for(let b=0;b<I;b++)u[b].codewords[g-1]=t[C++];const O=u[0].codewords.length;for(let b=g;b<O;b++)for(let P=0;P<f;P++){const j=v?(P+8)%f:P,J=v&&j>7?b-1:b;u[j].codewords[J]=t[C++]}if(C!==t.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class qa{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new S(""+t);let r=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const u=8-s,f=t<u?t:u,d=u-f,g=255>>8-f<<d;r=(l[o]&g)>>d,t-=f,s+=f,s===8&&(s=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const u=8-t,f=255>>u<<u;r=r<<t|(l[o]&f)>>u,s+=t}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var It;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(It||(It={}));class Ar{static decode(t){const r=new qa(t),s=new Se,o=new Se,l=new Array;let u=It.ASCII_ENCODE;do if(u===It.ASCII_ENCODE)u=this.decodeAsciiSegment(r,s,o);else{switch(u){case It.C40_ENCODE:this.decodeC40Segment(r,s);break;case It.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case It.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case It.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case It.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new z}u=It.ASCII_ENCODE}while(u!==It.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new Ge(t,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,s){let o=!1;do{let l=t.readBits(8);if(l===0)throw new z;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),It.ASCII_ENCODE;if(l===129)return It.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return It.C40_ENCODE;case 231:return It.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return It.ANSIX12_ENCODE;case 239:return It.TEXT_ENCODE;case 240:return It.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new z;break}}while(t.available()>0);return It.ASCII_ENCODE}static decodeC40Segment(t,r){let s=!1;const o=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(l){case 0:if(d<3)l=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[d];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new z;break;case 1:s?(r.append(String.fromCharCode(d+128)),s=!1):r.append(String.fromCharCode(d)),l=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[d];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(d){case 27:r.append("");break;case 30:s=!0;break;default:throw new z}l=0;break;case 3:s?(r.append(String.fromCharCode(d+224)),s=!1):r.append(String.fromCharCode(d+96)),l=0;break;default:throw new z}}}while(t.available()>0)}static decodeTextSegment(t,r){let s=!1,o=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const d=o[f];switch(l){case 0:if(d<3)l=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[d];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new z;break;case 1:s?(r.append(String.fromCharCode(d+128)),s=!1):r.append(String.fromCharCode(d)),l=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[d];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(d){case 27:r.append("");break;case 30:s=!0;break;default:throw new z}l=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[d];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g),l=0}else throw new z;break;default:throw new z}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const s=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),s);for(let l=0;l<3;l++){const u=s[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new z;break}}}while(t.available()>0)}static parseTwoBytes(t,r,s){let o=(t<<8)+r-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,s){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new z;const f=new Uint8Array(u);for(let d=0;d<u;d++){if(t.available()<8)throw new z;f[d]=this.unrandomize255State(t.readBits(8),o++)}s.push(f);try{r.append(Ce.decode(f,he.ISO88591))}catch(d){throw new fn("Platform does not support required encoding: "+d.message)}}static unrandomize255State(t,r){const s=149*r%255+1,o=t-s;return o>=0?o:o+256}}Ar.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ar.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ar.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ar.TEXT_SHIFT2_SET_CHARS=Ar.C40_SHIFT2_SET_CHARS,Ar.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ad{constructor(){this.rsDecoder=new Zr(ke.DATA_MATRIX_FIELD_256)}decode(t){const r=new Ka(t),s=r.getVersion(),o=r.readCodewords(),l=Qa.getDataBlocks(o,s);let u=0;for(let g of l)u+=g.getNumDataCodewords();const f=new Uint8Array(u),d=l.length;for(let g=0;g<d;g++){const w=l[g],C=w.getCodewords(),v=w.getNumDataCodewords();this.correctErrors(C,v);for(let I=0;I<v;I++)f[I*d+g]=C[I]}return Ar.decode(f)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new k}for(let o=0;o<r;o++)t[o]=s[o]}}class wt{constructor(t){this.image=t,this.rectangleDetector=new hn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],l=r[2],u=r[3];let f=this.transitionsBetween(s,u)+1,d=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(d&1)===1&&(d+=1),4*f<7*d&&4*d<7*f&&(f=d=Math.max(f,d));let g=wt.sampleGrid(this.image,s,o,l,u,f,d);return new ar(g,[s,o,l,u])}static shiftPoint(t,r,s){let o=(r.getX()-t.getX())/(s+1),l=(r.getY()-t.getY())/(s+1);return new ue(t.getX()+o,t.getY()+l)}static moveAway(t,r,s){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<s?l-=1:l+=1,new ue(o,l)}detectSolid1(t){let r=t[0],s=t[1],o=t[3],l=t[2],u=this.transitionsBetween(r,s),f=this.transitionsBetween(s,o),d=this.transitionsBetween(o,l),g=this.transitionsBetween(l,r),w=u,C=[l,r,s,o];return w>f&&(w=f,C[0]=r,C[1]=s,C[2]=o,C[3]=l),w>d&&(w=d,C[0]=s,C[1]=o,C[2]=l,C[3]=r),w>g&&(C[0]=o,C[1]=l,C[2]=r,C[3]=s),C}detectSolid2(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=wt.shiftPoint(s,o,(u+1)*4),d=wt.shiftPoint(o,s,(u+1)*4),g=this.transitionsBetween(f,r),w=this.transitionsBetween(d,l);return g<w?(t[0]=r,t[1]=s,t[2]=o,t[3]=l):(t[0]=s,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=this.transitionsBetween(s,l),d=wt.shiftPoint(r,s,(f+1)*4),g=wt.shiftPoint(o,s,(u+1)*4);u=this.transitionsBetween(d,l),f=this.transitionsBetween(g,l);let w=new ue(l.getX()+(o.getX()-s.getX())/(u+1),l.getY()+(o.getY()-s.getY())/(u+1)),C=new ue(l.getX()+(r.getX()-s.getX())/(f+1),l.getY()+(r.getY()-s.getY())/(f+1));if(!this.isValid(w))return this.isValid(C)?C:null;if(!this.isValid(C))return w;let v=this.transitionsBetween(d,w)+this.transitionsBetween(g,w),I=this.transitionsBetween(d,C)+this.transitionsBetween(g,C);return v>I?w:C}shiftToModuleCenter(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1,d=wt.shiftPoint(r,s,f*4),g=wt.shiftPoint(o,s,u*4);u=this.transitionsBetween(d,l)+1,f=this.transitionsBetween(g,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let w=(r.getX()+s.getX()+o.getX()+l.getX())/4,C=(r.getY()+s.getY()+o.getY()+l.getY())/4;r=wt.moveAway(r,w,C),s=wt.moveAway(s,w,C),o=wt.moveAway(o,w,C),l=wt.moveAway(l,w,C);let v,I;return d=wt.shiftPoint(r,s,f*4),d=wt.shiftPoint(d,l,u*4),v=wt.shiftPoint(s,r,f*4),v=wt.shiftPoint(v,o,u*4),g=wt.shiftPoint(o,l,f*4),g=wt.shiftPoint(g,s,u*4),I=wt.shiftPoint(l,o,f*4),I=wt.shiftPoint(I,r,u*4),[d,v,g,I]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,s,o,l,u,f){return Fn.getInstance().sampleGrid(t,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(t,r){let s=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),f=Math.abs(u-o)>Math.abs(l-s);if(f){let b=s;s=o,o=b,b=l,l=u,u=b}let d=Math.abs(l-s),g=Math.abs(u-o),w=-d/2,C=o<u?1:-1,v=s<l?1:-1,I=0,O=this.image.get(f?o:s,f?s:o);for(let b=s,P=o;b!==l;b+=v){let j=this.image.get(f?P:b,f?b:P);if(j!==O&&(I++,O=j),w+=g,w>0){if(P===u)break;P+=C,w-=d}}return I}}class vr{constructor(){this.decoder=new Ad}decode(t,r=null){let s,o;if(r!=null&&r.has(K.PURE_BARCODE)){const g=vr.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(g),o=vr.NO_POINTS}else{const g=new wt(t.getBlackMatrix()).detect();s=this.decoder.decode(g.getBits()),o=g.getPoints()}const l=s.getRawBytes(),u=new Le(s.getText(),l,8*l.length,o,ce.DATA_MATRIX,F.currentTimeMillis()),f=s.getByteSegments();f!=null&&u.putMetadata(st.BYTE_SEGMENTS,f);const d=s.getECLevel();return d!=null&&u.putMetadata(st.ERROR_CORRECTION_LEVEL,d),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r==null||s==null)throw new W;const o=this.moduleSize(r,t);let l=r[1];const u=s[1];let f=r[0];const g=(s[0]-f+1)/o,w=(u-l+1)/o;if(g<=0||w<=0)throw new W;const C=o/2;l+=C,f+=C;const v=new Fe(g,w);for(let I=0;I<w;I++){const O=l+I*o;for(let b=0;b<g;b++)t.get(f+b*o,O)&&v.set(b,I)}return v}static moduleSize(t,r){const s=r.getWidth();let o=t[0];const l=t[1];for(;o<s&&r.get(o,l);)o++;if(o===s)throw new W;const u=o-t[0];if(u===0)throw new W;return u}}vr.NO_POINTS=[];class vd extends Ot{constructor(t=500){super(new vr,t)}}var Ci;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(Ci||(Ci={}));class Qe{constructor(t,r,s){this.value=t,this.stringValue=r,this.bits=s,Qe.FOR_BITS.set(s,this),Qe.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Qe.L;case"M":return Qe.M;case"Q":return Qe.Q;case"H":return Qe.H;default:throw new A(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Qe))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Qe.FOR_BITS.size)throw new S;return Qe.FOR_BITS.get(t)}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.L=new Qe(Ci.L,"L",1),Qe.M=new Qe(Ci.M,"M",0),Qe.Q=new Qe(Ci.Q,"Q",3),Qe.H=new Qe(Ci.H,"H",2);class jt{constructor(t){this.errorCorrectionLevel=Qe.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return N.bitCount(t^r)}static decodeFormatInformation(t,r){const s=jt.doDecodeFormatInformation(t,r);return s!==null?s:jt.doDecodeFormatInformation(t^jt.FORMAT_INFO_MASK_QR,r^jt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of jt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new jt(l[1]);let f=jt.numBitsDiffering(t,u);f<s&&(o=l[1],s=f),t!==r&&(f=jt.numBitsDiffering(r,u),f<s&&(o=l[1],s=f))}return s<=3?new jt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof jt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}jt.FORMAT_INFO_MASK_QR=21522,jt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class L{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const s of r)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class de{constructor(t,r,...s){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const f of u)o+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new z;try{return this.getVersionForNumber((t-17)/4)}catch{throw new z}}static getVersionForNumber(t){if(t<1||t>40)throw new S;return de.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<de.VERSION_DECODE_INFO.length;o++){const l=de.VERSION_DECODE_INFO[o];if(l===t)return de.getVersionForNumber(o+7);const u=jt.numBitsDiffering(t,l);u<r&&(s=o+7,r=u)}return r<=3?de.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Fe(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let u=0;u<s;u++)o===0&&(u===0||u===s-1)||o===s-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}de.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),de.VERSIONS=[new de(1,new Int32Array(0),new L(7,new _(1,19)),new L(10,new _(1,16)),new L(13,new _(1,13)),new L(17,new _(1,9))),new de(2,Int32Array.from([6,18]),new L(10,new _(1,34)),new L(16,new _(1,28)),new L(22,new _(1,22)),new L(28,new _(1,16))),new de(3,Int32Array.from([6,22]),new L(15,new _(1,55)),new L(26,new _(1,44)),new L(18,new _(2,17)),new L(22,new _(2,13))),new de(4,Int32Array.from([6,26]),new L(20,new _(1,80)),new L(18,new _(2,32)),new L(26,new _(2,24)),new L(16,new _(4,9))),new de(5,Int32Array.from([6,30]),new L(26,new _(1,108)),new L(24,new _(2,43)),new L(18,new _(2,15),new _(2,16)),new L(22,new _(2,11),new _(2,12))),new de(6,Int32Array.from([6,34]),new L(18,new _(2,68)),new L(16,new _(4,27)),new L(24,new _(4,19)),new L(28,new _(4,15))),new de(7,Int32Array.from([6,22,38]),new L(20,new _(2,78)),new L(18,new _(4,31)),new L(18,new _(2,14),new _(4,15)),new L(26,new _(4,13),new _(1,14))),new de(8,Int32Array.from([6,24,42]),new L(24,new _(2,97)),new L(22,new _(2,38),new _(2,39)),new L(22,new _(4,18),new _(2,19)),new L(26,new _(4,14),new _(2,15))),new de(9,Int32Array.from([6,26,46]),new L(30,new _(2,116)),new L(22,new _(3,36),new _(2,37)),new L(20,new _(4,16),new _(4,17)),new L(24,new _(4,12),new _(4,13))),new de(10,Int32Array.from([6,28,50]),new L(18,new _(2,68),new _(2,69)),new L(26,new _(4,43),new _(1,44)),new L(24,new _(6,19),new _(2,20)),new L(28,new _(6,15),new _(2,16))),new de(11,Int32Array.from([6,30,54]),new L(20,new _(4,81)),new L(30,new _(1,50),new _(4,51)),new L(28,new _(4,22),new _(4,23)),new L(24,new _(3,12),new _(8,13))),new de(12,Int32Array.from([6,32,58]),new L(24,new _(2,92),new _(2,93)),new L(22,new _(6,36),new _(2,37)),new L(26,new _(4,20),new _(6,21)),new L(28,new _(7,14),new _(4,15))),new de(13,Int32Array.from([6,34,62]),new L(26,new _(4,107)),new L(22,new _(8,37),new _(1,38)),new L(24,new _(8,20),new _(4,21)),new L(22,new _(12,11),new _(4,12))),new de(14,Int32Array.from([6,26,46,66]),new L(30,new _(3,115),new _(1,116)),new L(24,new _(4,40),new _(5,41)),new L(20,new _(11,16),new _(5,17)),new L(24,new _(11,12),new _(5,13))),new de(15,Int32Array.from([6,26,48,70]),new L(22,new _(5,87),new _(1,88)),new L(24,new _(5,41),new _(5,42)),new L(30,new _(5,24),new _(7,25)),new L(24,new _(11,12),new _(7,13))),new de(16,Int32Array.from([6,26,50,74]),new L(24,new _(5,98),new _(1,99)),new L(28,new _(7,45),new _(3,46)),new L(24,new _(15,19),new _(2,20)),new L(30,new _(3,15),new _(13,16))),new de(17,Int32Array.from([6,30,54,78]),new L(28,new _(1,107),new _(5,108)),new L(28,new _(10,46),new _(1,47)),new L(28,new _(1,22),new _(15,23)),new L(28,new _(2,14),new _(17,15))),new de(18,Int32Array.from([6,30,56,82]),new L(30,new _(5,120),new _(1,121)),new L(26,new _(9,43),new _(4,44)),new L(28,new _(17,22),new _(1,23)),new L(28,new _(2,14),new _(19,15))),new de(19,Int32Array.from([6,30,58,86]),new L(28,new _(3,113),new _(4,114)),new L(26,new _(3,44),new _(11,45)),new L(26,new _(17,21),new _(4,22)),new L(26,new _(9,13),new _(16,14))),new de(20,Int32Array.from([6,34,62,90]),new L(28,new _(3,107),new _(5,108)),new L(26,new _(3,41),new _(13,42)),new L(30,new _(15,24),new _(5,25)),new L(28,new _(15,15),new _(10,16))),new de(21,Int32Array.from([6,28,50,72,94]),new L(28,new _(4,116),new _(4,117)),new L(26,new _(17,42)),new L(28,new _(17,22),new _(6,23)),new L(30,new _(19,16),new _(6,17))),new de(22,Int32Array.from([6,26,50,74,98]),new L(28,new _(2,111),new _(7,112)),new L(28,new _(17,46)),new L(30,new _(7,24),new _(16,25)),new L(24,new _(34,13))),new de(23,Int32Array.from([6,30,54,78,102]),new L(30,new _(4,121),new _(5,122)),new L(28,new _(4,47),new _(14,48)),new L(30,new _(11,24),new _(14,25)),new L(30,new _(16,15),new _(14,16))),new de(24,Int32Array.from([6,28,54,80,106]),new L(30,new _(6,117),new _(4,118)),new L(28,new _(6,45),new _(14,46)),new L(30,new _(11,24),new _(16,25)),new L(30,new _(30,16),new _(2,17))),new de(25,Int32Array.from([6,32,58,84,110]),new L(26,new _(8,106),new _(4,107)),new L(28,new _(8,47),new _(13,48)),new L(30,new _(7,24),new _(22,25)),new L(30,new _(22,15),new _(13,16))),new de(26,Int32Array.from([6,30,58,86,114]),new L(28,new _(10,114),new _(2,115)),new L(28,new _(19,46),new _(4,47)),new L(28,new _(28,22),new _(6,23)),new L(30,new _(33,16),new _(4,17))),new de(27,Int32Array.from([6,34,62,90,118]),new L(30,new _(8,122),new _(4,123)),new L(28,new _(22,45),new _(3,46)),new L(30,new _(8,23),new _(26,24)),new L(30,new _(12,15),new _(28,16))),new de(28,Int32Array.from([6,26,50,74,98,122]),new L(30,new _(3,117),new _(10,118)),new L(28,new _(3,45),new _(23,46)),new L(30,new _(4,24),new _(31,25)),new L(30,new _(11,15),new _(31,16))),new de(29,Int32Array.from([6,30,54,78,102,126]),new L(30,new _(7,116),new _(7,117)),new L(28,new _(21,45),new _(7,46)),new L(30,new _(1,23),new _(37,24)),new L(30,new _(19,15),new _(26,16))),new de(30,Int32Array.from([6,26,52,78,104,130]),new L(30,new _(5,115),new _(10,116)),new L(28,new _(19,47),new _(10,48)),new L(30,new _(15,24),new _(25,25)),new L(30,new _(23,15),new _(25,16))),new de(31,Int32Array.from([6,30,56,82,108,134]),new L(30,new _(13,115),new _(3,116)),new L(28,new _(2,46),new _(29,47)),new L(30,new _(42,24),new _(1,25)),new L(30,new _(23,15),new _(28,16))),new de(32,Int32Array.from([6,34,60,86,112,138]),new L(30,new _(17,115)),new L(28,new _(10,46),new _(23,47)),new L(30,new _(10,24),new _(35,25)),new L(30,new _(19,15),new _(35,16))),new de(33,Int32Array.from([6,30,58,86,114,142]),new L(30,new _(17,115),new _(1,116)),new L(28,new _(14,46),new _(21,47)),new L(30,new _(29,24),new _(19,25)),new L(30,new _(11,15),new _(46,16))),new de(34,Int32Array.from([6,34,62,90,118,146]),new L(30,new _(13,115),new _(6,116)),new L(28,new _(14,46),new _(23,47)),new L(30,new _(44,24),new _(7,25)),new L(30,new _(59,16),new _(1,17))),new de(35,Int32Array.from([6,30,54,78,102,126,150]),new L(30,new _(12,121),new _(7,122)),new L(28,new _(12,47),new _(26,48)),new L(30,new _(39,24),new _(14,25)),new L(30,new _(22,15),new _(41,16))),new de(36,Int32Array.from([6,24,50,76,102,128,154]),new L(30,new _(6,121),new _(14,122)),new L(28,new _(6,47),new _(34,48)),new L(30,new _(46,24),new _(10,25)),new L(30,new _(2,15),new _(64,16))),new de(37,Int32Array.from([6,28,54,80,106,132,158]),new L(30,new _(17,122),new _(4,123)),new L(28,new _(29,46),new _(14,47)),new L(30,new _(49,24),new _(10,25)),new L(30,new _(24,15),new _(46,16))),new de(38,Int32Array.from([6,32,58,84,110,136,162]),new L(30,new _(4,122),new _(18,123)),new L(28,new _(13,46),new _(32,47)),new L(30,new _(48,24),new _(14,25)),new L(30,new _(42,15),new _(32,16))),new de(39,Int32Array.from([6,26,54,82,110,138,166]),new L(30,new _(20,117),new _(4,118)),new L(28,new _(40,47),new _(7,48)),new L(30,new _(43,24),new _(22,25)),new L(30,new _(10,15),new _(67,16))),new de(40,Int32Array.from([6,30,58,86,114,142,170]),new L(30,new _(19,118),new _(6,119)),new L(28,new _(18,47),new _(31,48)),new L(30,new _(34,24),new _(34,25)),new L(30,new _(20,15),new _(61,16)))];var Mt;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(Mt||(Mt={}));class Nn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&t.flip(o,s)}}Nn.values=new Map([[Mt.DATA_MASK_000,new Nn(Mt.DATA_MASK_000,(y,t)=>(y+t&1)===0)],[Mt.DATA_MASK_001,new Nn(Mt.DATA_MASK_001,(y,t)=>(y&1)===0)],[Mt.DATA_MASK_010,new Nn(Mt.DATA_MASK_010,(y,t)=>t%3===0)],[Mt.DATA_MASK_011,new Nn(Mt.DATA_MASK_011,(y,t)=>(y+t)%3===0)],[Mt.DATA_MASK_100,new Nn(Mt.DATA_MASK_100,(y,t)=>(Math.floor(y/2)+Math.floor(t/3)&1)===0)],[Mt.DATA_MASK_101,new Nn(Mt.DATA_MASK_101,(y,t)=>y*t%6===0)],[Mt.DATA_MASK_110,new Nn(Mt.DATA_MASK_110,(y,t)=>y*t%6<3)],[Mt.DATA_MASK_111,new Nn(Mt.DATA_MASK_111,(y,t)=>(y+t+y*t%3&1)===0)]]);class Sd{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new z;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let l=r-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=jt.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return de.getVersionForNumber(r);let s=0;const o=t-11;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)s=this.copyBit(f,u,s);let l=de.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;s=0;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)s=this.copyBit(u,f,s);if(l=de.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new z}copyBit(t,r,s){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),s=Nn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let u=!0;const f=new Uint8Array(r.getTotalCodewords());let d=0,g=0,w=0;for(let C=o-1;C>0;C-=2){C===6&&C--;for(let v=0;v<o;v++){const I=u?o-1-v:v;for(let O=0;O<2;O++)l.get(C-O,I)||(w++,g<<=1,this.bitMatrix.get(C-O,I)&&(g|=1),w===8&&(f[d++]=g,w=0,g=0))}u=!u}if(d!==r.getTotalCodewords())throw new z;return f}remask(){if(this.parsedFormatInfo===null)return;const t=Nn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,s=t.getWidth();r<s;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class Ja{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,s){if(t.length!==r.getTotalCodewords())throw new S;const o=r.getECBlocksForLevel(s);let l=0;const u=o.getECBlocks();for(const O of u)l+=O.getCount();const f=new Array(l);let d=0;for(const O of u)for(let b=0;b<O.getCount();b++){const P=O.getDataCodewords(),j=o.getECCodewordsPerBlock()+P;f[d++]=new Ja(P,new Uint8Array(j))}const g=f[0].codewords.length;let w=f.length-1;for(;w>=0&&f[w].codewords.length!==g;)w--;w++;const C=g-o.getECCodewordsPerBlock();let v=0;for(let O=0;O<C;O++)for(let b=0;b<d;b++)f[b].codewords[O]=t[v++];for(let O=w;O<d;O++)f[O].codewords[C]=t[v++];const I=f[0].codewords.length;for(let O=C;O<I;O++)for(let b=0;b<d;b++){const P=b<w?O:O+1;f[b].codewords[P]=t[v++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tn;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(Tn||(Tn={}));class xe{constructor(t,r,s,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,xe.FOR_BITS.set(o,this),xe.FOR_VALUE.set(t,this)}static forBits(t){const r=xe.FOR_BITS.get(t);if(r===void 0)throw new S;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof xe))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}xe.FOR_BITS=new Map,xe.FOR_VALUE=new Map,xe.TERMINATOR=new xe(Tn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),xe.NUMERIC=new xe(Tn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),xe.ALPHANUMERIC=new xe(Tn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),xe.STRUCTURED_APPEND=new xe(Tn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),xe.BYTE=new xe(Tn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),xe.ECI=new xe(Tn.ECI,"ECI",Int32Array.from([0,0,0]),7),xe.KANJI=new xe(Tn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),xe.FNC1_FIRST_POSITION=new xe(Tn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),xe.FNC1_SECOND_POSITION=new xe(Tn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),xe.HANZI=new xe(Tn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class at{static decode(t,r,s,o){const l=new qa(t);let u=new Se;const f=new Array;let d=-1,g=-1;try{let w=null,C=!1,v;do{if(l.available()<4)v=xe.TERMINATOR;else{const I=l.readBits(4);v=xe.forBits(I)}switch(v){case xe.TERMINATOR:break;case xe.FNC1_FIRST_POSITION:case xe.FNC1_SECOND_POSITION:C=!0;break;case xe.STRUCTURED_APPEND:if(l.available()<16)throw new z;d=l.readBits(8),g=l.readBits(8);break;case xe.ECI:const I=at.parseECIValue(l);if(w=G.getCharacterSetECIByValue(I),w===null)throw new z;break;case xe.HANZI:const O=l.readBits(4),b=l.readBits(v.getCharacterCountBits(r));O===at.GB2312_SUBSET&&at.decodeHanziSegment(l,u,b);break;default:const P=l.readBits(v.getCharacterCountBits(r));switch(v){case xe.NUMERIC:at.decodeNumericSegment(l,u,P);break;case xe.ALPHANUMERIC:at.decodeAlphanumericSegment(l,u,P,C);break;case xe.BYTE:at.decodeByteSegment(l,u,P,w,f,o);break;case xe.KANJI:at.decodeKanjiSegment(l,u,P);break;default:throw new z}break}}while(v!==xe.TERMINATOR)}catch{throw new z}return new Ge(t,u.toString(),f.length===0?null:f,s===null?null:s.toString(),d,g)}static decodeHanziSegment(t,r,s){if(s*13>t.available())throw new z;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,o[l]=f>>8&255,o[l+1]=f&255,l+=2,s--}try{r.append(Ce.decode(o,he.GB2312))}catch(u){throw new z(u)}}static decodeKanjiSegment(t,r,s){if(s*13>t.available())throw new z;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,o[l]=f>>8,o[l+1]=f,l+=2,s--}try{r.append(Ce.decode(o,he.SHIFT_JIS))}catch(u){throw new z(u)}}static decodeByteSegment(t,r,s,o,l,u){if(8*s>t.available())throw new z;const f=new Uint8Array(s);for(let g=0;g<s;g++)f[g]=t.readBits(8);let d;o===null?d=he.guessEncoding(f,u):d=o.getName();try{r.append(Ce.decode(f,d))}catch(g){throw new z(g)}l.push(f)}static toAlphaNumericChar(t){if(t>=at.ALPHANUMERIC_CHARS.length)throw new z;return at.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,s,o){const l=r.length();for(;s>1;){if(t.available()<11)throw new z;const u=t.readBits(11);r.append(at.toAlphaNumericChar(Math.floor(u/45))),r.append(at.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(t.available()<6)throw new z;r.append(at.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,s){for(;s>=3;){if(t.available()<10)throw new z;const o=t.readBits(10);if(o>=1e3)throw new z;r.append(at.toAlphaNumericChar(Math.floor(o/100))),r.append(at.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(at.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(t.available()<7)throw new z;const o=t.readBits(7);if(o>=100)throw new z;r.append(at.toAlphaNumericChar(Math.floor(o/10))),r.append(at.toAlphaNumericChar(o%10))}else if(s===1){if(t.available()<4)throw new z;const o=t.readBits(4);if(o>=10)throw new z;r.append(at.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=t.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=t.readBits(16);return(r&31)<<16&4294967295|s}throw new z}}at.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",at.GB2312_SUBSET=1;class Wc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class _d{constructor(){this.rsDecoder=new Zr(ke.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Fe.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const s=new Sd(t);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new Wc(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const s=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Ja.getDataBlocks(l,s,o);let f=0;for(const w of u)f+=w.getNumDataCodewords();const d=new Uint8Array(f);let g=0;for(const w of u){const C=w.getCodewords(),v=w.getNumDataCodewords();this.correctErrors(C,v);for(let I=0;I<v;I++)d[g++]=C[I]}return at.decode(d,s,o,r)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new k}for(let o=0;o<r;o++)t[o]=s[o]}}class $a extends ue{constructor(t,r,s){super(t,r),this.estimatedModuleSize=s}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+s)/2;return new $a(o,l,u)}}class ho{constructor(t,r,s,o,l,u,f){this.image=t,this.startX=r,this.startY=s,this.width=o,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,s=this.width,o=t+s,l=this.startY+r/2,u=new Int32Array(3),f=this.image;for(let d=0;d<r;d++){const g=l+(d&1?-Math.floor((d+1)/2):Math.floor((d+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=t;for(;w<o&&!f.get(w,g);)w++;let C=0;for(;w<o;){if(f.get(w,g))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,g,w);if(v!==null)return v}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;w++}if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,g,o);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=s)return!1;return!0}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let d=t;for(;d>=0&&l.get(r,d)&&f[1]<=s;)f[1]++,d--;if(d<0||f[1]>s)return NaN;for(;d>=0&&!l.get(r,d)&&f[0]<=s;)f[0]++,d--;if(f[0]>s)return NaN;for(d=t+1;d<u&&l.get(r,d)&&f[1]<=s;)f[1]++,d++;if(d===u||f[1]>s)return NaN;for(;d<u&&!l.get(r,d)&&f[2]<=s;)f[2]++,d++;if(f[2]>s)return NaN;const g=f[0]+f[1]+f[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(f)?ho.centerFromEnd(f,d):NaN}handlePossibleCenter(t,r,s){const o=t[0]+t[1]+t[2],l=ho.centerFromEnd(t,s),u=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(u)){const f=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(f,u,l))return g.combineEstimate(u,l,f);const d=new $a(l,u,f);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class el extends ue{constructor(t,r,s,o){super(t,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+s)/o;return new el(l,u,f,o)}}class Id{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(K.TRY_HARDER)!==void 0,s=t!=null&&t.get(K.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),u=o.getWidth();let f=Math.floor(3*l/(4*kt.MAX_MODULES));(f<kt.MIN_SKIP||r)&&(f=kt.MIN_SKIP);let d=!1;const g=new Int32Array(5);for(let C=f-1;C<l&&!d;C+=f){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let v=0;for(let I=0;I<u;I++)if(o.get(I,C))(v&1)===1&&v++,g[v]++;else if(v&1)g[v]++;else if(v===4)if(kt.foundPatternCross(g)){if(this.handlePossibleCenter(g,C,I,s)===!0)if(f=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const b=this.findRowSkip();b>g[2]&&(C+=b-g[2]-f,I=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,v=3;continue}v=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,v=3;else g[++v]++;kt.foundPatternCross(g)&&this.handlePossibleCenter(g,C,u,s)===!0&&(f=g[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return ue.orderBestPatterns(w),new Id(w)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-t[0])<o&&Math.abs(s-t[1])<o&&Math.abs(3*s-t[2])<3*o&&Math.abs(s-t[3])<o&&Math.abs(s-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,s,o){const l=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;t>=u&&r>=u&&f.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!f.get(r-u,t-u)&&l[1]<=s;)l[1]++,u++;if(t<u||r<u||l[1]>s)return!1;for(;t>=u&&r>=u&&f.get(r-u,t-u)&&l[0]<=s;)l[0]++,u++;if(l[0]>s)return!1;const d=f.getHeight(),g=f.getWidth();for(u=1;t+u<d&&r+u<g&&f.get(r+u,t+u);)l[2]++,u++;if(t+u>=d||r+u>=g)return!1;for(;t+u<d&&r+u<g&&!f.get(r+u,t+u)&&l[3]<s;)l[3]++,u++;if(t+u>=d||r+u>=g||l[3]>=s)return!1;for(;t+u<d&&r+u<g&&f.get(r+u,t+u)&&l[4]<s;)l[4]++,u++;if(l[4]>=s)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-o)<2*o&&kt.foundPatternCross(l)}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),f=this.getCrossCheckStateCount();let d=t;for(;d>=0&&l.get(r,d);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!l.get(r,d)&&f[1]<=s;)f[1]++,d--;if(d<0||f[1]>s)return NaN;for(;d>=0&&l.get(r,d)&&f[0]<=s;)f[0]++,d--;if(f[0]>s)return NaN;for(d=t+1;d<u&&l.get(r,d);)f[2]++,d++;if(d===u)return NaN;for(;d<u&&!l.get(r,d)&&f[3]<s;)f[3]++,d++;if(d===u||f[3]>=s)return NaN;for(;d<u&&l.get(r,d)&&f[4]<s;)f[4]++,d++;if(f[4]>=s)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=2*o?NaN:kt.foundPatternCross(f)?kt.centerFromEnd(f,d):NaN}crossCheckHorizontal(t,r,s,o){const l=this.image,u=l.getWidth(),f=this.getCrossCheckStateCount();let d=t;for(;d>=0&&l.get(d,r);)f[2]++,d--;if(d<0)return NaN;for(;d>=0&&!l.get(d,r)&&f[1]<=s;)f[1]++,d--;if(d<0||f[1]>s)return NaN;for(;d>=0&&l.get(d,r)&&f[0]<=s;)f[0]++,d--;if(f[0]>s)return NaN;for(d=t+1;d<u&&l.get(d,r);)f[2]++,d++;if(d===u)return NaN;for(;d<u&&!l.get(d,r)&&f[3]<s;)f[3]++,d++;if(d===u||f[3]>=s)return NaN;for(;d<u&&l.get(d,r)&&f[4]<s;)f[4]++,d++;if(f[4]>=s)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=o?NaN:kt.foundPatternCross(f)?kt.centerFromEnd(f,d):NaN}handlePossibleCenter(t,r,s,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=kt.centerFromEnd(t,s),f=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),t[2],l),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),t[2],l)))){const d=l/7;let g=!1;const w=this.possibleCenters;for(let C=0,v=w.length;C<v;C++){const I=w[C];if(I.aboutEquals(d,f,u)){w[C]=I.combineEstimate(f,u,d),g=!0;break}}if(!g){const C=new el(u,f,d);w.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=kt.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=kt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/s;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const r=this.possibleCenters;let s;if(t>3){let o=0,l=0;for(const d of this.possibleCenters){const g=d.getEstimatedModuleSize();o+=g,l+=g*g}s=o/t;let u=Math.sqrt(l/t-s*s);r.sort((d,g)=>{const w=Math.abs(g.getEstimatedModuleSize()-s),C=Math.abs(d.getEstimatedModuleSize()-s);return w<C?-1:w>C?1:0});const f=Math.max(.2*s,u);for(let d=0;d<r.length&&r.length>3;d++){const g=r[d];Math.abs(g.getEstimatedModuleSize()-s)>f&&(r.splice(d,1),d--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();s=o/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-s),d=Math.abs(l.getEstimatedModuleSize()-s);return f<d?1:f>d?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}kt.CENTER_QUORUM=2,kt.MIN_SKIP=3,kt.MAX_MODULES=57;class ls{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(K.NEED_RESULT_POINT_CALLBACK);const s=new kt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const r=t.getTopLeft(),s=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,s,o);if(l<1)throw new W("No pattern found in proccess finder.");const u=ls.computeDimension(r,s,o,l),f=de.getProvisionalVersionForDimension(u),d=f.getDimensionForVersion()-7;let g=null;if(f.getAlignmentPatternCenters().length>0){const I=s.getX()-r.getX()+o.getX(),O=s.getY()-r.getY()+o.getY(),b=1-3/d,P=Math.floor(r.getX()+b*(I-r.getX())),j=Math.floor(r.getY()+b*(O-r.getY()));for(let J=4;J<=16;J<<=1)try{g=this.findAlignmentInRegion(l,P,j,J);break}catch(ee){if(!(ee instanceof W))throw ee}}const w=ls.createTransform(r,s,o,g,u),C=ls.sampleGrid(this.image,w,u);let v;return g===null?v=[o,r,s]:v=[o,r,s,g],new ar(C,v)}static createTransform(t,r,s,o,l){const u=l-3.5;let f,d,g,w;return o!==null?(f=o.getX(),d=o.getY(),g=u-3,w=g):(f=r.getX()-t.getX()+s.getX(),d=r.getY()-t.getY()+s.getY(),g=u,w=u),dn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,w,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),f,d,s.getX(),s.getY())}static sampleGrid(t,r,s){return Fn.getInstance().sampleGridWithTransform(t,s,s,r)}static computeDimension(t,r,s,o){const l=Ne.round(ue.distance(t,r)/o),u=Ne.round(ue.distance(t,s)/o);let f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new W("Dimensions could be not found.")}return f}calculateModuleSize(t,r,s){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,s,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,s,o),u=1,f=t-(s-t);f<0?(u=t/(t-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let d=Math.floor(r-(o-r)*u);return u=1,d<0?(u=r/(r-d),d=0):d>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(d-r),d=this.image.getHeight()-1),f=Math.floor(t+(f-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,f,d),l-1}sizeOfBlackWhiteBlackRun(t,r,s,o){const l=Math.abs(o-r)>Math.abs(s-t);if(l){let I=t;t=r,r=I,I=s,s=o,o=I}const u=Math.abs(s-t),f=Math.abs(o-r);let d=-u/2;const g=t<s?1:-1,w=r<o?1:-1;let C=0;const v=s+g;for(let I=t,O=r;I!==v;I+=g){const b=l?O:I,P=l?I:O;if(C===1===this.image.get(b,P)){if(C===2)return Ne.distance(I,O,t,r);C++}if(d+=f,d>0){if(O===o)break;O+=w,d-=u}}return C===2?Ne.distance(s+g,o,t,r):NaN}findAlignmentInRegion(t,r,s,o){const l=Math.floor(o*t),u=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-u<t*3)throw new W("Alignment top exceeds estimated module size.");const d=Math.max(0,s-l),g=Math.min(this.image.getHeight()-1,s+l);if(g-d<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new ho(this.image,u,d,f-u,g-d,t,this.resultPointCallback).find()}}class Sr{constructor(){this.decoder=new _d}getDecoder(){return this.decoder}decode(t,r){let s,o;if(r!=null&&r.get(K.PURE_BARCODE)!==void 0){const d=Sr.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(d,r),o=Sr.NO_POINTS}else{const d=new ls(t.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(d.getBits(),r),o=d.getPoints()}s.getOther()instanceof Wc&&s.getOther().applyMirroredCorrection(o);const l=new Le(s.getText(),s.getRawBytes(),void 0,o,ce.QR_CODE,void 0),u=s.getByteSegments();u!==null&&l.putMetadata(st.BYTE_SEGMENTS,u);const f=s.getECLevel();return f!==null&&l.putMetadata(st.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(l.putMetadata(st.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(st.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r===null||s===null)throw new W;const o=this.moduleSize(r,t);let l=r[1],u=s[1],f=r[0],d=s[0];if(f>=d||l>=u)throw new W;if(u-l!==d-f&&(d=f+(u-l),d>=t.getWidth()))throw new W;const g=Math.round((d-f+1)/o),w=Math.round((u-l+1)/o);if(g<=0||w<=0)throw new W;if(w!==g)throw new W;const C=Math.floor(o/2);l+=C,f+=C;const v=f+Math.floor((g-1)*o)-d;if(v>0){if(v>C)throw new W;f-=v}const I=l+Math.floor((w-1)*o)-u;if(I>0){if(I>C)throw new W;l-=I}const O=new Fe(g,w);for(let b=0;b<w;b++){const P=l+Math.floor(b*o);for(let j=0;j<g;j++)t.get(f+Math.floor(j*o),P)&&O.set(j,b)}return O}static moduleSize(t,r){const s=r.getHeight(),o=r.getWidth();let l=t[0],u=t[1],f=!0,d=0;for(;l<o&&u<s;){if(f!==r.get(l,u)){if(++d===5)break;f=!f}l++,u++}if(l===o||u===s)throw new W;return(l-t[0])/7}}Sr.NO_POINTS=new Array;class we{PDF417Common(){}static getBitCountSum(t){return Ne.sum(t)}static toIntArray(t){if(t==null||!t.length)return we.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let s=0;for(const o of t)r[s++]=o;return r}static getCodeword(t){const r=T.binarySearch(we.SYMBOL_TABLE,t&262143);return r<0?-1:(we.CODEWORD_TABLE[r]-1)%we.NUMBER_OF_CODEWORDS}}we.NUMBER_OF_CODEWORDS=929,we.MAX_CODEWORDS_IN_BARCODE=we.NUMBER_OF_CODEWORDS-1,we.MIN_ROWS_IN_BARCODE=3,we.MAX_ROWS_IN_BARCODE=90,we.MODULES_IN_CODEWORD=17,we.MODULES_IN_STOP_PATTERN=18,we.BARS_IN_MODULE=8,we.EMPTY_INT_ARRAY=new Int32Array([]),we.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),we.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Nd{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class _e{static detectMultiple(t,r,s){let o=t.getBlackMatrix(),l=_e.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=_e.detect(s,o)),new Nd(o,l)}static detect(t,r){const s=new Array;let o=0,l=0,u=!1;for(;o<r.getHeight();){const f=_e.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(const d of s)d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())));o+=_e.ROW_STEP;continue}if(u=!0,s.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return s}static findVertices(t,r,s){const o=t.getHeight(),l=t.getWidth(),u=new Array(8);return _e.copyToResult(u,_e.findRowsWithPattern(t,o,l,r,s,_e.START_PATTERN),_e.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),_e.copyToResult(u,_e.findRowsWithPattern(t,o,l,r,s,_e.STOP_PATTERN),_e.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,s){for(let o=0;o<s.length;o++)t[s[o]]=r[o]}static findRowsWithPattern(t,r,s,o,l,u){const f=new Array(4);let d=!1;const g=new Int32Array(u.length);for(;o<r;o+=_e.ROW_STEP){let C=_e.findGuardPattern(t,l,o,s,!1,u,g);if(C!=null){for(;o>0;){const v=_e.findGuardPattern(t,l,--o,s,!1,u,g);if(v!=null)C=v;else{o++;break}}f[0]=new ue(C[0],o),f[1]=new ue(C[1],o),d=!0;break}}let w=o+1;if(d){let C=0,v=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;w<r;w++){const I=_e.findGuardPattern(t,v[0],w,s,!1,u,g);if(I!=null&&Math.abs(v[0]-I[0])<_e.MAX_PATTERN_DRIFT&&Math.abs(v[1]-I[1])<_e.MAX_PATTERN_DRIFT)v=I,C=0;else{if(C>_e.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,f[2]=new ue(v[0],w),f[3]=new ue(v[1],w)}return w-o<_e.BARCODE_MIN_HEIGHT&&T.fill(f,null),f}static findGuardPattern(t,r,s,o,l,u,f){T.fillWithin(f,0,f.length,0);let d=r,g=0;for(;t.get(d,s)&&d>0&&g++<_e.MAX_PIXEL_DRIFT;)d--;let w=d,C=0,v=u.length;for(let I=l;w<o;w++)if(t.get(w,s)!==I)f[C]++;else{if(C===v-1){if(_e.patternMatchVariance(f,u,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE)return new Int32Array([d,w]);d+=f[0]+f[1],F.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,I=!I}return C===v-1&&_e.patternMatchVariance(f,u,_e.MAX_INDIVIDUAL_VARIANCE)<_e.MAX_AVG_VARIANCE?new Int32Array([d,w-1]):null}static patternMatchVariance(t,r,s){let o=t.length,l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return 1/0;let f=l/u;s*=f;let d=0;for(let g=0;g<o;g++){let w=t[g],C=r[g]*f,v=w>C?w-C:C-w;if(v>s)return 1/0;d+=v}return d/l}}_e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),_e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),_e.MAX_AVG_VARIANCE=.42,_e.MAX_INDIVIDUAL_VARIANCE=.8,_e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),_e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),_e.MAX_PIXEL_DRIFT=3,_e.MAX_PATTERN_DRIFT=5,_e.SKIPPED_ROW_COUNT_MAX=25,_e.ROW_STEP=5,_e.BARCODE_MIN_HEIGHT=10;class Lt{constructor(t,r){if(r.length===0)throw new S;this.field=t;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),F.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){let u=r;r=s,s=u}let o=new Int32Array(s.length),l=s.length-r.length;F.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=this.field.add(r[u-l],s[u]);return new Lt(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Lt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Lt(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1);for(let f=0;f<s;f++){let d=r[f];for(let g=0;g<l;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(d,o[g]))}return new Lt(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new Lt(this.field,r)}multiplyScalar(t){if(t===0)return new Lt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new Lt(this.field,s)}multiplyByMonomial(t,r){if(t<0)throw new S;if(r===0)return new Lt(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+t);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new Lt(this.field,o)}toString(){let t=new Se;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(r===0||s!==1)&&t.append(s),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Td{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new S;return this.logTable[t]}inverse(t){if(t===0)throw new xi;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class tl extends Td{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let o=0;o<t;o++)this.expTable[o]=s,s=s*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Lt(this,new Int32Array([0])),this.one=new Lt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new S;if(r===0)return this.zero;let s=new Int32Array(t+1);return s[0]=r,new Lt(this,s)}}tl.PDF417_GF=new tl(we.NUMBER_OF_CODEWORDS,3);class Gc{constructor(){this.field=tl.PDF417_GF}decode(t,r,s){let o=new Lt(this.field,t),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let b=o.evaluateAt(this.field.exp(O));l[r-O]=b,b!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(s!=null)for(const O of s){let b=this.field.exp(t.length-1-O),P=new Lt(this.field,new Int32Array([this.field.subtract(0,b),1]));f=f.multiply(P)}let d=new Lt(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),d,r),w=g[0],C=g[1],v=this.findErrorLocations(w),I=this.findErrorMagnitudes(C,w,v);for(let O=0;O<v.length;O++){let b=t.length-1-this.field.log(v[O]);if(b<0)throw k.getChecksumInstance();t[b]=this.field.subtract(t[b],I[O])}return v.length}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){let v=t;t=r,r=v}let o=t,l=r,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let v=o,I=u;if(o=l,u=f,o.isZero())throw k.getChecksumInstance();l=v;let O=this.field.getZero(),b=o.getCoefficient(o.getDegree()),P=this.field.inverse(b);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let j=l.getDegree()-o.getDegree(),J=this.field.multiply(l.getCoefficient(l.getDegree()),P);O=O.add(this.field.buildMonomial(j,J)),l=l.subtract(o.multiplyByMonomial(j,J))}f=O.multiply(u).subtract(I).negative()}let d=f.getCoefficient(0);if(d===0)throw k.getChecksumInstance();let g=this.field.inverse(d),w=f.multiply(g),C=l.multiply(g);return[w,C]}findErrorLocations(t){let r=t.getDegree(),s=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==r)throw k.getChecksumInstance();return s}findErrorMagnitudes(t,r,s){let o=r.getDegree(),l=new Int32Array(o);for(let g=1;g<=o;g++)l[o-g]=this.field.multiply(g,r.getCoefficient(g));let u=new Lt(this.field,l),f=s.length,d=new Int32Array(f);for(let g=0;g<f;g++){let w=this.field.inverse(s[g]),C=this.field.subtract(0,t.evaluateAt(w)),v=this.field.inverse(u.evaluateAt(w));d[g]=this.field.multiply(C,v)}return d}}class Jr{constructor(t,r,s,o,l){t instanceof Jr?this.constructor_2(t):this.constructor_1(t,r,s,o,l)}constructor_1(t,r,s,o,l){const u=r==null||s==null,f=o==null||l==null;if(u&&f)throw new W;u?(r=new ue(0,o.getY()),s=new ue(0,l.getY())):f&&(o=new ue(t.getWidth()-1,r.getY()),l=new ue(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Jr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,s){let o=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(t>0){let d=s?this.topLeft:this.topRight,g=Math.trunc(d.getY()-t);g<0&&(g=0);let w=new ue(d.getX(),g);s?o=w:u=w}if(r>0){let d=s?this.bottomLeft:this.bottomRight,g=Math.trunc(d.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let w=new ue(d.getX(),g);s?l=w:f=w}return new Jr(this.image,o,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Rd{constructor(t,r,s,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class us{constructor(){this.buffer=""}static form(t,r){let s=-1;function o(u,f,d,g,w,C){if(u==="%%")return"%";if(r[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let v=w?parseInt(w.substr(1)):void 0,I;switch(C){case"s":I=r[s];break;case"c":I=r[s][0];break;case"f":I=parseFloat(r[s]).toFixed(u);break;case"p":I=parseFloat(r[s]).toPrecision(u);break;case"e":I=parseFloat(r[s]).toExponential(u);break;case"x":I=parseInt(r[s]).toString(v||16);break;case"d":I=parseFloat(parseInt(r[s],v||10).toPrecision(u)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(v);let O=parseInt(d),b=d&&d[0]+""=="0"?"0":" ";for(;I.length<O;)I=f!==void 0?I+b:b+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=us.form(t,r)}toString(){return this.buffer}}class cs{constructor(t){this.boundingBox=new Jr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let s=1;s<cs.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(t)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new us;let r=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return t.toString()}}cs.MAX_NEARBY_DISTANCE=5;class fs{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return we.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Xc extends cs{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=-1,g=1,w=0;for(let C=u;C<f;C++){if(r[C]==null)continue;let v=r[C],I=v.getRowNumber()-d;if(I===0)w++;else if(I===1)g=Math.max(g,w),w=1,d=v.getRowNumber();else if(I<0||v.getRowNumber()>=t.getRowCount()||I>C)r[C]=null;else{let O;g>2?O=(g-2)*I:O=I;let b=O>=C;for(let P=1;P<=O&&!b;P++)b=r[C-P]!=null;b?r[C]=null:(d=v.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),d=-1;for(let g=l;g<u;g++){if(f[g]==null)continue;let w=f[g];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-d;C===0||(C===1?d=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?f[g]=null:d=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new fs,s=new fs,o=new fs,l=new fs;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let d=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:s.setValue(d*3+1);break;case 1:l.setValue(d/3),o.setValue(d%3);break;case 2:r.setValue(d+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<we.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;let u=new Rd(r.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let s=0;s<t.length;s++){let o=t[s];if(t[s]==null)continue;let l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[s]=null);break;case 2:l+1!==r.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class hs{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=we.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&r[s]!=null&&t[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(t[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=hs.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=hs.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,s){if(!this.detectionResultColumns[t-1])return;let o=s[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=s[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=s[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<s.length-1&&(f[1]=s[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<s.length-2&&(f[9]=s[r+2],f[12]=l[r+2],f[13]=u[r+2]);for(let d of f)if(hs.adjustRowNumber(o,d))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new us;for(let s=0;s<t.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ds{constructor(t,r,s,o){this.rowNumber=ds.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ds.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ds.BARCODE_ROW_UNKNOWN=-1;class nn{static initialize(){for(let t=0;t<we.SYMBOL_TABLE.length;t++){let r=we.SYMBOL_TABLE[t],s=r&1;for(let o=0;o<we.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,nn.RATIOS_TABLE[t]||(nn.RATIOS_TABLE[t]=new Array(we.BARS_IN_MODULE)),nn.RATIOS_TABLE[t][we.BARS_IN_MODULE-o-1]=Math.fround(l/we.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=nn.getDecodedCodewordValue(nn.sampleBitCounts(t));return r!==-1?r:nn.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Ne.sum(t),s=new Int32Array(we.BARS_IN_MODULE),o=0,l=0;for(let u=0;u<we.MODULES_IN_CODEWORD;u++){let f=r/(2*we.MODULES_IN_CODEWORD)+u*r/we.MODULES_IN_CODEWORD;l+t[o]<=f&&(l+=t[o],o++),s[o]++}return s}static getDecodedCodewordValue(t){let r=nn.getBitValue(t);return we.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let s=0;s<t.length;s++)for(let o=0;o<t[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Ne.sum(t),s=new Array(we.BARS_IN_MODULE);if(r>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(t[u]/r);let o=mi.MAX_VALUE,l=-1;this.bSymbolTableReady||nn.initialize();for(let u=0;u<nn.RATIOS_TABLE.length;u++){let f=0,d=nn.RATIOS_TABLE[u];for(let g=0;g<we.BARS_IN_MODULE;g++){let w=Math.fround(d[g]-s[g]);if(f+=Math.fround(w*w),f>=o)break}f<o&&(o=f,l=we.SYMBOL_TABLE[u])}return l}}nn.bSymbolTableReady=!1,nn.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(y=>new Array(we.BARS_IN_MODULE));class Yc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Zc{static parseLong(t,r=void 0){return parseInt(t,r)}}class Kc extends x{}Kc.kind="NullPointerException";class Od{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,s){if(t==null)throw new Kc;if(r<0||r>t.length||s<0||r+s>t.length||r+s<0)throw new te;if(s===0)return;for(let o=0;o<s;o++)this.write(t[r+o])}flush(){}close(){}}class bd extends x{}class Dd extends Od{constructor(t=32){if(super(),this.count=0,t<0)throw new S("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new bd;s=N.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,s){if(r<0||r>t.length||s<0||r+s-t.length>0)throw new te;this.ensureCapacity(this.count+s),F.arraycopy(t,r,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ye;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ye||(Ye={}));function Qc(){if(typeof window<"u")return window.BigInt||null;if(typeof xs<"u")return xs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let go;function _r(y){if(typeof go>"u"&&(go=Qc()),go===null)throw new Error("BigInt is not supported!");return go(y)}function Md(){let y=[];y[0]=_r(1);let t=_r(900);y[1]=t;for(let r=2;r<16;r++)y[r]=y[r-1]*t;return y}class H{static decode(t,r){let s=new Se(""),o=G.ISO8859_1;s.enableDecoding(o);let l=1,u=t[l++],f=new Yc;for(;l<t[0];){switch(u){case H.TEXT_COMPACTION_MODE_LATCH:l=H.textCompaction(t,l,s);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:l=H.byteCompaction(u,t,o,l,s);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[l++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:l=H.numericCompaction(t,l,s);break;case H.ECI_CHARSET:G.getCharacterSetECIByValue(t[l++]);break;case H.ECI_GENERAL_PURPOSE:l+=2;break;case H.ECI_USER_DEFINED:l++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=H.decodeMacroBlock(t,l,f);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new z;default:l--,l=H.textCompaction(t,l,s);break}if(l<t.length)u=t[l++];else throw z.getFormatInstance()}if(s.length()===0)throw z.getFormatInstance();let d=new Ge(null,s.toString(),null,r);return d.setOther(f),d}static decodeMacroBlock(t,r,s){if(r+H.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw z.getFormatInstance();let o=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<H.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)o[f]=t[r];s.setSegmentIndex(N.parseInt(H.decodeBase900toBase10(o,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Se;r=H.textCompaction(t,r,l),s.setFileId(l.toString());let u=-1;for(t[r]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Se;r=H.textCompaction(t,r+1,f),s.setFileName(f.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new Se;r=H.textCompaction(t,r+1,d),s.setSender(d.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Se;r=H.textCompaction(t,r+1,g),s.setAddressee(g.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Se;r=H.numericCompaction(t,r+1,w),s.setSegmentCount(N.parseInt(w.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Se;r=H.numericCompaction(t,r+1,C),s.setTimestamp(Zc.parseLong(C.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new Se;r=H.numericCompaction(t,r+1,v),s.setChecksum(N.parseInt(v.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new Se;r=H.numericCompaction(t,r+1,I),s.setFileSize(Zc.parseLong(I.toString()));break;default:throw z.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(u!==-1){let f=r-u;s.isLastSegment()&&f--,s.setOptionalData(T.copyOfRange(t,u,u+f))}return r}static textCompaction(t,r,s){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,f=!1;for(;r<t[0]&&!f;){let d=t[r++];if(d<H.TEXT_COMPACTION_MODE_LATCH)o[u]=d/30,o[u+1]=d%30,u+=2;else switch(d){case H.TEXT_COMPACTION_MODE_LATCH:o[u++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=t[r++],l[u]=d,u++;break}}return H.decodeTextCompaction(o,l,u,s),r}static decodeTextCompaction(t,r,s,o){let l=Ye.ALPHA,u=Ye.ALPHA,f=0;for(;f<s;){let d=t[f],g="";switch(l){case Ye.ALPHA:if(d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case H.LL:l=Ye.LOWER;break;case H.ML:l=Ye.MIXED;break;case H.PS:u=l,l=Ye.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Ye.ALPHA;break}break;case Ye.LOWER:if(d<26)g=String.fromCharCode(97+d);else switch(d){case 26:g=" ";break;case H.AS:u=l,l=Ye.ALPHA_SHIFT;break;case H.ML:l=Ye.MIXED;break;case H.PS:u=l,l=Ye.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Ye.ALPHA;break}break;case Ye.MIXED:if(d<H.PL)g=H.MIXED_CHARS[d];else switch(d){case H.PL:l=Ye.PUNCT;break;case 26:g=" ";break;case H.LL:l=Ye.LOWER;break;case H.AL:l=Ye.ALPHA;break;case H.PS:u=l,l=Ye.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Ye.ALPHA;break}break;case Ye.PUNCT:if(d<H.PAL)g=H.PUNCT_CHARS[d];else switch(d){case H.PAL:l=Ye.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Ye.ALPHA;break}break;case Ye.ALPHA_SHIFT:if(l=u,d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:l=Ye.ALPHA;break}break;case Ye.PUNCT_SHIFT:if(l=u,d<H.PAL)g=H.PUNCT_CHARS[d];else switch(d){case H.PAL:l=Ye.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Ye.ALPHA;break}break}g!==""&&o.append(g),f++}}static byteCompaction(t,r,s,o,l){let u=new Dd,f=0,d=0,g=!1;switch(t){case H.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=r[o++];for(;o<r[0]&&!g;)switch(w[f++]=C,d=900*d+C,C=r[o++],C){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(f%5===0&&f>0){for(let v=0;v<6;++v)u.write(Number(_r(d)>>_r(8*(5-v))));d=0,f=0}break}o===r[0]&&C<H.TEXT_COMPACTION_MODE_LATCH&&(w[f++]=C);for(let v=0;v<f;v++)u.write(w[v]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let v=r[o++];if(v<H.TEXT_COMPACTION_MODE_LATCH)f++,d=900*d+v;else switch(v){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(f%5===0&&f>0){for(let I=0;I<6;++I)u.write(Number(_r(d)>>_r(8*(5-I))));d=0,f=0}}break}return l.append(Ce.decode(u.toByteArray(),s)),o}static numericCompaction(t,r,s){let o=0,l=!1,u=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let f=t[r++];if(r===t[0]&&(l=!0),f<H.TEXT_COMPACTION_MODE_LATCH)u[o]=f,o++;else switch(f){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%H.MAX_NUMERIC_CODEWORDS===0||f===H.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(H.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let s=_r(0);for(let l=0;l<r;l++)s+=H.EXP900[r-l-1]*_r(t[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new z;return o.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=Qc()?Md():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ie{constructor(){}static decode(t,r,s,o,l,u,f){let d=new Jr(t,r,s,o,l),g=null,w=null,C;for(let O=!0;;O=!1){if(r!=null&&(g=Ie.getRowIndicatorColumn(t,d,r,!0,u,f)),o!=null&&(w=Ie.getRowIndicatorColumn(t,d,o,!1,u,f)),C=Ie.merge(g,w),C==null)throw W.getNotFoundInstance();let b=C.getBoundingBox();if(O&&b!=null&&(b.getMinY()<d.getMinY()||b.getMaxY()>d.getMaxY()))d=b;else break}C.setBoundingBox(d);let v=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,g),C.setDetectionResultColumn(v,w);let I=g!=null;for(let O=1;O<=v;O++){let b=I?O:v-O;if(C.getDetectionResultColumn(b)!==void 0)continue;let P;b===0||b===v?P=new Xc(d,b===0):P=new cs(d),C.setDetectionResultColumn(b,P);let j=-1,J=j;for(let ee=d.getMinY();ee<=d.getMaxY();ee++){if(j=Ie.getStartColumn(C,b,ee,I),j<0||j>d.getMaxX()){if(J===-1)continue;j=J}let Z=Ie.detectCodeword(t,d.getMinX(),d.getMaxX(),I,j,ee,u,f);Z!=null&&(P.setCodeword(ee,Z),J=j,u=Math.min(u,Z.getWidth()),f=Math.max(f,Z.getWidth()))}}return Ie.createDecoderResult(C)}static merge(t,r){if(t==null&&r==null)return null;let s=Ie.getBarcodeMetadata(t,r);if(s==null)return null;let o=Jr.merge(Ie.adjustBoundingBox(t),Ie.adjustBoundingBox(r));return new hs(s,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let s=Ie.getMax(r),o=0;for(let f of r)if(o+=s-f,f>0)break;let l=t.getCodewords();for(let f=0;o>0&&l[f]==null;f++)o--;let u=0;for(let f=r.length-1;f>=0&&(u+=s-r[f],!(r[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let s of t)r=Math.max(r,s);return r}static getBarcodeMetadata(t,r){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(t,r,s,o,l,u){let f=new Xc(r,o);for(let d=0;d<2;d++){let g=d===0?1:-1,w=Math.trunc(Math.trunc(s.getX()));for(let C=Math.trunc(Math.trunc(s.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=g){let v=Ie.detectCodeword(t,0,t.getWidth(),o,w,C,l,u);v!=null&&(f.setCodeword(C,v),o?w=v.getStartX():w=v.getEndX())}}return f}static adjustCodewordCount(t,r){let s=r[0][1],o=s.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ie.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>we.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(t){let r=Ie.createBarcodeMatrix(t);Ie.adjustCodewordCount(t,r);let s=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let d=0;d<t.getBarcodeRowCount();d++)for(let g=0;g<t.getBarcodeColumnCount();g++){let w=r[d][g+1].getValue(),C=d*t.getBarcodeColumnCount()+g;w.length===0?s.push(C):w.length===1?o[C]=w[0]:(u.push(C),l.push(w))}let f=new Array(l.length);for(let d=0;d<f.length;d++)f[d]=l[d];return Ie.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,we.toIntArray(s),we.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(t,r,s,o,l){let u=new Int32Array(o.length),f=100;for(;f-- >0;){for(let d=0;d<u.length;d++)r[o[d]]=l[d][u[d]];try{return Ie.decodeCodewords(r,t,s)}catch(d){if(!(d instanceof k))throw d}if(u.length===0)throw k.getChecksumInstance();for(let d=0;d<u.length;d++)if(u[d]<l[d].length-1){u[d]++;break}else if(u[d]=0,d===u.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new fs;let s=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,s,o){let l=o?1:-1,u=null;if(Ie.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(s)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(s),u!=null)return o?u.getStartX():u.getEndX();if(Ie.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(s)),u!=null)return o?u.getEndX():u.getStartX();let f=0;for(;Ie.isValidBarcodeColumn(t,r-l);){r-=l;for(let d of t.getDetectionResultColumn(r).getCodewords())if(d!=null)return(o?d.getEndX():d.getStartX())+l*f*(d.getEndX()-d.getStartX());f++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,s,o,l,u,f,d){l=Ie.adjustCodewordStartColumn(t,r,s,o,l,u);let g=Ie.getModuleBitCount(t,r,s,o,l,u);if(g==null)return null;let w,C=Ne.sum(g);if(o)w=l+C;else{for(let O=0;O<g.length/2;O++){let b=g[O];g[O]=g[g.length-1-O],g[g.length-1-O]=b}w=l,l=w-C}if(!Ie.checkCodewordSkew(C,f,d))return null;let v=nn.getDecodedValue(g),I=we.getCodeword(v);return I===-1?null:new ds(l,w,Ie.getCodewordBucketNumber(v),I)}static getModuleBitCount(t,r,s,o,l,u){let f=l,d=new Int32Array(8),g=0,w=o?1:-1,C=o;for(;(o?f<s:f>=r)&&g<d.length;)t.get(f,u)===C?(d[g]++,f+=w):(g++,C=!C);return g===d.length||f===(o?s:r)&&g===d.length-1?d:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,s,o,l,u){let f=l,d=o?-1:1;for(let g=0;g<2;g++){for(;(o?f>=r:f<s)&&o===t.get(f,u);){if(Math.abs(l-f)>Ie.CODEWORD_SKEW_SIZE)return l;f+=d}d=-d,o=!o}return f}static checkCodewordSkew(t,r,s){return r-Ie.CODEWORD_SKEW_SIZE<=t&&t<=s+Ie.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,s){if(t.length===0)throw z.getFormatInstance();let o=1<<r+1,l=Ie.correctErrors(t,s,o);Ie.verifyCodewordCount(t,o);let u=H.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(s.length),u}static correctErrors(t,r,s){if(r!=null&&r.length>s/2+Ie.MAX_ERRORS||s<0||s>Ie.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return Ie.errorCorrection.decode(t,s,r)}static verifyCodewordCount(t,r){if(t.length<4)throw z.getFormatInstance();let s=t[0];if(s>t.length)throw z.getFormatInstance();if(s===0)if(r<t.length)t[0]=t.length-r;else throw z.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((t&1)!==s&&(s=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ie.getCodewordBucketNumber(Ie.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new us;for(let s=0;s<t.length;s++){r.format("Row %2d: ",s);for(let o=0;o<t[s].length;o++){let l=t[s][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ie.CODEWORD_SKEW_SIZE=2,Ie.MAX_ERRORS=3,Ie.MAX_EC_CODEWORDS=512,Ie.errorCorrection=new Gc;class Ft{decode(t,r=null){let s=Ft.decode(t,r,!1);if(s==null||s.length===0||s[0]==null)throw W.getNotFoundInstance();return s[0]}decodeMultiple(t,r=null){try{return Ft.decode(t,r,!0)}catch(s){throw s instanceof z||s instanceof k?W.getNotFoundInstance():s}}static decode(t,r,s){const o=new Array,l=_e.detectMultiple(t,r,s);for(const u of l.getPoints()){const f=Ie.decode(l.getBits(),u[4],u[5],u[6],u[7],Ft.getMinCodewordWidth(u),Ft.getMaxCodewordWidth(u)),d=new Le(f.getText(),f.getRawBytes(),void 0,u,ce.PDF_417);d.putMetadata(st.ERROR_CORRECTION_LEVEL,f.getECLevel());const g=f.getOther();g!=null&&d.putMetadata(st.PDF417_EXTRA_METADATA,g),o.push(d)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?N.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Ft.getMaxWidth(t[0],t[4]),Ft.getMaxWidth(t[6],t[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(Ft.getMaxWidth(t[1],t[5]),Ft.getMaxWidth(t[7],t[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Ft.getMinWidth(t[0],t[4]),Ft.getMinWidth(t[6],t[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(Ft.getMinWidth(t[1],t[5]),Ft.getMinWidth(t[7],t[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}reset(){}}class po extends x{}po.kind="ReaderException";class qc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(K.TRY_HARDER)===!0,s=a(t)?null:t.get(K.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(u=>u===ce.UPC_A||u===ce.UPC_E||u===ce.EAN_13||u===ce.EAN_8||u===ce.CODABAR||u===ce.CODE_39||u===ce.CODE_93||u===ce.CODE_128||u===ce.ITF||u===ce.RSS_14||u===ce.RSS_EXPANDED);l&&!r&&o.push(new Ei(t,this.verbose)),s.includes(ce.QR_CODE)&&o.push(new Sr),s.includes(ce.DATA_MATRIX)&&o.push(new vr),s.includes(ce.AZTEC)&&o.push(new Kr),s.includes(ce.PDF_417)&&o.push(new Ft),l&&r&&o.push(new Ei(t,this.verbose))}o.length===0&&(r||o.push(new Ei(t,this.verbose)),o.push(new Sr),o.push(new vr),o.push(new Kr),o.push(new Ft),r&&o.push(new Ei(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new po("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(s){if(s instanceof po)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class kd extends Ot{constructor(t=null,r=500){const s=new qc;s.setHints(t),super(s,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Bd extends Ot{constructor(t=500){super(new Ft,t)}}class Pd extends Ot{constructor(t=500){super(new Sr,t)}}var nl;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(nl||(nl={}));var Nt=nl;class rl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new St(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let s=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const u=s.multiply(new St(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(u),s=u}}return r[t]}encode(t,r){if(r===0)throw new S("No error correction bytes");const s=t.length-r;if(s<=0)throw new S("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(s);F.arraycopy(t,0,l,0,s);let u=new St(this.field,l);u=u.multiplyByMonomial(r,1);const d=u.divide(o)[1].getCoefficients(),g=r-d.length;for(let w=0;w<g;w++)t[s+w]=0;F.arraycopy(d,0,t,s+g,d.length)}}class gt{constructor(){}static applyMaskPenaltyRule1(t){return gt.applyMaskPenaltyRule1Internal(t,!0)+gt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const f=s[u];for(let d=0;d<o-1;d++){const g=f[d];g===f[d+1]&&g===s[u+1][d]&&g===s[u+1][d+1]&&r++}}return gt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let f=0;f<o;f++){const d=s[u];f+6<o&&d[f]===1&&d[f+1]===0&&d[f+2]===1&&d[f+3]===1&&d[f+4]===1&&d[f+5]===0&&d[f+6]===1&&(gt.isWhiteHorizontal(d,f-4,f)||gt.isWhiteHorizontal(d,f+7,f+11))&&r++,u+6<l&&s[u][f]===1&&s[u+1][f]===0&&s[u+2][f]===1&&s[u+3][f]===1&&s[u+4][f]===1&&s[u+5][f]===0&&s[u+6][f]===1&&(gt.isWhiteVertical(s,f,u-4,u)||gt.isWhiteVertical(s,f,u+7,u+11))&&r++}return r*gt.N3}static isWhiteHorizontal(t,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,s,o){s=Math.max(s,0),o=Math.min(o,t.length);for(let l=s;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let d=0;d<l;d++){const g=s[d];for(let w=0;w<o;w++)g[w]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*gt.N4}static getDataMaskBit(t,r,s){let o,l;switch(t){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,o=(l&1)+l%3;break;case 6:l=s*r,o=(l&1)+l%3&1;break;case 7:l=s*r,o=l%3+(s+r&1)&1;break;default:throw new S("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let s=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let f=0;f<o;f++){let d=0,g=-1;for(let w=0;w<l;w++){const C=r?u[f][w]:u[w][f];C===g?d++:(d>=5&&(s+=gt.N1+(d-5)),d=1,g=C)}d>=5&&(s+=gt.N1+(d-5))}return s}}gt.N1=3,gt.N2=3,gt.N3=40,gt.N4=10;class xo{constructor(t,r){this.width=t,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,s){this.bytes[r][t]=s}setBoolean(t,r,s){this.bytes[r][t]=s?1:0}clear(t){for(const r of this.bytes)T.fill(r,t)}equals(t){if(!(t instanceof xo))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],u=r.bytes[s];for(let f=0,d=this.width;f<d;++f)if(l[f]!==u[f])return!1}return!0}toString(){const t=new Se;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class $r{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Se;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<$r.NUM_MASK_PATTERNS}}$r.NUM_MASK_PATTERNS=8;class Ze extends x{}Ze.kind="WriterException";class me{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,s,o,l){me.clearMatrix(l),me.embedBasicPatterns(s,l),me.embedTypeInfo(r,o,l),me.maybeEmbedVersionInfo(s,l),me.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){me.embedPositionDetectionPatternsAndSeparators(r),me.embedDarkDotAtLeftBottomCorner(r),me.maybeEmbedPositionAdjustmentPatterns(t,r),me.embedTimingPatterns(r)}static embedTypeInfo(t,r,s){const o=new V;me.makeTypeInfoBits(t,r,o);for(let l=0,u=o.getSize();l<u;++l){const f=o.get(o.getSize()-1-l),d=me.TYPE_INFO_COORDINATES[l],g=d[0],w=d[1];if(s.setBoolean(g,w,f),l<8){const C=s.getWidth()-l-1;s.setBoolean(C,8,f)}else{const v=s.getHeight()-7+(l-8);s.setBoolean(8,v,f)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const s=new V;me.makeVersionInfoBits(t,s);let o=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const f=s.get(o);o--,r.setBoolean(l,r.getHeight()-11+u,f),r.setBoolean(r.getHeight()-11+u,l,f)}}static embedDataBits(t,r,s){let o=0,l=-1,u=s.getWidth()-1,f=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<s.getHeight();){for(let d=0;d<2;++d){const g=u-d;if(!me.isEmpty(s.get(g,f)))continue;let w;o<t.getSize()?(w=t.get(o),++o):w=!1,r!==255&&gt.getDataMaskBit(r,g,f)&&(w=!w),s.setBoolean(g,f,w)}f+=l}l=-l,f+=l,u-=2}if(o!==t.getSize())throw new Ze("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-N.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new S("0 polynomial");const s=me.findMSBSet(r);for(t<<=s-1;me.findMSBSet(t)>=s;)t^=r<<me.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,r,s){if(!$r.isValidMaskPattern(r))throw new Ze("Invalid mask pattern");const o=t.getBits()<<3|r;s.appendBits(o,5);const l=me.calculateBCHCode(o,me.TYPE_INFO_POLY);s.appendBits(l,10);const u=new V;if(u.appendBits(me.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new Ze("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const s=me.calculateBCHCode(t.getVersionNumber(),me.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new Ze("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const s=(r+1)%2;me.isEmpty(t.get(r,6))&&t.setNumber(r,6,s),me.isEmpty(t.get(6,r))&&t.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ze;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,s){for(let o=0;o<8;++o){if(!me.isEmpty(s.get(t+o,r)))throw new Ze;s.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,s){for(let o=0;o<7;++o){if(!me.isEmpty(s.get(t,r+o)))throw new Ze;s.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,s){for(let o=0;o<5;++o){const l=me.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPattern(t,r,s){for(let o=0;o<7;++o){const l=me.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=me.POSITION_DETECTION_PATTERN[0].length;me.embedPositionDetectionPattern(0,0,t),me.embedPositionDetectionPattern(t.getWidth()-r,0,t),me.embedPositionDetectionPattern(0,t.getWidth()-r,t);const s=8;me.embedHorizontalSeparationPattern(0,s-1,t),me.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),me.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const o=7;me.embedVerticalSeparationPattern(o,0,t),me.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),me.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,o=me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,u=o.length;l!==u;l++){const f=o[l];if(f>=0)for(let d=0;d!==u;d++){const g=o[d];g>=0&&me.isEmpty(r.get(g,f))&&me.embedPositionAdjustmentPattern(g-2,f-2,r)}}}}me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),me.VERSION_INFO_POLY=7973,me.TYPE_INFO_POLY=1335,me.TYPE_INFO_MASK_PATTERN=21522;class Ld{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class $e{constructor(){}static calculateMaskPenalty(t){return gt.applyMaskPenaltyRule1(t)+gt.applyMaskPenaltyRule2(t)+gt.applyMaskPenaltyRule3(t)+gt.applyMaskPenaltyRule4(t)}static encode(t,r,s=null){let o=$e.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(Nt.CHARACTER_SET)!==void 0;l&&(o=s.get(Nt.CHARACTER_SET).toString());const u=this.chooseMode(t,o),f=new V;if(u===xe.BYTE&&(l||$e.DEFAULT_BYTE_MODE_ENCODING!==o)){const ee=G.getCharacterSetECIByName(o);ee!==void 0&&this.appendECI(ee,f)}this.appendModeInfo(u,f);const d=new V;this.appendBytes(t,u,d,o);let g;if(s!==null&&s.get(Nt.QR_VERSION)!==void 0){const ee=Number.parseInt(s.get(Nt.QR_VERSION).toString(),10);g=de.getVersionForNumber(ee);const Z=this.calculateBitsNeeded(u,f,d,g);if(!this.willFit(Z,g,r))throw new Ze("Data too big for requested version")}else g=this.recommendVersion(r,u,f,d);const w=new V;w.appendBitArray(f);const C=u===xe.BYTE?d.getSizeInBytes():t.length;this.appendLengthInfo(C,g,u,w),w.appendBitArray(d);const v=g.getECBlocksForLevel(r),I=g.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(I,w);const O=this.interleaveWithECBytes(w,g.getTotalCodewords(),I,v.getNumBlocks()),b=new $r;b.setECLevel(r),b.setMode(u),b.setVersion(g);const P=g.getDimensionForVersion(),j=new xo(P,P),J=this.chooseMaskPattern(O,r,g,j);return b.setMaskPattern(J),me.buildMatrix(O,r,g,J,j),b.setMatrix(j),b}static recommendVersion(t,r,s,o){const l=this.calculateBitsNeeded(r,s,o,de.getVersionForNumber(1)),u=this.chooseVersion(l,t),f=this.calculateBitsNeeded(r,s,o,u);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,r,s,o){return r.getSize()+t.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(t){return t<$e.ALPHANUMERIC_TABLE.length?$e.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return xe.KANJI;let s=!1,o=!1;for(let l=0,u=t.length;l<u;++l){const f=t.charAt(l);if($e.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return xe.BYTE}return o?xe.ALPHANUMERIC:s?xe.NUMERIC:xe.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Ce.encode(t,G.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,s,o){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<$r.NUM_MASK_PATTERNS;f++){me.buildMatrix(t,r,s,f,o);let d=this.calculateMaskPenalty(o);d<l&&(l=d,u=f)}return u}static chooseVersion(t,r){for(let s=1;s<=40;s++){const o=de.getVersionForNumber(s);if($e.willFit(t,o,r))return o}throw new Ze("Data too big")}static willFit(t,r,s){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(s).getTotalECCodewords(),f=o-u,d=(t+7)/8;return f>=d}static terminateBits(t,r){const s=t*8;if(r.getSize()>s)throw new Ze("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let u=0;u<4&&r.getSize()<s;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==s)throw new Ze("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,s,o,l,u){if(o>=s)throw new Ze("Block ID too large");const f=t%s,d=s-f,g=Math.floor(t/s),w=g+1,C=Math.floor(r/s),v=C+1,I=g-C,O=w-v;if(I!==O)throw new Ze("EC bytes mismatch");if(s!==d+f)throw new Ze("RS blocks mismatch");if(t!==(C+I)*d+(v+O)*f)throw new Ze("Total bytes mismatch");o<d?(l[0]=C,u[0]=I):(l[0]=v,u[0]=O)}static interleaveWithECBytes(t,r,s,o){if(t.getSizeInBytes()!==s)throw new Ze("Number of bits and data bytes does not match");let l=0,u=0,f=0;const d=new Array;for(let w=0;w<o;++w){const C=new Int32Array(1),v=new Int32Array(1);$e.getNumDataBytesAndNumECBytesForBlockID(r,s,o,w,C,v);const I=C[0],O=new Uint8Array(I);t.toBytes(8*l,O,0,I);const b=$e.generateECBytes(O,v[0]);d.push(new Ld(O,b)),u=Math.max(u,I),f=Math.max(f,b.length),l+=C[0]}if(s!==l)throw new Ze("Data bytes does not match offset");const g=new V;for(let w=0;w<u;++w)for(const C of d){const v=C.getDataBytes();w<v.length&&g.appendBits(v[w],8)}for(let w=0;w<f;++w)for(const C of d){const v=C.getErrorCorrectionBytes();w<v.length&&g.appendBits(v[w],8)}if(r!==g.getSizeInBytes())throw new Ze("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const s=t.length,o=new Int32Array(s+r);for(let u=0;u<s;u++)o[u]=t[u]&255;new rl(ke.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=o[s+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,s,o){const l=s.getCharacterCountBits(r);if(t>=1<<l)throw new Ze(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,s,o){switch(r){case xe.NUMERIC:$e.appendNumericBytes(t,s);break;case xe.ALPHANUMERIC:$e.appendAlphanumericBytes(t,s);break;case xe.BYTE:$e.append8BitBytes(t,s,o);break;case xe.KANJI:$e.appendKanjiBytes(t,s);break;default:throw new Ze("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=$e.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=$e.getDigit(t.charAt(o));if(o+2<s){const u=$e.getDigit(t.charAt(o+1)),f=$e.getDigit(t.charAt(o+2));r.appendBits(l*100+u*10+f,10),o+=3}else if(o+1<s){const u=$e.getDigit(t.charAt(o+1));r.appendBits(l*10+u,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=$e.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Ze;if(o+1<s){const u=$e.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new Ze;r.appendBits(l*45+u,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,s){let o;try{o=Ce.encode(t,s)}catch(l){throw new Ze(l)}for(let l=0,u=o.length;l!==u;l++){const f=o[l];r.appendBits(f,8)}}static appendKanjiBytes(t,r){let s;try{s=Ce.encode(t,G.SJIS)}catch(l){throw new Ze(l)}const o=s.length;for(let l=0;l<o;l+=2){const u=s[l]&255,f=s[l+1]&255,d=u<<8&4294967295|f;let g=-1;if(d>=33088&&d<=40956?g=d-33088:d>=57408&&d<=60351&&(g=d-49472),g===-1)throw new Ze("Invalid byte sequence");const w=(g>>8)*192+(g&255);r.appendBits(w,13)}}static appendECI(t,r){r.appendBits(xe.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}$e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),$e.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class ei{write(t,r,s,o=null){if(t.length===0)throw new S("Found empty contents");if(r<0||s<0)throw new S("Requested dimensions are too small: "+r+"x"+s);let l=Qe.L,u=ei.QUIET_ZONE_SIZE;o!==null&&(o.get(Nt.ERROR_CORRECTION)!==void 0&&(l=Qe.fromString(o.get(Nt.ERROR_CORRECTION).toString())),o.get(Nt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Nt.MARGIN).toString(),10)));const f=$e.encode(t,l,o);return this.renderResult(f,r,s,u)}writeToDom(t,r,s,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,s,o,l);t&&t.appendChild(u)}renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new fn;const u=l.getWidth(),f=l.getHeight(),d=u+o*2,g=f+o*2,w=Math.max(r,d),C=Math.max(s,g),v=Math.min(Math.floor(w/d),Math.floor(C/g)),I=Math.floor((w-u*v)/2),O=Math.floor((C-f*v)/2),b=this.createSVGElement(w,C);for(let P=0,j=O;P<f;P++,j+=v)for(let J=0,ee=I;J<u;J++,ee+=v)if(l.get(J,P)===1){const Z=this.createSvgRectElement(ee,j,v,v);b.appendChild(Z)}return b}createSVGElement(t,r){const s=document.createElementNS(ei.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(t,r,s,o){const l=document.createElementNS(ei.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}ei.QUIET_ZONE_SIZE=4,ei.SVG_NS="http://www.w3.org/2000/svg";class Ai{encode(t,r,s,o,l){if(t.length===0)throw new S("Found empty contents");if(r!==ce.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new S(`Requested dimensions are too small: ${s}x${o}`);let u=Qe.L,f=Ai.QUIET_ZONE_SIZE;l!==null&&(l.get(Nt.ERROR_CORRECTION)!==void 0&&(u=Qe.fromString(l.get(Nt.ERROR_CORRECTION).toString())),l.get(Nt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(Nt.MARGIN).toString(),10)));const d=$e.encode(t,u,l);return Ai.renderResult(d,s,o,f)}static renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new fn;const u=l.getWidth(),f=l.getHeight(),d=u+o*2,g=f+o*2,w=Math.max(r,d),C=Math.max(s,g),v=Math.min(Math.floor(w/d),Math.floor(C/g)),I=Math.floor((w-u*v)/2),O=Math.floor((C-f*v)/2),b=new Fe(w,C);for(let P=0,j=O;P<f;P++,j+=v)for(let J=0,ee=I;J<u;J++,ee+=v)l.get(J,P)===1&&b.setRegion(ee,j,v,v);return b}}Ai.QUIET_ZONE_SIZE=4;class Fd{encode(t,r,s,o,l){let u;switch(r){case ce.QR_CODE:u=new Ai;break;default:throw new S("No encoder available for format "+r)}return u.encode(t,r,s,o,l)}}class qn extends ie{constructor(t,r,s,o,l,u,f,d){if(super(u,f),this.yuvData=t,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=l,o+u>r||l+f>s)throw new S("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(u,f)}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return F.arraycopy(this.yuvData,l,o,0,s),o;for(let u=0;u<r;u++){const f=u*t;F.arraycopy(this.yuvData,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new qn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,s,o,!1)}renderThumbnail(){const t=this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const f=u*t;for(let d=0;d<t;d++){const g=o[l+d*qn.THUMBNAIL_SCALE_FACTOR]&255;s[f+d]=4278190080|g*65793}l+=this.dataWidth*qn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const u=l+t/2;for(let f=l,d=l+t-1;f<u;f++,d--){const g=s[f];s[f]=s[d],s[d]=g}}}invert(){return new fe(this)}}qn.THUMBNAIL_SCALE_FACTOR=2;class il extends ie{constructor(t,r,s,o,l,u,f){if(super(r,s),this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=f,t.BYTES_PER_ELEMENT===4){const d=r*s,g=new Uint8ClampedArray(d);for(let w=0;w<d;w++){const C=t[w],v=C>>16&255,I=C>>7&510,O=C&255;g[w]=(v+I+O)/4&255}this.luminances=g}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new S("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return F.arraycopy(this.luminances,l,o,0,s),o;for(let u=0;u<r;u++){const f=u*t;F.arraycopy(this.luminances,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new il(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new fe(this)}}class Jc extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class sl{}sl.ISO_8859_1=G.ISO8859_1;class $c{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class e1{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Ud{constructor(t){this.previous=t}getPrevious(){return this.previous}}class vi extends Ud{constructor(t,r,s){super(t),this.value=r,this.bitCount=s}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new vi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+N.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ol extends vi{constructor(t,r,s){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(t,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(t,r){return new ol(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vd(y,t,r){return new ol(y,t,r)}function gs(y,t,r){return new vi(y,t,r)}const zd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ir=0,mo=1,Rn=2,t1=3,Jn=4,Hd=new vi(null,0,0),al=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function jd(y){for(let t of y)T.fill(t,-1);return y[Ir][Jn]=0,y[mo][Jn]=0,y[mo][Ir]=28,y[t1][Jn]=0,y[Rn][Jn]=0,y[Rn][Ir]=15,y}const n1=jd(T.createInt32Array(6,6));class $n{constructor(t,r,s,o){this.token=t,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let s=this.bitCount,o=this.token;if(t!==this.mode){let u=al[this.mode][t];o=gs(o,u&65535,u>>16),s+=u>>16}let l=t===Rn?4:5;return o=gs(o,r,l),new $n(o,t,0,s+l)}shiftAndAppend(t,r){let s=this.token,o=this.mode===Rn?4:5;return s=gs(s,n1[this.mode][t],o),s=gs(s,r,5),new $n(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Jn||this.mode===Rn){let f=al[s][Ir];r=gs(r,f&65535,f>>16),o+=f>>16,s=Ir}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new $n(r,s,this.binaryShiftByteCount+1,o+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Vd(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new $n(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(al[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=$n.calculateBinaryShiftCost(t)-$n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new V;for(const o of r)o.appendTo(s,t);return s}toString(){return he.format("%s bits=%d bytes=%d",zd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}$n.INITIAL_STATE=new $n(Hd,Ir,0,0);function Wd(y){const t=he.getCharCode(" "),r=he.getCharCode("."),s=he.getCharCode(",");y[Ir][t]=1;const o=he.getCharCode("Z"),l=he.getCharCode("A");for(let v=l;v<=o;v++)y[Ir][v]=v-l+2;y[mo][t]=1;const u=he.getCharCode("z"),f=he.getCharCode("a");for(let v=f;v<=u;v++)y[mo][v]=v-f+2;y[Rn][t]=1;const d=he.getCharCode("9"),g=he.getCharCode("0");for(let v=g;v<=d;v++)y[Rn][v]=v-g+2;y[Rn][s]=12,y[Rn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<w.length;v++)y[t1][he.getCharCode(w[v])]=v;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<C.length;v++)he.getCharCode(C[v])>0&&(y[Jn][he.getCharCode(C[v])]=v);return y}const ll=Wd(T.createInt32Array(5,256));class ps{constructor(t){this.text=t}encode(){const t=he.getCharCode(" "),r=he.getCharCode(`
`);let s=e1.singletonList($n.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case he.getCharCode("\r"):u=f===r?2:0;break;case he.getCharCode("."):u=f===t?3:0;break;case he.getCharCode(","):u=f===t?4:0;break;case he.getCharCode(":"):u=f===t?5:0;break;default:u=0}u>0?(s=ps.updateStateListForPair(s,l,u),l++):s=this.updateStateListForChar(s,l)}return e1.min(s,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const s=[];for(let o of t)this.updateStateForChar(o,r,s);return ps.simplifyStates(s)}updateStateForChar(t,r,s){let o=this.text[r]&255,l=ll[t.getMode()][o]>0,u=null;for(let f=0;f<=Jn;f++){let d=ll[f][o];if(d>0){if(u==null&&(u=t.endBinaryShift(r)),!l||f===t.getMode()||f===Rn){const g=u.latchAndAppend(f,d);s.push(g)}if(!l&&n1[t.getMode()][f]>=0){const g=u.shiftAndAppend(f,d);s.push(g)}}}if(t.getBinaryShiftByteCount()>0||ll[t.getMode()][o]===0){let f=t.addBinaryShiftChar(r);s.push(f)}}static updateStateListForPair(t,r,s){const o=[];for(let l of t)this.updateStateForPair(l,r,s,o);return this.simplifyStates(o)}static updateStateForPair(t,r,s,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Jn,s)),t.getMode()!==Jn&&o.push(l.shiftAndAppend(Jn,s)),s===3||s===4){let u=l.latchAndAppend(Rn,16-s).latchAndAppend(Rn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const s of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}o&&r.push(s)}return r}}class Be{constructor(){}static encodeBytes(t){return Be.encode(t,Be.DEFAULT_EC_PERCENT,Be.DEFAULT_AZTEC_LAYERS)}static encode(t,r,s){let o=new ps(t).encode(),l=N.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+l,f,d,g,w,C;if(s!==Be.DEFAULT_AZTEC_LAYERS){if(f=s<0,d=Math.abs(s),d>(f?Be.MAX_NB_BITS_COMPACT:Be.MAX_NB_BITS))throw new S(he.format("Illegal value %s for layers",s));g=Be.totalBitsInLayer(d,f),w=Be.WORD_SIZE[d];let Z=g-g%w;if(C=Be.stuffBits(o,w),C.getSize()+l>Z)throw new S("Data to large for user specified layer");if(f&&C.getSize()>w*64)throw new S("Data to large for user specified layer")}else{w=0,C=null;for(let Z=0;;Z++){if(Z>Be.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(f=Z<=3,d=f?Z+1:Z,g=Be.totalBitsInLayer(d,f),u>g)continue;(C==null||w!==Be.WORD_SIZE[d])&&(w=Be.WORD_SIZE[d],C=Be.stuffBits(o,w));let Oe=g-g%w;if(!(f&&C.getSize()>w*64)&&C.getSize()+l<=Oe)break}}let v=Be.generateCheckWords(C,g,w),I=C.getSize()/w,O=Be.generateModeMessage(f,d,I),b=(f?11:14)+d*4,P=new Int32Array(b),j;if(f){j=b;for(let Z=0;Z<P.length;Z++)P[Z]=Z}else{j=b+1+2*N.truncDivision(N.truncDivision(b,2)-1,15);let Z=N.truncDivision(b,2),Oe=N.truncDivision(j,2);for(let ve=0;ve<Z;ve++){let rn=ve+N.truncDivision(ve,15);P[Z-ve-1]=Oe-rn-1,P[Z+ve]=Oe+rn+1}}let J=new Fe(j);for(let Z=0,Oe=0;Z<d;Z++){let ve=(d-Z)*4+(f?9:12);for(let rn=0;rn<ve;rn++){let Un=rn*2;for(let sn=0;sn<2;sn++)v.get(Oe+Un+sn)&&J.set(P[Z*2+sn],P[Z*2+rn]),v.get(Oe+ve*2+Un+sn)&&J.set(P[Z*2+rn],P[b-1-Z*2-sn]),v.get(Oe+ve*4+Un+sn)&&J.set(P[b-1-Z*2-sn],P[b-1-Z*2-rn]),v.get(Oe+ve*6+Un+sn)&&J.set(P[b-1-Z*2-rn],P[Z*2+sn])}Oe+=ve*8}if(Be.drawModeMessage(J,f,j,O),f)Be.drawBullsEye(J,N.truncDivision(j,2),5);else{Be.drawBullsEye(J,N.truncDivision(j,2),7);for(let Z=0,Oe=0;Z<N.truncDivision(b,2)-1;Z+=15,Oe+=16)for(let ve=N.truncDivision(j,2)&1;ve<j;ve+=2)J.set(N.truncDivision(j,2)-Oe,ve),J.set(N.truncDivision(j,2)+Oe,ve),J.set(ve,N.truncDivision(j,2)-Oe),J.set(ve,N.truncDivision(j,2)+Oe)}let ee=new $c;return ee.setCompact(f),ee.setSize(j),ee.setLayers(d),ee.setCodeWords(I),ee.setMatrix(J),ee}static drawBullsEye(t,r,s){for(let o=0;o<s;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-s,r-s),t.set(r-s+1,r-s),t.set(r-s,r-s+1),t.set(r+s,r-s),t.set(r+s,r-s+1),t.set(r+s,r+s-1)}static generateModeMessage(t,r,s){let o=new V;return t?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Be.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Be.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,s,o){let l=N.truncDivision(s,2);if(r)for(let u=0;u<7;u++){let f=l-3+u;o.get(u)&&t.set(f,l-5),o.get(u+7)&&t.set(l+5,f),o.get(20-u)&&t.set(f,l+5),o.get(27-u)&&t.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+N.truncDivision(u,5);o.get(u)&&t.set(f,l-7),o.get(u+10)&&t.set(l+7,f),o.get(29-u)&&t.set(f,l+7),o.get(39-u)&&t.set(l-7,f)}}static generateCheckWords(t,r,s){let o=t.getSize()/s,l=new rl(Be.getGF(s)),u=N.truncDivision(r,s),f=Be.bitsToWords(t,s,u);l.encode(f,u-o);let d=r%s,g=new V;g.appendBits(0,d);for(const w of Array.from(f))g.appendBits(w,s);return g}static bitsToWords(t,r,s){let o=new Int32Array(s),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let f=0;for(let d=0;d<r;d++)f|=t.get(l*r+d)?1<<r-d-1:0;o[l]=f}return o}static getGF(t){switch(t){case 4:return ke.AZTEC_PARAM;case 6:return ke.AZTEC_DATA_6;case 8:return ke.AZTEC_DATA_8;case 10:return ke.AZTEC_DATA_10;case 12:return ke.AZTEC_DATA_12;default:throw new S("Unsupported word size "+t)}}static stuffBits(t,r){let s=new V,o=t.getSize(),l=(1<<r)-2;for(let u=0;u<o;u+=r){let f=0;for(let d=0;d<r;d++)(u+d>=o||t.get(u+d))&&(f|=1<<r-1-d);(f&l)===l?(s.appendBits(f&l,r),u--):f&l?s.appendBits(f,r):(s.appendBits(f|1,r),u--)}return s}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Be.DEFAULT_EC_PERCENT=33,Be.DEFAULT_AZTEC_LAYERS=0,Be.MAX_NB_BITS=32,Be.MAX_NB_BITS_COMPACT=4,Be.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class wo{encode(t,r,s,o){return this.encodeWithHints(t,r,s,o,null)}encodeWithHints(t,r,s,o,l){let u=sl.ISO_8859_1,f=Be.DEFAULT_EC_PERCENT,d=Be.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Nt.CHARACTER_SET)&&(u=Jc.forName(l.get(Nt.CHARACTER_SET).toString())),l.has(Nt.ERROR_CORRECTION)&&(f=N.parseInt(l.get(Nt.ERROR_CORRECTION).toString())),l.has(Nt.AZTEC_LAYERS)&&(d=N.parseInt(l.get(Nt.AZTEC_LAYERS).toString()))),wo.encodeLayers(t,r,s,o,u,f,d)}static encodeLayers(t,r,s,o,l,u,f){if(r!==ce.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let d=Be.encode(he.getBytes(t,l),u,f);return wo.renderResult(d,s,o)}static renderResult(t,r,s){let o=t.getMatrix();if(o==null)throw new fn;let l=o.getWidth(),u=o.getHeight(),f=Math.max(r,l),d=Math.max(s,u),g=Math.min(f/l,d/u),w=(f-l*g)/2,C=(d-u*g)/2,v=new Fe(f,d);for(let I=0,O=C;I<u;I++,O+=g)for(let b=0,P=w;b<l;b++,P+=g)o.get(b,I)&&v.setRegion(P,O,g,g);return v}}i.AbstractExpandedDecoder=Ya,i.ArgumentException=A,i.ArithmeticException=xi,i.AztecCode=$c,i.AztecCodeReader=Kr,i.AztecCodeWriter=wo,i.AztecDecoder=Xe,i.AztecDetector=as,i.AztecDetectorResult=is,i.AztecEncoder=Be,i.AztecHighLevelEncoder=ps,i.AztecPoint=bt,i.BarcodeFormat=ce,i.Binarizer=U,i.BinaryBitmap=R,i.BitArray=V,i.BitMatrix=Fe,i.BitSource=qa,i.BrowserAztecCodeReader=lo,i.BrowserBarcodeReader=Cd,i.BrowserCodeReader=Ot,i.BrowserDatamatrixCodeReader=vd,i.BrowserMultiFormatReader=kd,i.BrowserPDF417Reader=Bd,i.BrowserQRCodeReader=Pd,i.BrowserQRCodeSvgWriter=ei,i.CharacterSetECI=G,i.ChecksumException=k,i.Code128Reader=ne,i.Code39Reader=ft,i.DataMatrixDecodedBitStreamParser=Ar,i.DataMatrixReader=vr,i.DecodeHintType=K,i.DecoderResult=Ge,i.DefaultGridSampler=os,i.DetectorResult=ar,i.EAN13Reader=Me,i.EncodeHintType=Nt,i.Exception=x,i.FormatException=z,i.GenericGF=ke,i.GenericGFPoly=St,i.GlobalHistogramBinarizer=We,i.GridSampler=ss,i.GridSamplerInstance=Fn,i.HTMLCanvasElementLuminanceSource=ge,i.HybridBinarizer=pe,i.ITFReader=Ve,i.IllegalArgumentException=S,i.IllegalStateException=fn,i.InvertedLuminanceSource=fe,i.LuminanceSource=ie,i.MathUtils=Ne,i.MultiFormatOneDReader=Ei,i.MultiFormatReader=qc,i.MultiFormatWriter=Fd,i.NotFoundException=W,i.OneDReader=ot,i.PDF417DecodedBitStreamParser=H,i.PDF417DecoderErrorCorrection=Gc,i.PDF417Reader=Ft,i.PDF417ResultMetadata=Yc,i.PerspectiveTransform=dn,i.PlanarYUVLuminanceSource=qn,i.QRCodeByteMatrix=xo,i.QRCodeDataMask=Nn,i.QRCodeDecodedBitStreamParser=at,i.QRCodeDecoderErrorCorrectionLevel=Qe,i.QRCodeDecoderFormatInformation=jt,i.QRCodeEncoder=$e,i.QRCodeEncoderQRCode=$r,i.QRCodeMaskUtil=gt,i.QRCodeMatrixUtil=me,i.QRCodeMode=xe,i.QRCodeReader=Sr,i.QRCodeVersion=de,i.QRCodeWriter=Ai,i.RGBLuminanceSource=il,i.RSS14Reader=dt,i.RSSExpandedReader=Y,i.ReaderException=po,i.ReedSolomonDecoder=Zr,i.ReedSolomonEncoder=rl,i.ReedSolomonException=yr,i.Result=Le,i.ResultMetadataType=st,i.ResultPoint=ue,i.StringUtils=he,i.UnsupportedOperationException=ye,i.VideoInputDevice=He,i.WhiteRectangleDetector=hn,i.WriterException=Ze,i.ZXingArrays=T,i.ZXingCharset=Jc,i.ZXingInteger=N,i.ZXingStandardCharsets=sl,i.ZXingStringBuilder=Se,i.ZXingStringEncoding=Ce,i.ZXingSystem=F,i.createAbstractExpandedDecoder=jc,Object.defineProperty(i,"__esModule",{value:!0})})})(Hu,Hu.exports);var tt=Hu.exports;const bx=Rf(tt),Dx=Yd({__proto__:null,default:bx},[tt]);var Af=function(){function e(n,i,a){if(this.formatMap=new Map([[oe.QR_CODE,tt.BarcodeFormat.QR_CODE],[oe.AZTEC,tt.BarcodeFormat.AZTEC],[oe.CODABAR,tt.BarcodeFormat.CODABAR],[oe.CODE_39,tt.BarcodeFormat.CODE_39],[oe.CODE_93,tt.BarcodeFormat.CODE_93],[oe.CODE_128,tt.BarcodeFormat.CODE_128],[oe.DATA_MATRIX,tt.BarcodeFormat.DATA_MATRIX],[oe.MAXICODE,tt.BarcodeFormat.MAXICODE],[oe.ITF,tt.BarcodeFormat.ITF],[oe.EAN_13,tt.BarcodeFormat.EAN_13],[oe.EAN_8,tt.BarcodeFormat.EAN_8],[oe.PDF_417,tt.BarcodeFormat.PDF_417],[oe.RSS_14,tt.BarcodeFormat.RSS_14],[oe.RSS_EXPANDED,tt.BarcodeFormat.RSS_EXPANDED],[oe.UPC_A,tt.BarcodeFormat.UPC_A],[oe.UPC_E,tt.BarcodeFormat.UPC_E],[oe.UPC_EAN_EXTENSION,tt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Dx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var c=this.createZXingFormats(n),h=new Map;h.set(tt.DecodeHintType.POSSIBLE_FORMATS,c),h.set(tt.DecodeHintType.TRY_HARDER,!1),this.hints=h}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(a,c){try{a(i.decode(n))}catch(h){c(h)}})},e.prototype.decode=function(n){var i=new tt.MultiFormatReader(this.verbose,this.hints),a=new tt.HTMLCanvasElementLuminanceSource(n),c=new tt.BinaryBitmap(new tt.HybridBinarizer(a)),h=i.decode(c);return{text:h.text,format:gd.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var h=c[a];this.formatMap.has(h)?i.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Mx=function(e,n,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function E(A){try{x(a.next(A))}catch(S){p(S)}}function m(A){try{x(a.throw(A))}catch(S){p(S)}}function x(A){A.done?h(A.value):c(A.value).then(E,m)}x((a=a.apply(e,n||[])).next())})},kx=function(e,n){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(x){return function(A){return m([x,A])}}function m(x){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(h=x[0]&2?c.return:x[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,x[1])).done)return h;switch(c=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(A){x=[6,A],c=0}finally{a=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},vf=function(){function e(n,i,a){if(this.formatMap=new Map([[oe.QR_CODE,"qr_code"],[oe.AZTEC,"aztec"],[oe.CODABAR,"codabar"],[oe.CODE_39,"code_39"],[oe.CODE_93,"code_93"],[oe.CODE_128,"code_128"],[oe.DATA_MATRIX,"data_matrix"],[oe.ITF,"itf"],[oe.EAN_13,"ean_13"],[oe.EAN_8,"ean_8"],[oe.PDF_417,"pdf417"],[oe.UPC_A,"upc_a"],[oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Mx(this,void 0,void 0,function(){var i,a;return kx(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:gd.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,a=0,c=0,h=n;c<h.length;c++){var p=h[c],E=p.boundingBox.width*p.boundingBox.height;E>a&&(a=E,i=p)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var h=c[a];this.formatMap.has(h)?i.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Sf=function(e,n,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function E(A){try{x(a.next(A))}catch(S){p(S)}}function m(A){try{x(a.throw(A))}catch(S){p(S)}}function x(A){A.done?h(A.value):c(A.value).then(E,m)}x((a=a.apply(e,n||[])).next())})},_f=function(e,n){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(x){return function(A){return m([x,A])}}function m(x){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(h=x[0]&2?c.return:x[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,x[1])).done)return h;switch(c=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(A){x=[6,A],c=0}finally{a=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Bx=function(){function e(n,i,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&vf.isSupported()?(this.primaryDecoder=new vf(n,a,c),this.secondaryDecoder=new Af(n,a,c)):this.primaryDecoder=new Af(n,a,c)}return e.prototype.decodeAsync=function(n){return Sf(this,void 0,void 0,function(){var i;return _f(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return Sf(this,void 0,void 0,function(){var i,a;return _f(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,a=this.executionResults;i<a.length;i++){var c=a[i];n+=c}var h=n/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Hc=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Ia=function(e,n,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function E(A){try{x(a.next(A))}catch(S){p(S)}}function m(A){try{x(a.throw(A))}catch(S){p(S)}}function x(A){A.done?h(A.value):c(A.value).then(E,m)}x((a=a.apply(e,n||[])).next())})},Na=function(e,n){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(x){return function(A){return m([x,A])}}function m(x){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(h=x[0]&2?c.return:x[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,x[1])).done)return h;switch(c=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(A){x=[6,A],c=0}finally{a=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},xd=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),Px=function(e){Hc(n,e);function n(i,a){return e.call(this,i,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(xd),Lx=function(e){Hc(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(Px),Fx=function(e){Hc(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(xd),Ux=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Lx(this.track)},e.prototype.torchFeature=function(){return new Fx(this.track)},e}(),Vx=function(){function e(n,i,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,c),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,a,c){return Ia(this,void 0,void 0,function(){var h,p;return Na(this,function(E){switch(E.label){case 0:return h=new e(n,i,c),a.aspectRatio?(p={aspectRatio:a.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:E.sent(),E.label=2;case 2:return h.setupSurface(),[2,h]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,a=function(){setTimeout(n,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Ia(this,void 0,void 0,function(){return Na(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,a){var c=n.mediaStream.getVideoTracks(),h=c.length,p=0;n.mediaStream.getVideoTracks().forEach(function(E){n.mediaStream.removeTrack(E),E.stop(),++p,p>=h&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new Ux(this.getFirstTrackOrFail())},e}(),zx=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,a){return Ia(this,void 0,void 0,function(){return Na(this,function(c){return[2,Vx.create(n,this.mediaStream,i,a)]})})},e.create=function(n){return Ia(this,void 0,void 0,function(){var i,a;return Na(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),If=function(e,n,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function E(A){try{x(a.next(A))}catch(S){p(S)}}function m(A){try{x(a.throw(A))}catch(S){p(S)}}function x(A){A.done?h(A.value):c(A.value).then(E,m)}x((a=a.apply(e,n||[])).next())})},Nf=function(e,n){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(x){return function(A){return m([x,A])}}function m(x){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(h=x[0]&2?c.return:x[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,x[1])).done)return h;switch(c=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(A){x=[6,A],c=0}finally{a=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Hx=function(){function e(){}return e.failIfNotSupported=function(){return If(this,void 0,void 0,function(){return Nf(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return If(this,void 0,void 0,function(){return Nf(this,function(i){return[2,zx.create(n)]})})},e}(),jx=function(e,n,i,a){function c(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function E(A){try{x(a.next(A))}catch(S){p(S)}}function m(A){try{x(a.throw(A))}catch(S){p(S)}}function x(A){A.done?h(A.value):c(A.value).then(E,m)}x((a=a.apply(e,n||[])).next())})},Wx=function(e,n){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(x){return function(A){return m([x,A])}}function m(x){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(h=x[0]&2?c.return:x[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,x[1])).done)return h;switch(c=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){i.label=x[1];break}if(x[0]===6&&i.label<h[1]){i.label=h[1],h=x;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(x);break}h[2]&&i.ops.pop(),i.trys.pop();continue}x=n.call(e,i)}catch(A){x=[6,A],c=0}finally{a=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Gx=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Vi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Vi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return jx(this,void 0,void 0,function(){var n,i,a,c,h,p,E;return Wx(this,function(m){switch(m.label){case 0:return n=function(x){for(var A=x.getVideoTracks(),S=0,R=A;S<R.length;S++){var k=R[S];k.enabled=!1,k.stop(),x.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=m.sent(),c=[],h=0,p=a;h<p.length;h++)E=p[h],E.kind==="videoinput"&&c.push({id:E.deviceId,label:E.label});return n(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var a=function(h){for(var p=[],E=0,m=h;E<m.length;E++){var x=m[E];x.kind==="video"&&p.push({id:x.id,label:x.label})}n(p)},c=MediaStreamTrack;c.getSources(a)})},e}(),xt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(xt||(xt={}));var Xx=function(){function e(){this.state=xt.NOT_STARTED,this.onGoingTransactionNewState=xt.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===xt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=xt.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===xt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=xt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==xt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case xt.UNKNOWN:throw"Transition from unknown is not allowed";case xt.NOT_STARTED:this.failIfNewStateIs(n,[xt.PAUSED]);break;case xt.SCANNING:break;case xt.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var a=0,c=i;a<c.length;a++){var h=c[a];if(n===h)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),Yx=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===xt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==xt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===xt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===xt.PAUSED},e}(),Zx=function(){function e(){}return e.create=function(){return new Yx(new Xx)},e}(),Kx=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),mn=function(e){Kx(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Tx),Qx=function(){function e(n,i){this.logger=i,this.fps=mn.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=mn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!lr(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),qx=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Ox(this.verbose),this.qrcode=new Bx(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Zx.create()}return e.prototype.start=function(n,i,a,c){var h=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;c?p=c:p=this.verbose?this.logger.log:function(){};var E=Qx.create(i,this.logger);this.clearElement();var m=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=m,A=document.getElementById(this.elementId);A.clientWidth?A.clientWidth:mn.DEFAULT_WIDTH,A.style.position="relative",this.shouldScan=!0,this.element=A;var S=this,R=this.stateManagerProxy.startTransition(xt.SCANNING);return new Promise(function(k,U){var F=x?E.videoConstraints:S.createVideoConstraints(n);if(!F){R.cancel(),U("videoConstraints should be defined");return}var te={};(!x||E.aspectRatio)&&(te.aspectRatio=E.aspectRatio);var D={onRenderSurfaceReady:function(T,N){S.setupUi(T,N,E),S.isScanning=!0,S.foreverScan(E,a,p)}};Hx.failIfNotSupported().then(function(T){T.create(F).then(function(N){return N.render(h.element,te,D).then(function(V){S.renderedCamera=V,R.execute(),k(null)}).catch(function(V){R.cancel(),U(V)})}).catch(function(N){R.cancel(),U(Vi.errorGettingUserMedia(N))})}).catch(function(T){R.cancel(),U(Vi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(xt.PAUSED),this.showPausedState(),(lr(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(xt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(xt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var h=document.getElementById(mn.SHADED_REGION_ELEMENT_ID);h&&n.element.removeChild(h)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,i){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(lr(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,h){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var p=new Image;p.onload=function(){var E=p.width,m=p.height,x=document.getElementById(a.elementId),A=x.clientWidth?x.clientWidth:mn.DEFAULT_WIDTH,S=Math.max(x.clientHeight?x.clientHeight:m,mn.FILE_SCAN_MIN_HEIGHT),R=a.computeCanvasDrawConfig(E,m,A,S);if(i){var k=a.createCanvasElement(A,S,"qr-canvas-visible");k.style.display="inline-block",x.appendChild(k);var U=k.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=A,U.canvas.height=S,U.drawImage(p,0,0,E,m,R.x,R.y,R.width,R.height)}var F=mn.FILE_SCAN_HIDDEN_CANVAS_PADDING,te=Math.max(p.width,R.width),D=Math.max(p.height,R.height),T=te+2*F,N=D+2*F,V=a.createCanvasElement(T,N);x.appendChild(V);var $=V.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=T,$.canvas.height=N,$.drawImage(p,0,0,E,m,F,F,te,D);try{a.qrcode.decodeRobustlyAsync(V).then(function(K){c(Cf.createFromQrcodeResult(K))}).catch(h)}catch(K){h("QR code parse error, error = ".concat(K))}},p.onerror=h,p.onabort=h,p.onstalled=h,p.onsuspend=h,p.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Gx.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!pd.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[oe.QR_CODE,oe.AZTEC,oe.CODABAR,oe.CODE_39,oe.CODE_93,oe.CODE_128,oe.DATA_MATRIX,oe.MAXICODE,oe.ITF,oe.EAN_13,oe.EAN_8,oe.PDF_417,oe.RSS_14,oe.RSS_EXPANDED,oe.UPC_A,oe.UPC_E,oe.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,h=n.formatsToSupport;c<h.length;c++){var p=h[c];Nx(p)?a.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(lr(n))return!0;if(!lr(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(lr(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return lr(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,a){var c=this,h=a.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(n,i,h),E=function(x){if(x<mn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(mn.MIN_QR_BOX_SIZE,"px.")},m=function(x){return x>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};E(p.width),E(p.height),p.width=m(p.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,a);var c=lr(a.qrbox)?{width:n,height:i}:a.qrbox;this.validateQrboxConfig(c);var h=this.toQrdimensions(n,i,c);h.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=a.isShadedBoxEnabled()&&h.height<=i,E={x:0,y:0,width:n,height:i},m=p?this.getShadedRegionBounds(n,i,h):E,x=this.createCanvasElement(m.width,m.height),A={willReadFrequently:!0},S=x.getContext("2d",A);S.canvas.width=m.width,S.canvas.height=m.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,n,i,h),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=S,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=Vi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,Cf.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var h=Vi.codeParseError(c);return i(h,Rx.createFrom(h)),!1})},e.prototype.foreverScan=function(n,i,a){var c=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),p=h.videoWidth/h.clientWidth,E=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*p,x=this.qrRegion.height*E,A=this.qrRegion.x*p,S=this.qrRegion.y*E;this.context.drawImage(h,A,S,m,x,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,i,a)},c.getTimeoutFps(n.fps))};this.scanContext(i,a).then(function(k){!k&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,a).finally(function(){R()})):R()}).catch(function(k){c.logger.logError("Error happend while scanning context",k),R()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",a="deviceId",c={user:!0,environment:!0},h="exact",p=function(U){if(U in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(U,"'")},E=Object.keys(n);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var m=Object.keys(n)[0];if(m!==i&&m!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(m===i){var x=n.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(h in x){if(p(x["".concat(h)]))return{facingMode:{exact:x["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var A=typeof x;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var S=n.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(h in S)return{deviceId:{exact:S["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var R=typeof S;throw"Invalid type of 'deviceId' = ".concat(R)}}}var k=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(n,i,a,c){if(n<=a&&i<=c){var h=(a-n)/2,p=(c-i)/2;return{x:h,y:p,width:n,height:i}}else{var E=n,m=i;return n>a&&(i=a/n*i,n=a),i>c&&(n=c/i*n,i=c),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(m)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?mn.BORDER_SHADER_MATCH_COLOR:mn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,a){var c=n,h=i,p=document.createElement("canvas");return p.style.width="".concat(c,"px"),p.style.height="".concat(h,"px"),p.style.display="none",p.id=lr(a)?"qr-canvas":a,p},e.prototype.getShadedRegionBounds=function(n,i,a){if(a.width>n||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,i,a,c){if(!(i-c.width<1||a-c.height<1)){var h=document.createElement("div");h.style.position="absolute";var p=(i-c.width)/2,E=(a-c.height)/2;if(h.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(mn.SHADED_REGION_ELEMENT_ID),i-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var m=5,x=40;this.insertShaderBorders(h,x,m,-m,null,0,!0),this.insertShaderBorders(h,x,m,-m,null,0,!1),this.insertShaderBorders(h,x,m,null,-m,0,!0),this.insertShaderBorders(h,x,m,null,-m,0,!1),this.insertShaderBorders(h,m,x+m,-m,null,-m,!0),this.insertShaderBorders(h,m,x+m,null,-m,-m,!0),this.insertShaderBorders(h,m,x+m,-m,null,-m,!1),this.insertShaderBorders(h,m,x+m,null,-m,-m,!1),this.hasBorderShaders=!0}n.append(h)}},e.prototype.insertShaderBorders=function(n,i,a,c,h,p,E){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=mn.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(i,"px"),m.style.height="".concat(a,"px"),c!==null&&(m.style.top="".concat(c,"px")),h!==null&&(m.style.bottom="".concat(h,"px")),E?m.style.left="".concat(p,"px"):m.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),n.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Tf;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Tf||(Tf={}));const xn="",Jx=()=>{const e=navigator.userAgent;return e.includes("iPhone")?"iPhone":e.includes("iPad")?"iPad":e.includes("Android")?"Android":e.includes("Mac")?"Mac":e.includes("Windows")?"Windows PC":e.includes("Linux")?"Linux":"Unknown Device"},Fl={name:Jx(),platform:navigator.platform},Ul={open:!1,loading:!1,mode:"text",content:"",metadata:null,metadataDetails:null,error:null,blobUrl:null};function $x(){var Fn,bt,as,Kr,lo,ot,ne,ft,Ve,Je;const e=()=>{var X;if(typeof window>"u")return!1;const M=window.localStorage.getItem("ropix-dark-mode");return M!==null?M==="true":((X=window.matchMedia)==null?void 0:X.call(window,"(prefers-color-scheme: dark)").matches)??!1},[n,i]=Ee.useState([]),[a,c]=Ee.useState(!1),[h,p]=Ee.useState(""),[E,m]=Ee.useState(0),[x,A]=Ee.useState(Ul),[S,R]=Ee.useState(null),[k,U]=Ee.useState(()=>e()),[F,te]=Ee.useState(null),[D,T]=Ee.useState(!0),[N,V]=Ee.useState(""),[$,K]=Ee.useState(!1),[z,Q]=Ee.useState(""),[G,ye]=Ee.useState([]),[Ce,he]=Ee.useState(!1),[Se,Fe]=Ee.useState(!1),[W,We]=Ee.useState(!1),[pe,ie]=Ee.useState(""),fe=Ee.useRef(null),ge=Ee.useRef(null),He=Ee.useRef(null),Ae=Ee.useRef(null),Ot=Ee.useRef(mx((M,X,le)=>{const re=URL.createObjectURL(X),Me=document.createElement("a");Me.href=re,Me.download=le,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(re),console.info(`Verified download completed for ${M}`)})),Le=Ee.useCallback(M=>{const X=Number(M);if(!Number.isFinite(X)||X<=0)return"0 Bytes";const le=1024,re=["Bytes","KB","MB","GB","TB"],Me=Math.min(Math.floor(Math.log(X)/Math.log(le)),re.length-1);return`${parseFloat((X/le**Me).toFixed(2))} ${re[Me]}`},[]),Sn=Ee.useCallback(M=>{if(!M)return M;const X=typeof M.size=="number"?M.size:Number.isFinite(Number(M.size_bytes))?Number(M.size_bytes):Number(M.size)||0;return{...M,size:Number.isFinite(X)&&X>=0?X:0,size_display:M.size_display||Le(X),uploaded_at:M.uploaded_at||M.created_at||M.created||null,safe_path:M.safe_path||M.filename,mime_type:M.mime_type||"application/octet-stream"}},[Le]),ce=Ee.useMemo(()=>[".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".odt",".ods",".odp",".rtf",".txt"],[]),Ln=Ee.useCallback((M,X="")=>{const le=(X||(M==null?void 0:M.mime_type)||"").toLowerCase(),re=((M==null?void 0:M.filename)||(M==null?void 0:M.safe_path)||"").toLowerCase();return le.startsWith("image/")||/\.(png|jpe?g|gif|bmp|webp|svg)$/.test(re)?"image":le.startsWith("video/")||/\.(mp4|webm|ogg|mov|avi|mkv)$/.test(re)?"video":le.startsWith("audio/")||/\.(mp3|wav|flac|m4a|aac|ogg)$/.test(re)?"audio":le==="application/pdf"||re.endsWith(".pdf")?"pdf":ce.some(Me=>re.endsWith(Me))?"document":le.startsWith("text/")?"text":"binary"},[ce]),st=Ee.useCallback(async()=>{const M=await fetch(`${xn}/api/files`);if(!M.ok)throw new Error("Unable to load files");const X=await M.json();i((X.files||[]).map(Sn))},[Sn]);Ee.useEffect(()=>{st().catch(M=>console.error(M))},[st]);const Ge=Ee.useCallback((M,X="info")=>{R({message:M,variant:X}),setTimeout(()=>R(null),3500)},[]),[Et,St]=Ee.useState({open:!1,loading:!1,data:null,error:null}),xi=Ee.useCallback(async M=>{St({open:!0,loading:!0,data:null,error:null});try{const X=await fetch(`${xn}/metadata/${M.file_id}`);if(!X.ok)throw new Error("Failed to fetch metadata");const le=await X.json();St({open:!0,loading:!1,data:le,error:null})}catch(X){St({open:!0,loading:!1,data:null,error:X.message})}},[]),ke=()=>St({open:!1,loading:!1,data:null,error:null});Ee.useEffect(()=>{const M=$o();return Ae.current=M,M.on("file_available",X=>{const le=Sn(X);i(re=>{const Me=re.filter(Zt=>Zt.file_id!==le.file_id);return[le,...Me]})}),M.on("file_deleted",({file_id:X})=>{i(le=>le.filter(re=>re.file_id!==X))}),M.on("files_cleared",()=>{i([]),Ge("All files cleared","info")}),M.on("file_manifest",X=>{Ot.current.handleManifest(X).catch(le=>Ge(le.message,"error"))}),M.on("file_chunk",X=>{Ot.current.handleChunk(X).catch(le=>Ge(le.message,"error"))}),M.on("file_transfer_complete",({file_id:X})=>{try{Ot.current.finalize(X)}catch(le){Ge(le.message,"error")}}),M.on("file_error",({error:X})=>Ge(X,"error")),M.on("room_joined",({room_code:X,file_count:le,device_count:re})=>{console.log(`Joined room ${X} with ${le} files, ${re} devices`)}),M.on("room_error",({error:X})=>{Ge(X,"error")}),M.on("devices_updated",({devices:X})=>{ye(X||[])}),()=>{M.disconnect()}},[Ge,Sn]),Ee.useEffect(()=>{F&&Ae.current&&(Ae.current.emit("join_room",{room_code:F,device_info:Fl}),st())},[F,st]);const yr=async()=>{K(!0),Q("");try{const M=await fetch(`${xn}/api/room/create`,{method:"POST"}),X=await M.json();M.ok&&X.success?(te(X.room_code),T(!1),Ge(`Room ${X.room_code} created!`,"success")):Q(X.error||"Failed to create room")}catch(M){Q(M.message)}finally{K(!1)}},fn=async()=>{if(!N.trim()){Q("Please enter a room code");return}K(!0),Q("");try{const M=await fetch(`${xn}/api/room/join/${N.trim().toUpperCase()}`,{method:"POST"}),X=await M.json();M.ok&&X.success?(te(X.room_code),T(!1),Ge(`Joined room ${X.room_code}`,"success")):Q(X.error||"Room not found")}catch(M){Q(M.message)}finally{K(!1)}},Zr=async()=>{F&&Ae.current&&Ae.current.emit("leave_room",{room_code:F}),await fetch(`${xn}/api/room/leave`,{method:"POST"}),te(null),i([]),V(""),T(!0)},_t=()=>{F&&(navigator.clipboard.writeText(F),Ge("Room code copied!","success"))},Xe=async()=>{We(!0),ie(""),setTimeout(async()=>{try{const M=new qx("qr-reader");fe.current=M,await M.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},X=>{mi(X)},X=>{})}catch(M){console.error("Scanner error:",M),ie(M.message||"Failed to access camera. Please allow camera permissions.")}},100)},Ne=async()=>{if(fe.current)try{await fe.current.stop(),fe.current=null}catch(M){console.error("Error stopping scanner:",M)}We(!1),ie("")},mi=async M=>{await Ne();let X=M;try{const re=new URL(M).searchParams.get("room");re&&(X=re)}catch{}if(X=X.toUpperCase().trim(),/^[A-Z0-9]{6}$/.test(X)){V(X),K(!0);try{const le=await fetch(`${xn}/api/room/join/${X}`,{method:"POST"}),re=await le.json();le.ok&&re.success?(te(re.room_code),T(!1),Ge(`Joined room ${re.room_code}`,"success")):Ge(re.error||"Room not found","error")}catch(le){Ge(le.message,"error")}finally{K(!1)}}else Ge("Invalid QR code. Expected a room code.","error")};Ee.useEffect(()=>{(document.querySelector(".app-shell")||document.body).classList.add("terminal-mode")},[]),Ee.useEffect(()=>{if(typeof document>"u")return;const M=document.documentElement,X=document.body,le=k?"dark":"light";M.dataset.theme=le,X.dataset.theme=le,M.classList.toggle("dark-mode",k),X.classList.toggle("dark-mode",k),typeof window<"u"&&window.localStorage.setItem("ropix-dark-mode",String(k))},[k]);const ue=Ee.useCallback(()=>{U(M=>!M)},[]),ar=Ee.useCallback(async M=>{if(!M||!M.length)return;const X=M.length;let le=0;p(`Uploading ${X} file(s)`),m(0);for(const re of M){const Me=new FormData;Me.append("file",re),Me.append("device_info",Fl.name),Me.append("path",re.webkitRelativePath||re.name);try{await new Promise((Zt,_n)=>{const ht=new XMLHttpRequest;ht.upload.onprogress=gn=>{if(gn.lengthComputable){const Dt=gn.loaded/gn.total*100,Er=(le+Dt/100)/X*100;m(Math.round(Er))}},ht.onload=()=>{if(ht.status>=200&&ht.status<300){const gn=JSON.parse(ht.responseText);gn.success?Zt(gn):_n(new Error(gn.error||"Upload failed"))}else _n(new Error("Upload failed"))},ht.onerror=()=>_n(new Error("Network error")),ht.open("POST",`${xn}/upload`),ht.send(Me)}),le++,m(Math.round(le/X*100))}catch(Zt){Ge(Zt.message,"error")}}p(""),m(0),Ge("Upload complete","success")},[Ge]),is=Ee.useCallback(M=>{ar(M.target.files),M.target.value=""},[ar]),hn=Ee.useCallback(M=>{var X,le;M.preventDefault(),c(!1),(le=(X=M.dataTransfer)==null?void 0:X.files)!=null&&le.length&&ar(M.dataTransfer.files)},[ar]),ss=Ee.useCallback(async M=>{var X;A(le=>({...le,open:!0,loading:!0,error:null,content:"",blobUrl:(le.blobUrl&&URL.revokeObjectURL(le.blobUrl),null),metadata:{name:M.filename,type:M.file_type,safe_path:M.safe_path,file_id:M.file_id}}));try{if(M.file_type==="text"||M.file_type==="code"||((X=M.mime_type)==null?void 0:X.startsWith("text/"))){const re=await fetch(`${xn}/preview/${M.file_id}`);if(!re.ok)throw new Error("Preview failed");const Me=await re.json();A(Zt=>({...Zt,loading:!1,mode:"text",content:Me.content,metadata:{...Me.info,safe_path:M.safe_path,file_id:M.file_id}}))}else{const re=await fetch(`${xn}/preview/${M.file_id}`);if(!re.ok)throw new Error("Preview failed");const Me=await re.blob(),Zt=URL.createObjectURL(Me),_n=Me.type||M.mime_type||"",ht=Ln(M,_n);A(gn=>({...gn,loading:!1,mode:ht,blobUrl:Zt,metadata:{name:M.filename,type:M.file_type,mime_type:_n||M.mime_type,size:M.size,size_display:M.size_display||Le(M.size),safe_path:M.safe_path,file_id:M.file_id}}))}}catch(le){A(re=>({...re,loading:!1,error:le.message}))}},[Ln,Le]);Ee.useCallback(()=>{A(M=>(M.blobUrl&&URL.revokeObjectURL(M.blobUrl),Ul))},[]);const dn=Ee.useCallback(async M=>{if(!window.confirm(`Delete ${M.filename}?`))return;const X=new FormData;X.append("device_info",Fl.name);const le=await fetch(`${xn}/delete/${M.file_id}`,{method:"POST",body:X});if(le.ok)Ge("File deleted","success");else{const re=await le.json().catch(()=>({}));Ge(re.error||"Delete failed","error")}},[Ge]),os=Ee.useCallback(M=>{const X=typeof M=="string"?M:M==null?void 0:M.file_id;if(!X){Ge("Missing file identifier","error");return}window.open(`${xn}/download/${X}`,"_blank")},[Ge]);return Ee.useMemo(()=>({onDragOver:M=>{M.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:hn}),[hn]),B.jsxs("div",{className:"app-shell",onDrop:hn,onDragOver:M=>M.preventDefault(),children:[D&&B.jsx("div",{className:"room-modal-overlay",children:B.jsxs("div",{className:"room-modal",children:[B.jsx("h2",{children:" Join or Create Room"}),B.jsx("p",{children:"Share files securely with others using a room code."}),z&&B.jsx("div",{className:"room-error",children:z}),B.jsxs("div",{className:"room-actions",children:[B.jsxs("div",{className:"room-section",children:[B.jsx("h3",{children:"Create New Room"}),B.jsx("p",{children:"Generate a new room code to share with others"}),B.jsx("button",{className:"btn btn-primary btn-large",onClick:yr,disabled:$,children:$?"Creating...":" Create Room"})]}),B.jsx("div",{className:"room-divider",children:"or"}),B.jsxs("div",{className:"room-section",children:[B.jsx("h3",{children:"Join Existing Room"}),B.jsx("p",{children:"Enter a 6-character room code or scan QR"}),B.jsxs("div",{className:"room-join-form",children:[B.jsx("input",{type:"text",className:"room-code-input",value:N,onChange:M=>V(M.target.value.toUpperCase()),placeholder:"ABCD12",maxLength:6,onKeyDown:M=>M.key==="Enter"&&fn()}),B.jsx("button",{className:"btn btn-primary",onClick:fn,disabled:$||!N.trim(),children:$?"Joining...":"Join"})]}),B.jsx("button",{className:"btn btn-outline btn-scan-qr",onClick:Xe,disabled:$,children:" Scan QR Code"})]})]})]})}),W&&B.jsx("div",{className:"scanner-modal-overlay",children:B.jsxs("div",{className:"scanner-modal",children:[B.jsxs("div",{className:"scanner-header",children:[B.jsx("h3",{children:" Scan Room QR Code"}),B.jsx("button",{className:"btn btn-sm btn-outline",onClick:Ne,children:" Close"})]}),pe?B.jsxs("div",{className:"scanner-error",children:[B.jsx("p",{children:pe}),B.jsx("button",{className:"btn btn-primary",onClick:Ne,children:"Close"})]}):B.jsxs("div",{className:"scanner-content",children:[B.jsx("div",{id:"qr-reader",className:"qr-reader-container"}),B.jsx("p",{className:"scanner-hint",children:"Point your camera at a room QR code"})]})]})}),B.jsxs("header",{className:"hero",children:[B.jsxs("div",{children:[B.jsx("h1",{children:"Ropix Share"}),B.jsx("p",{className:"tagline",children:"Simple, secure file sharing"})]}),B.jsx("div",{className:"hero-actions",children:B.jsx("button",{className:"btn btn-outline theme-toggle",type:"button",onClick:ue,"aria-label":"Toggle dark mode",children:k?"Theme 2":"Theme 1"})})]}),F&&B.jsxs("div",{className:"room-banner",children:[B.jsxs("div",{className:"room-info",children:[B.jsx("span",{className:"room-label",children:"Room:"}),B.jsx("span",{className:"room-code",children:F}),B.jsx("button",{className:"btn btn-sm btn-outline",onClick:_t,title:"Copy room code",children:" Copy"}),B.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>he(!Ce),title:"Show QR Code",children:Ce?" Hide QR":" QR"}),B.jsxs("button",{className:"btn btn-sm btn-outline",onClick:()=>Fe(!Se),title:"Show Devices",children:[" ",G.length," device",G.length!==1?"s":""]})]}),B.jsx("button",{className:"btn btn-sm btn-warning",onClick:Zr,children:"Leave Room"})]}),Ce&&F&&B.jsx("div",{className:"qr-panel",children:B.jsxs("div",{className:"qr-content",children:[B.jsx("h3",{children:"Scan to Join Room"}),B.jsx(dd,{value:`${window.location.origin}?room=${F}`,size:180,bgColor:"transparent",fgColor:"var(--color-primary)",level:"M"}),B.jsx("p",{className:"qr-code-text",children:F})]})}),Se&&F&&B.jsxs("div",{className:"devices-panel",children:[B.jsxs("h3",{children:["Connected Devices (",G.length,")"]}),G.length===0?B.jsx("p",{className:"no-devices",children:"No other devices connected yet"}):B.jsx("ul",{className:"device-list",children:G.map(M=>{var X,le,re,Me,Zt,_n;return B.jsxs("li",{className:"device-item",children:[B.jsx("span",{className:"device-icon",children:(X=M.platform)!=null&&X.includes("Mac")||(le=M.name)!=null&&le.includes("Mac")?"":(re=M.name)!=null&&re.includes("iPhone")||(Me=M.name)!=null&&Me.includes("iPad")||(Zt=M.name)!=null&&Zt.includes("Android")?"":(_n=M.name)!=null&&_n.includes("Windows")?"":""}),B.jsx("span",{className:"device-name",children:M.name})]},M.id)})})]}),B.jsxs("div",{className:"card-grid",children:[B.jsxs("section",{className:"card card-upload",children:[B.jsx("h2",{children:"Upload Files"}),B.jsxs("div",{className:`drop-zone ${a?"dragover":""}`,onClick:()=>{var M;return(M=ge.current)==null?void 0:M.click()},children:[B.jsx("p",{children:" Drop files here or click to select"}),B.jsxs("div",{className:"action-row",children:[B.jsx("button",{className:"btn btn-primary",onClick:M=>{var X;M.stopPropagation(),(X=ge.current)==null||X.click()},children:"Select Files"}),B.jsx("button",{className:"btn btn-outline",onClick:M=>{var X;M.stopPropagation(),(X=He.current)==null||X.click()},children:"Select Folder"})]}),B.jsx("input",{type:"file",ref:ge,onChange:is,style:{display:"none"},multiple:!0}),B.jsx("input",{type:"file",ref:He,onChange:is,style:{display:"none"},webkitdirectory:"true",mozdirectory:"true",directory:"true"})]}),h&&B.jsxs("div",{className:"upload-progress-container",children:[B.jsxs("div",{className:"upload-progress-text",children:[h," ",E,"%"]}),B.jsx("div",{className:"progress-bar",children:B.jsx("div",{className:"progress-fill",style:{width:`${E}%`}})})]})]}),B.jsxs("section",{className:"card card-files",children:[B.jsxs("div",{className:"files-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[B.jsx("h2",{children:"Shared Files"}),n.length>1&&B.jsxs("div",{className:"bulk-actions",style:{display:"flex",gap:"0.5rem"},children:[B.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>window.location.href=`${xn}/api/download-all`,children:"Download All"}),B.jsx("button",{className:"btn btn-sm btn-warning",onClick:async()=>{confirm("Delete all files? This cannot be undone.")&&await fetch(`${xn}/api/delete-all`,{method:"POST"})},children:"Delete All"})]})]}),h&&B.jsx("p",{className:"upload-status",children:h}),n.length===0?B.jsx("p",{children:"No files shared yet. Upload some files to get started."}):B.jsx("div",{className:"file-list",children:n.map(M=>B.jsxs("div",{className:"file-item",children:[B.jsxs("div",{className:"file-head",children:[B.jsx("h3",{className:"file-name",children:M.filename}),B.jsx("span",{className:"file-size",children:M.size_display||Le(M.size)})]}),B.jsxs("p",{className:"file-date",children:["Uploaded:"," ",M.uploaded_at?new Date(M.uploaded_at).toLocaleString():"Unknown"]}),B.jsxs("div",{className:"file-actions",children:[B.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>os(M),disabled:x.loading,children:"Download"}),B.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>dn(M),disabled:x.loading,children:"Delete"}),B.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>ss(M),disabled:x.loading,children:"Preview"}),B.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>xi(M),title:"Check Metadata",children:""})]})]},M.file_id))})]})]}),B.jsx("div",{className:`preview-modal ${x.open?"open":""}`,children:x.open&&B.jsxs("div",{className:"card",onClick:M=>M.stopPropagation(),children:[B.jsxs("div",{className:"preview-header",children:[B.jsxs("h2",{children:["Preview: ",(Fn=x.metadata)==null?void 0:Fn.name]}),B.jsx("button",{className:"btn btn-sm btn-outline preview-close",onClick:()=>A(Ul),children:"Close"})]}),x.loading?B.jsx("div",{className:"preview-empty",children:B.jsx("p",{children:"Loading preview..."})}):x.error?B.jsx("div",{className:"preview-empty error",children:x.error}):x.mode==="text"?B.jsx("div",{className:"preview-text",children:x.content}):x.mode==="image"?B.jsx("div",{className:"preview-media image",children:B.jsx("img",{src:x.blobUrl,alt:(bt=x.metadata)==null?void 0:bt.name})}):x.mode==="video"?B.jsx("div",{className:"preview-media video",children:B.jsx("video",{src:x.blobUrl,controls:!0})}):x.mode==="audio"?B.jsx("div",{className:"preview-media audio",children:B.jsx("audio",{src:x.blobUrl,controls:!0})}):x.mode==="pdf"||x.mode==="document"?B.jsxs("div",{className:"preview-document",children:[B.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:B.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>window.open(x.blobUrl,"_blank"),children:" Open in New Tab"})}),B.jsx("iframe",{title:`Preview ${(as=x.metadata)==null?void 0:as.name}`,src:x.blobUrl}),B.jsx("p",{className:"document-hint",children:"If the document does not render, use the button above or download it."})]}):x.mode==="binary"?B.jsxs("div",{className:"preview-empty",children:[B.jsx("p",{children:"Preview for this file type is not supported in-browser yet."}),B.jsx("p",{children:"Use the download option to view the file locally."})]}):B.jsx("div",{className:"preview-empty",children:B.jsx("p",{children:"No preview available."})}),B.jsxs("div",{className:"preview-info-grid",children:[B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"File Name"}),B.jsx("div",{children:(Kr=x.metadata)==null?void 0:Kr.name})]}),B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"File Type"}),B.jsx("div",{children:((lo=x.metadata)==null?void 0:lo.type)||"Unknown"})]}),(((ot=x.metadata)==null?void 0:ot.size_display)||((ne=x.metadata)==null?void 0:ne.size))&&B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"File Size"}),B.jsx("div",{children:((ft=x.metadata)==null?void 0:ft.size_display)||Le((Ve=x.metadata)==null?void 0:Ve.size)})]})]}),B.jsx("div",{className:"preview-actions",children:B.jsx("button",{className:"btn btn-primary",onClick:()=>{var M;(M=x.metadata)!=null&&M.file_id&&os(x.metadata.file_id)},disabled:!((Je=x.metadata)!=null&&Je.file_id),children:"Download File"})})]})}),B.jsx("div",{className:`preview-modal ${Et.open?"open":""}`,children:Et.open&&B.jsxs("div",{className:"card",onClick:M=>M.stopPropagation(),style:{maxWidth:"600px"},children:[B.jsxs("div",{className:"preview-header",children:[B.jsx("h2",{children:"File Metadata"}),B.jsx("button",{className:"btn btn-sm btn-outline preview-close",onClick:ke,children:"Close"})]}),Et.loading?B.jsx("div",{className:"preview-empty",children:B.jsx("p",{children:"Loading metadata..."})}):Et.error?B.jsx("div",{className:"preview-empty error",children:Et.error}):Et.data?B.jsxs("div",{className:"metadata-content",children:[B.jsxs("section",{children:[B.jsx("h3",{children:"Basic Info"}),B.jsxs("div",{className:"preview-info-grid",children:[B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"Filename"}),B.jsx("div",{children:Et.data.filename})]}),B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"Type"}),B.jsx("div",{children:Et.data.base_info.type})]}),B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"MIME"}),B.jsx("div",{children:Et.data.base_info.mime_type})]}),B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"Size"}),B.jsx("div",{children:Et.data.base_info.size})]}),B.jsxs("div",{children:[B.jsx("div",{className:"preview-label",children:"Uploaded"}),B.jsx("div",{children:new Date(Et.data.base_info.uploaded).toLocaleString()})]})]})]}),Et.data.details&&Object.keys(Et.data.details).length>0&&B.jsxs("section",{style:{marginTop:"1rem"},children:[B.jsx("h3",{children:"Extended Details"}),B.jsx("div",{className:"metadata-tree",children:(()=>{const M=X=>X==null?B.jsx("span",{className:"meta-null",children:"n/a"}):typeof X=="boolean"?B.jsx("span",{className:"meta-bool",children:X?"Yes":"No"}):typeof X=="string"||typeof X=="number"?B.jsx("span",{children:X}):Array.isArray(X)?B.jsx("ul",{className:"meta-list",children:X.map((le,re)=>B.jsx("li",{children:M(le)},re))}):typeof X=="object"?B.jsx("div",{className:"meta-object",children:Object.entries(X).map(([le,re])=>B.jsxs("div",{className:"meta-row",children:[B.jsxs("span",{className:"meta-key",children:[le,":"]}),B.jsx("span",{className:"meta-val",children:M(re)})]},le))}):String(X);return Object.entries(Et.data.details).map(([X,le])=>B.jsxs("div",{className:"meta-section-item",children:[B.jsx("h4",{className:"meta-section-title",children:X}),B.jsx("div",{className:"meta-section-content",children:M(le)})]},X))})()})]})]}):null]})}),S&&B.jsx("div",{className:`toast ${S.variant}`,children:S.message})]})}Vl.createRoot(document.getElementById("root")).render(B.jsx(Ct.StrictMode,{children:B.jsx($x,{})}));
